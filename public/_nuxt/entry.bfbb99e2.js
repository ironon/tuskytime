function hg(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function pr(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=It(r)?bO(r):pr(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(It(t))return t;if(vt(t))return t}}const vO=/;(?![^(]*\))/g,_O=/:([^]+)/,wO=/\/\*.*?\*\//gs;function bO(t){const e={};return t.replace(wO,"").split(vO).forEach(n=>{if(n){const r=n.split(_O);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ct(t){let e="";if(It(t))e=t;else if(Oe(t))for(let n=0;n<t.length;n++){const r=ct(t[n]);r&&(e+=r+" ")}else if(vt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Jn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!It(e)&&(t.class=ct(e)),n&&(t.style=pr(n)),t}const TO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",EO=hg(TO);function kT(t){return!!t||t===""}const Gt=t=>It(t)?t:t==null?"":Oe(t)||vt(t)&&(t.toString===AT||!Le(t.toString))?JSON.stringify(t,OT,2):String(t),OT=(t,e)=>e&&e.__v_isRef?OT(t,e.value):Us(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:RT(e)?{[`Set(${e.size})`]:[...e.values()]}:vt(e)&&!Oe(e)&&!PT(e)?String(e):e,gt={},Ls=[],nr=()=>{},SO=()=>!1,IO=/^on[^a-z]/,Ya=t=>IO.test(t),dg=t=>t.startsWith("onUpdate:"),en=Object.assign,pg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},CO=Object.prototype.hasOwnProperty,Xe=(t,e)=>CO.call(t,e),Oe=Array.isArray,Us=t=>Tf(t)==="[object Map]",RT=t=>Tf(t)==="[object Set]",Le=t=>typeof t=="function",It=t=>typeof t=="string",mg=t=>typeof t=="symbol",vt=t=>t!==null&&typeof t=="object",gg=t=>vt(t)&&Le(t.then)&&Le(t.catch),AT=Object.prototype.toString,Tf=t=>AT.call(t),kO=t=>Tf(t).slice(8,-1),PT=t=>Tf(t)==="[object Object]",yg=t=>It(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Jo=hg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ef=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},OO=/-(\w)/g,br=Ef(t=>t.replace(OO,(e,n)=>n?n.toUpperCase():"")),RO=/\B([A-Z])/g,gs=Ef(t=>t.replace(RO,"-$1").toLowerCase()),Sf=Ef(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ih=Ef(t=>t?`on${Sf(t)}`:""),_a=(t,e)=>!Object.is(t,e),Fs=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},zu=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Qs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Nv;const AO=()=>Nv||(Nv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Nn;class PO{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Nn,!e&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Nn;try{return Nn=this,e()}finally{Nn=n}}}on(){Nn=this}off(){Nn=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function DO(t,e=Nn){e&&e.active&&e.effects.push(t)}function NO(){return Nn}function xO(t){Nn&&Nn.cleanups.push(t)}const vg=t=>{const e=new Set(t);return e.w=0,e.n=0,e},DT=t=>(t.w&_i)>0,NT=t=>(t.n&_i)>0,MO=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=_i},$O=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];DT(i)&&!NT(i)?i.delete(t):e[n++]=i,i.w&=~_i,i.n&=~_i}e.length=n}},Dd=new WeakMap;let Ko=0,_i=1;const Nd=30;let Zn;const Xi=Symbol(""),xd=Symbol("");class _g{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,DO(this,r)}run(){if(!this.active)return this.fn();let e=Zn,n=fi;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Zn,Zn=this,fi=!0,_i=1<<++Ko,Ko<=Nd?MO(this):xv(this),this.fn()}finally{Ko<=Nd&&$O(this),_i=1<<--Ko,Zn=this.parent,fi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Zn===this?this.deferStop=!0:this.active&&(xv(this),this.onStop&&this.onStop(),this.active=!1)}}function xv(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let fi=!0;const xT=[];function vo(){xT.push(fi),fi=!1}function _o(){const t=xT.pop();fi=t===void 0?!0:t}function Ln(t,e,n){if(fi&&Zn){let r=Dd.get(t);r||Dd.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=vg()),MT(i)}}function MT(t,e){let n=!1;Ko<=Nd?NT(t)||(t.n|=_i,n=!DT(t)):n=!t.has(Zn),n&&(t.add(Zn),Zn.deps.push(t))}function Vr(t,e,n,r,i,s){const o=Dd.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Oe(t)){const l=Qs(r);o.forEach((u,f)=>{(f==="length"||f>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Oe(t)?yg(n)&&a.push(o.get("length")):(a.push(o.get(Xi)),Us(t)&&a.push(o.get(xd)));break;case"delete":Oe(t)||(a.push(o.get(Xi)),Us(t)&&a.push(o.get(xd)));break;case"set":Us(t)&&a.push(o.get(Xi));break}if(a.length===1)a[0]&&Md(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Md(vg(l))}}function Md(t,e){const n=Oe(t)?t:[...t];for(const r of n)r.computed&&Mv(r);for(const r of n)r.computed||Mv(r)}function Mv(t,e){(t!==Zn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const LO=hg("__proto__,__v_isRef,__isVue"),$T=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mg)),UO=wg(),FO=wg(!1,!0),BO=wg(!0),$v=VO();function VO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=et(this);for(let s=0,o=this.length;s<o;s++)Ln(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(et)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){vo();const r=et(this)[e].apply(this,n);return _o(),r}}),t}function wg(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?rR:VT:e?BT:FT).get(r))return r;const o=Oe(r);if(!t&&o&&Xe($v,i))return Reflect.get($v,i,s);const a=Reflect.get(r,i,s);return(mg(i)?$T.has(i):LO(i))||(t||Ln(r,"get",i),e)?a:ht(a)?o&&yg(i)?a:a.value:vt(a)?t?jT(a):En(a):a}}const jO=LT(),HO=LT(!0);function LT(t=!1){return function(n,r,i,s){let o=n[r];if(Xs(o)&&ht(o)&&!ht(i))return!1;if(!t&&(!Gu(i)&&!Xs(i)&&(o=et(o),i=et(i)),!Oe(n)&&ht(o)&&!ht(i)))return o.value=i,!0;const a=Oe(n)&&yg(r)?Number(r)<n.length:Xe(n,r),l=Reflect.set(n,r,i,s);return n===et(s)&&(a?_a(i,o)&&Vr(n,"set",r,i):Vr(n,"add",r,i)),l}}function WO(t,e){const n=Xe(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Vr(t,"delete",e,void 0),r}function qO(t,e){const n=Reflect.has(t,e);return(!mg(e)||!$T.has(e))&&Ln(t,"has",e),n}function KO(t){return Ln(t,"iterate",Oe(t)?"length":Xi),Reflect.ownKeys(t)}const UT={get:UO,set:jO,deleteProperty:WO,has:qO,ownKeys:KO},YO={get:BO,set(t,e){return!0},deleteProperty(t,e){return!0}},zO=en({},UT,{get:FO,set:HO}),bg=t=>t,If=t=>Reflect.getPrototypeOf(t);function Tl(t,e,n=!1,r=!1){t=t.__v_raw;const i=et(t),s=et(e);n||(e!==s&&Ln(i,"get",e),Ln(i,"get",s));const{has:o}=If(i),a=r?bg:n?Ig:wa;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function El(t,e=!1){const n=this.__v_raw,r=et(n),i=et(t);return e||(t!==i&&Ln(r,"has",t),Ln(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Sl(t,e=!1){return t=t.__v_raw,!e&&Ln(et(t),"iterate",Xi),Reflect.get(t,"size",t)}function Lv(t){t=et(t);const e=et(this);return If(e).has.call(e,t)||(e.add(t),Vr(e,"add",t,t)),this}function Uv(t,e){e=et(e);const n=et(this),{has:r,get:i}=If(n);let s=r.call(n,t);s||(t=et(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?_a(e,o)&&Vr(n,"set",t,e):Vr(n,"add",t,e),this}function Fv(t){const e=et(this),{has:n,get:r}=If(e);let i=n.call(e,t);i||(t=et(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Vr(e,"delete",t,void 0),s}function Bv(){const t=et(this),e=t.size!==0,n=t.clear();return e&&Vr(t,"clear",void 0,void 0),n}function Il(t,e){return function(r,i){const s=this,o=s.__v_raw,a=et(o),l=e?bg:t?Ig:wa;return!t&&Ln(a,"iterate",Xi),o.forEach((u,f)=>r.call(i,l(u),l(f),s))}}function Cl(t,e,n){return function(...r){const i=this.__v_raw,s=et(i),o=Us(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),f=n?bg:e?Ig:wa;return!e&&Ln(s,"iterate",l?xd:Xi),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:a?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function Xr(t){return function(...e){return t==="delete"?!1:this}}function GO(){const t={get(s){return Tl(this,s)},get size(){return Sl(this)},has:El,add:Lv,set:Uv,delete:Fv,clear:Bv,forEach:Il(!1,!1)},e={get(s){return Tl(this,s,!1,!0)},get size(){return Sl(this)},has:El,add:Lv,set:Uv,delete:Fv,clear:Bv,forEach:Il(!1,!0)},n={get(s){return Tl(this,s,!0)},get size(){return Sl(this,!0)},has(s){return El.call(this,s,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:Il(!0,!1)},r={get(s){return Tl(this,s,!0,!0)},get size(){return Sl(this,!0)},has(s){return El.call(this,s,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:Il(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Cl(s,!1,!1),n[s]=Cl(s,!0,!1),e[s]=Cl(s,!1,!0),r[s]=Cl(s,!0,!0)}),[t,n,e,r]}const[QO,XO,JO,ZO]=GO();function Tg(t,e){const n=e?t?ZO:JO:t?XO:QO;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Xe(n,i)&&i in r?n:r,i,s)}const eR={get:Tg(!1,!1)},tR={get:Tg(!1,!0)},nR={get:Tg(!0,!1)},FT=new WeakMap,BT=new WeakMap,VT=new WeakMap,rR=new WeakMap;function iR(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sR(t){return t.__v_skip||!Object.isExtensible(t)?0:iR(kO(t))}function En(t){return Xs(t)?t:Eg(t,!1,UT,eR,FT)}function oR(t){return Eg(t,!1,zO,tR,BT)}function jT(t){return Eg(t,!0,YO,nR,VT)}function Eg(t,e,n,r,i){if(!vt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=sR(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Bs(t){return Xs(t)?Bs(t.__v_raw):!!(t&&t.__v_isReactive)}function Xs(t){return!!(t&&t.__v_isReadonly)}function Gu(t){return!!(t&&t.__v_isShallow)}function HT(t){return Bs(t)||Xs(t)}function et(t){const e=t&&t.__v_raw;return e?et(e):t}function Sg(t){return zu(t,"__v_skip",!0),t}const wa=t=>vt(t)?En(t):t,Ig=t=>vt(t)?jT(t):t;function WT(t){fi&&Zn&&(t=et(t),MT(t.dep||(t.dep=vg())))}function qT(t,e){t=et(t),t.dep&&Md(t.dep)}function ht(t){return!!(t&&t.__v_isRef===!0)}function me(t){return KT(t,!1)}function Qu(t){return KT(t,!0)}function KT(t,e){return ht(t)?t:new aR(t,e)}class aR{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:et(e),this._value=n?e:wa(e)}get value(){return WT(this),this._value}set value(e){const n=this.__v_isShallow||Gu(e)||Xs(e);e=n?e:et(e),_a(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:wa(e),qT(this))}}function A(t){return ht(t)?t.value:t}const lR={get:(t,e,n)=>A(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ht(i)&&!ht(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function YT(t){return Bs(t)?t:new Proxy(t,lR)}class uR{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function ba(t,e,n){const r=t[e];return ht(r)?r:new uR(t,e,n)}var zT;class cR{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[zT]=!1,this._dirty=!0,this.effect=new _g(e,()=>{this._dirty||(this._dirty=!0,qT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=et(this);return WT(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}zT="__v_isReadonly";function fR(t,e,n=!1){let r,i;const s=Le(t);return s?(r=t,i=nr):(r=t.get,i=t.set),new cR(r,i,s||!i,n)}function hi(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){wo(s,e,n)}return i}function Kn(t,e,n,r){if(Le(t)){const s=hi(t,e,n,r);return s&&gg(s)&&s.catch(o=>{wo(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Kn(t[s],e,n,r));return i}function wo(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){hi(l,null,10,[t,o,a]);return}}hR(t,n,i,r)}function hR(t,e,n,r=!0){console.error(t)}let Ta=!1,$d=!1;const ln=[];let ur=0;const Vs=[];let Or=null,Vi=0;const GT=Promise.resolve();let Cg=null;function Ii(t){const e=Cg||GT;return t?e.then(this?t.bind(this):t):e}function dR(t){let e=ur+1,n=ln.length;for(;e<n;){const r=e+n>>>1;Ea(ln[r])<t?e=r+1:n=r}return e}function Cf(t){(!ln.length||!ln.includes(t,Ta&&t.allowRecurse?ur+1:ur))&&(t.id==null?ln.push(t):ln.splice(dR(t.id),0,t),QT())}function QT(){!Ta&&!$d&&($d=!0,Cg=GT.then(JT))}function pR(t){const e=ln.indexOf(t);e>ur&&ln.splice(e,1)}function XT(t){Oe(t)?Vs.push(...t):(!Or||!Or.includes(t,t.allowRecurse?Vi+1:Vi))&&Vs.push(t),QT()}function Vv(t,e=Ta?ur+1:0){for(;e<ln.length;e++){const n=ln[e];n&&n.pre&&(ln.splice(e,1),e--,n())}}function Xu(t){if(Vs.length){const e=[...new Set(Vs)];if(Vs.length=0,Or){Or.push(...e);return}for(Or=e,Or.sort((n,r)=>Ea(n)-Ea(r)),Vi=0;Vi<Or.length;Vi++)Or[Vi]();Or=null,Vi=0}}const Ea=t=>t.id==null?1/0:t.id,mR=(t,e)=>{const n=Ea(t)-Ea(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function JT(t){$d=!1,Ta=!0,ln.sort(mR);const e=nr;try{for(ur=0;ur<ln.length;ur++){const n=ln[ur];n&&n.active!==!1&&hi(n,null,14)}}finally{ur=0,ln.length=0,Xu(),Ta=!1,Cg=null,(ln.length||Vs.length)&&JT()}}function gR(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||gt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:h}=r[f]||gt;h&&(i=n.map(d=>It(d)?d.trim():d)),c&&(i=n.map(Qs))}let a,l=r[a=Ih(e)]||r[a=Ih(br(e))];!l&&s&&(l=r[a=Ih(gs(e))]),l&&Kn(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Kn(u,t,6,i)}}function ZT(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Le(t)){const l=u=>{const f=ZT(u,e,!0);f&&(a=!0,en(o,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(vt(t)&&r.set(t,null),null):(Oe(s)?s.forEach(l=>o[l]=null):en(o,s),vt(t)&&r.set(t,o),o)}function kf(t,e){return!t||!Ya(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(t,e[0].toLowerCase()+e.slice(1))||Xe(t,gs(e))||Xe(t,e))}let Xt=null,Of=null;function Ju(t){const e=Xt;return Xt=t,Of=t&&t.type.__scopeId||null,e}function x5(t){Of=t}function M5(){Of=null}function ze(t,e=Xt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&e_(-1);const s=Ju(e);let o;try{o=t(...i)}finally{Ju(s),r._d&&e_(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ch(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:f,renderCache:c,data:h,setupState:d,ctx:p,inheritAttrs:T}=t;let O,_;const m=Ju(t);try{if(n.shapeFlag&4){const R=i||r;O=jn(f.call(R,R,c,s,d,h,p)),_=l}else{const R=e;O=jn(R.length>1?R(s,{attrs:l,slots:a,emit:u}):R(s,null)),_=e.props?l:vR(l)}}catch(R){ta.length=0,wo(R,t,1),O=it(Tn)}let w=O;if(_&&T!==!1){const R=Object.keys(_),{shapeFlag:x}=w;R.length&&x&7&&(o&&R.some(dg)&&(_=_R(_,o)),w=jr(w,_))}return n.dirs&&(w=jr(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),O=w,Ju(m),O}function yR(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(eo(r)){if(r.type!==Tn||r.children==="v-if"){if(e)return;e=r}}else return}return e}const vR=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ya(n))&&((e||(e={}))[n]=t[n]);return e},_R=(t,e)=>{const n={};for(const r in t)(!dg(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function wR(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?jv(r,o,u):!!o;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(o[h]!==r[h]&&!kf(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?jv(r,o,u):!0:!!o;return!1}function jv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!kf(n,s))return!0}return!1}function kg({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const eE=t=>t.__isSuspense,bR={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){t==null?TR(e,n,r,i,s,o,a,l,u):ER(t,e,n,r,i,o,a,l,u)},hydrate:SR,create:Og,normalize:IR},tE=bR;function Sa(t,e){const n=t.props&&t.props[e];Le(n)&&n()}function TR(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:f}}=l,c=f("div"),h=t.suspense=Og(t,i,r,e,c,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,c,null,r,h,s,o),h.deps>0?(Sa(t,"onPending"),Sa(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),js(h,t.ssFallback)):h.resolve()}function ER(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:f}}){const c=e.suspense=t.suspense;c.vnode=e,e.el=t.el;const h=e.ssContent,d=e.ssFallback,{activeBranch:p,pendingBranch:T,isInFallback:O,isHydrating:_}=c;if(T)c.pendingBranch=h,cr(h,T)?(l(T,h,c.hiddenContainer,null,i,c,s,o,a),c.deps<=0?c.resolve():O&&(l(p,d,n,r,i,null,s,o,a),js(c,d))):(c.pendingId++,_?(c.isHydrating=!1,c.activeBranch=T):u(T,i,c),c.deps=0,c.effects.length=0,c.hiddenContainer=f("div"),O?(l(null,h,c.hiddenContainer,null,i,c,s,o,a),c.deps<=0?c.resolve():(l(p,d,n,r,i,null,s,o,a),js(c,d))):p&&cr(h,p)?(l(p,h,n,r,i,c,s,o,a),c.resolve(!0)):(l(null,h,c.hiddenContainer,null,i,c,s,o,a),c.deps<=0&&c.resolve()));else if(p&&cr(h,p))l(p,h,n,r,i,c,s,o,a),js(c,h);else if(Sa(e,"onPending"),c.pendingBranch=h,c.pendingId++,l(null,h,c.hiddenContainer,null,i,c,s,o,a),c.deps<=0)c.resolve();else{const{timeout:m,pendingId:w}=c;m>0?setTimeout(()=>{c.pendingId===w&&c.fallback(d)},m):m===0&&c.fallback(d)}}function Og(t,e,n,r,i,s,o,a,l,u,f=!1){const{p:c,m:h,um:d,n:p,o:{parentNode:T,remove:O}}=u,_=Qs(t.props&&t.props.timeout),m={vnode:t,parent:e,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(w=!1){const{vnode:R,activeBranch:x,pendingBranch:v,pendingId:k,effects:C,parentComponent:F,container:H}=m;if(m.isHydrating)m.isHydrating=!1;else if(!w){const D=x&&v.transition&&v.transition.mode==="out-in";D&&(x.transition.afterLeave=()=>{k===m.pendingId&&h(v,H,S,0)});let{anchor:S}=m;x&&(S=p(x),d(x,F,m,!0)),D||h(v,H,S,0)}js(m,v),m.pendingBranch=null,m.isInFallback=!1;let M=m.parent,U=!1;for(;M;){if(M.pendingBranch){M.effects.push(...C),U=!0;break}M=M.parent}U||XT(C),m.effects=[],Sa(R,"onResolve")},fallback(w){if(!m.pendingBranch)return;const{vnode:R,activeBranch:x,parentComponent:v,container:k,isSVG:C}=m;Sa(R,"onFallback");const F=p(x),H=()=>{!m.isInFallback||(c(null,w,k,F,v,null,C,a,l),js(m,w))},M=w.transition&&w.transition.mode==="out-in";M&&(x.transition.afterLeave=H),m.isInFallback=!0,d(x,v,null,!0),M||H()},move(w,R,x){m.activeBranch&&h(m.activeBranch,w,R,x),m.container=w},next(){return m.activeBranch&&p(m.activeBranch)},registerDep(w,R){const x=!!m.pendingBranch;x&&m.deps++;const v=w.vnode.el;w.asyncDep.catch(k=>{wo(k,w,0)}).then(k=>{if(w.isUnmounted||m.isUnmounted||m.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:C}=w;Hd(w,k,!1),v&&(C.el=v);const F=!v&&w.subTree.el;R(w,C,T(v||w.subTree.el),v?null:p(w.subTree),m,o,l),F&&O(F),kg(w,C.el),x&&--m.deps===0&&m.resolve()})},unmount(w,R){m.isUnmounted=!0,m.activeBranch&&d(m.activeBranch,n,w,R),m.pendingBranch&&d(m.pendingBranch,n,w,R)}};return m}function SR(t,e,n,r,i,s,o,a,l){const u=e.suspense=Og(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),f=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(),f}function IR(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Hv(r?n.default:n),t.ssFallback=r?Hv(n.fallback):it(Tn)}function Hv(t){let e;if(Le(t)){const n=Zs&&t._c;n&&(t._d=!1,W()),t=t(),n&&(t._d=!0,e=Wn,SE())}return Oe(t)&&(t=yR(t)),t=jn(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function nE(t,e){e&&e.pendingBranch?Oe(t)?e.effects.push(...t):e.effects.push(t):XT(t)}function js(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,kg(r,i))}function Ji(t,e){if(xt){let n=xt.provides;const r=xt.parent&&xt.parent.provides;r===n&&(n=xt.provides=Object.create(r)),n[t]=e}}function rr(t,e,n=!1){const r=xt||Xt;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Le(e)?e.call(r.proxy):e}}function Wv(t,e){return Rg(t,null,e)}const kl={};function yr(t,e,n){return Rg(t,e,n)}function Rg(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=gt){const a=xt;let l,u=!1,f=!1;if(ht(t)?(l=()=>t.value,u=Gu(t)):Bs(t)?(l=()=>t,r=!0):Oe(t)?(f=!0,u=t.some(w=>Bs(w)||Gu(w)),l=()=>t.map(w=>{if(ht(w))return w.value;if(Bs(w))return Hi(w);if(Le(w))return hi(w,a,2)})):Le(t)?e?l=()=>hi(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return c&&c(),Kn(t,a,3,[h])}:l=nr,e&&r){const w=l;l=()=>Hi(w())}let c,h=w=>{c=_.onStop=()=>{hi(w,a,4)}},d;if(to)if(h=nr,e?n&&Kn(e,a,3,[l(),f?[]:void 0,h]):l(),i==="sync"){const w=mA();d=w.__watcherHandles||(w.__watcherHandles=[])}else return nr;let p=f?new Array(t.length).fill(kl):kl;const T=()=>{if(!!_.active)if(e){const w=_.run();(r||u||(f?w.some((R,x)=>_a(R,p[x])):_a(w,p)))&&(c&&c(),Kn(e,a,3,[w,p===kl?void 0:f&&p[0]===kl?[]:p,h]),p=w)}else _.run()};T.allowRecurse=!!e;let O;i==="sync"?O=T:i==="post"?O=()=>Kt(T,a&&a.suspense):(T.pre=!0,a&&(T.id=a.uid),O=()=>Cf(T));const _=new _g(l,O);e?n?T():p=_.run():i==="post"?Kt(_.run.bind(_),a&&a.suspense):_.run();const m=()=>{_.stop(),a&&a.scope&&pg(a.scope.effects,_)};return d&&d.push(m),m}function CR(t,e,n){const r=this.proxy,i=It(t)?t.includes(".")?rE(r,t):()=>r[t]:t.bind(r,r);let s;Le(e)?s=e:(s=e.handler,n=e);const o=xt;wi(this);const a=Rg(i,s.bind(r),n);return o?wi(o):di(),a}function rE(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Hi(t,e){if(!vt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ht(t))Hi(t.value,e);else if(Oe(t))for(let n=0;n<t.length;n++)Hi(t[n],e);else if(RT(t)||Us(t))t.forEach(n=>{Hi(n,e)});else if(PT(t))for(const n in t)Hi(t[n],e);return t}function kR(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sn(()=>{t.isMounted=!0}),Ga(()=>{t.isUnmounting=!0}),t}const Bn=[Function,Array],OR={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bn,onEnter:Bn,onAfterEnter:Bn,onEnterCancelled:Bn,onBeforeLeave:Bn,onLeave:Bn,onAfterLeave:Bn,onLeaveCancelled:Bn,onBeforeAppear:Bn,onAppear:Bn,onAfterAppear:Bn,onAppearCancelled:Bn},setup(t,{slots:e}){const n=Ci(),r=kR();let i;return()=>{const s=e.default&&oE(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const T of s)if(T.type!==Tn){o=T;break}}const a=et(t),{mode:l}=a;if(r.isLeaving)return kh(o);const u=qv(o);if(!u)return kh(o);const f=Ld(u,a,r,n);Zu(u,f);const c=n.subTree,h=c&&qv(c);let d=!1;const{getTransitionKey:p}=u.type;if(p){const T=p();i===void 0?i=T:T!==i&&(i=T,d=!0)}if(h&&h.type!==Tn&&(!cr(u,h)||d)){const T=Ld(h,a,r,n);if(Zu(h,T),l==="out-in")return r.isLeaving=!0,T.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},kh(o);l==="in-out"&&u.type!==Tn&&(T.delayLeave=(O,_,m)=>{const w=sE(r,h);w[String(h.key)]=h,O._leaveCb=()=>{_(),O._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=m})}return o}}},iE=OR;function sE(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ld(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:c,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:T,onAppear:O,onAfterAppear:_,onAppearCancelled:m}=e,w=String(t.key),R=sE(n,t),x=(C,F)=>{C&&Kn(C,r,9,F)},v=(C,F)=>{const H=F[1];x(C,F),Oe(C)?C.every(M=>M.length<=1)&&H():C.length<=1&&H()},k={mode:s,persisted:o,beforeEnter(C){let F=a;if(!n.isMounted)if(i)F=T||a;else return;C._leaveCb&&C._leaveCb(!0);const H=R[w];H&&cr(t,H)&&H.el._leaveCb&&H.el._leaveCb(),x(F,[C])},enter(C){let F=l,H=u,M=f;if(!n.isMounted)if(i)F=O||l,H=_||u,M=m||f;else return;let U=!1;const D=C._enterCb=S=>{U||(U=!0,S?x(M,[C]):x(H,[C]),k.delayedLeave&&k.delayedLeave(),C._enterCb=void 0)};F?v(F,[C,D]):D()},leave(C,F){const H=String(t.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return F();x(c,[C]);let M=!1;const U=C._leaveCb=D=>{M||(M=!0,F(),D?x(p,[C]):x(d,[C]),C._leaveCb=void 0,R[H]===t&&delete R[H])};R[H]=t,h?v(h,[C,U]):U()},clone(C){return Ld(C,e,n,r)}};return k}function kh(t){if(za(t))return t=jr(t),t.children=null,t}function qv(t){return za(t)?t.children?t.children[0]:void 0:t}function Zu(t,e){t.shapeFlag&6&&t.component?Zu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function oE(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Me?(o.patchFlag&128&&i++,r=r.concat(oE(o.children,e,a))):(e||o.type!==Tn)&&r.push(a!=null?jr(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function at(t){return Le(t)?{setup:t,name:t.name}:t}const Zi=t=>!!t.type.__asyncLoader;function aE(t){Le(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,f=0;const c=()=>(f++,l=null,h()),h=()=>{let d;return l||(d=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((T,O)=>{a(p,()=>T(c()),()=>O(p),f+1)});throw p}).then(p=>d!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return at({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const d=xt;if(u)return()=>Oh(u,d);const p=m=>{l=null,wo(m,d,13,!r)};if(o&&d.suspense||to)return h().then(m=>()=>Oh(m,d)).catch(m=>(p(m),()=>r?it(r,{error:m}):null));const T=me(!1),O=me(),_=me(!!i);return i&&setTimeout(()=>{_.value=!1},i),s!=null&&setTimeout(()=>{if(!T.value&&!O.value){const m=new Error(`Async component timed out after ${s}ms.`);p(m),O.value=m}},s),h().then(()=>{T.value=!0,d.parent&&za(d.parent.vnode)&&Cf(d.parent.update)}).catch(m=>{p(m),O.value=m}),()=>{if(T.value&&u)return Oh(u,d);if(O.value&&r)return it(r,{error:O.value});if(n&&!_.value)return it(n)}}})}function Oh(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=it(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const za=t=>t.type.__isKeepAlive,RR={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ci(),r=n.ctx;if(!r.renderer)return()=>{const m=e.default&&e.default();return m&&m.length===1?m[0]:m};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:f,o:{createElement:c}}}=r,h=c("div");r.activate=(m,w,R,x,v)=>{const k=m.component;u(m,w,R,0,a),l(k.vnode,m,w,R,k,a,x,m.slotScopeIds,v),Kt(()=>{k.isDeactivated=!1,k.a&&Fs(k.a);const C=m.props&&m.props.onVnodeMounted;C&&In(C,k.parent,m)},a)},r.deactivate=m=>{const w=m.component;u(m,h,null,1,a),Kt(()=>{w.da&&Fs(w.da);const R=m.props&&m.props.onVnodeUnmounted;R&&In(R,w.parent,m),w.isDeactivated=!0},a)};function d(m){Rh(m),f(m,n,a,!0)}function p(m){i.forEach((w,R)=>{const x=Wd(w.type);x&&(!m||!m(x))&&T(R)})}function T(m){const w=i.get(m);!o||w.type!==o.type?d(w):o&&Rh(o),i.delete(m),s.delete(m)}yr(()=>[t.include,t.exclude],([m,w])=>{m&&p(R=>Yo(m,R)),w&&p(R=>!Yo(w,R))},{flush:"post",deep:!0});let O=null;const _=()=>{O!=null&&i.set(O,Ah(n.subTree))};return Sn(_),cE(_),Ga(()=>{i.forEach(m=>{const{subTree:w,suspense:R}=n,x=Ah(w);if(m.type===x.type){Rh(x);const v=x.component.da;v&&Kt(v,R);return}d(m)})}),()=>{if(O=null,!e.default)return null;const m=e.default(),w=m[0];if(m.length>1)return o=null,m;if(!eo(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let R=Ah(w);const x=R.type,v=Wd(Zi(R)?R.type.__asyncResolved||{}:x),{include:k,exclude:C,max:F}=t;if(k&&(!v||!Yo(k,v))||C&&v&&Yo(C,v))return o=R,w;const H=R.key==null?x:R.key,M=i.get(H);return R.el&&(R=jr(R),w.shapeFlag&128&&(w.ssContent=R)),O=H,M?(R.el=M.el,R.component=M.component,R.transition&&Zu(R,R.transition),R.shapeFlag|=512,s.delete(H),s.add(H)):(s.add(H),F&&s.size>parseInt(F,10)&&T(s.values().next().value)),R.shapeFlag|=256,o=R,eE(w.type)?w:R}}},AR=RR;function Yo(t,e){return Oe(t)?t.some(n=>Yo(n,e)):It(t)?t.split(",").includes(e):t.test?t.test(e):!1}function PR(t,e){lE(t,"a",e)}function DR(t,e){lE(t,"da",e)}function lE(t,e,n=xt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Rf(e,r,n),n){let i=n.parent;for(;i&&i.parent;)za(i.parent.vnode)&&NR(r,e,n,i),i=i.parent}}function NR(t,e,n,r){const i=Rf(e,t,r,!0);Qa(()=>{pg(r[e],i)},n)}function Rh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ah(t){return t.shapeFlag&128?t.ssContent:t}function Rf(t,e,n=xt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;vo(),wi(n);const a=Kn(e,n,t,o);return di(),_o(),a});return r?i.unshift(s):i.push(s),s}}const zr=t=>(e,n=xt)=>(!to||t==="sp")&&Rf(t,(...r)=>e(...r),n),xR=zr("bm"),Sn=zr("m"),uE=zr("bu"),cE=zr("u"),Ga=zr("bum"),Qa=zr("um"),MR=zr("sp"),$R=zr("rtg"),LR=zr("rtc");function fE(t,e=xt){Rf("ec",t,e)}function Gl(t,e){const n=Xt;if(n===null)return t;const r=Pf(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=gt]=e[s];o&&(Le(o)&&(o={mounted:o,updated:o}),o.deep&&Hi(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function lr(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(vo(),Kn(l,n,8,[t.el,a,t,e]),_o())}}const Ag="components";function Pg(t,e){return dE(Ag,t,!0,e)||t}const hE=Symbol();function Ql(t){return It(t)?dE(Ag,t,!1)||t:t||hE}function dE(t,e,n=!0,r=!1){const i=Xt||xt;if(i){const s=i.type;if(t===Ag){const a=Wd(s,!1);if(a&&(a===e||a===br(e)||a===Sf(br(e))))return s}const o=Kv(i[t]||s[t],e)||Kv(i.appContext[t],e);return!o&&r?s:o}}function Kv(t,e){return t&&(t[e]||t[br(e)]||t[Sf(br(e))])}function Nt(t,e,n,r){let i;const s=n&&n[r];if(Oe(t)||It(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(vt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function Cn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Oe(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Te(t,e,n={},r,i){if(Xt.isCE||Xt.parent&&Zi(Xt.parent)&&Xt.parent.isCE)return e!=="default"&&(n.name=e),it("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),W();const o=s&&pE(s(n)),a=He(Me,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function pE(t){return t.some(e=>eo(e)?!(e.type===Tn||e.type===Me&&!pE(e.children)):!0)?t:null}const Ud=t=>t?kE(t)?Pf(t)||t.proxy:Ud(t.parent):null,Zo=en(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ud(t.parent),$root:t=>Ud(t.root),$emit:t=>t.emit,$options:t=>Dg(t),$forceUpdate:t=>t.f||(t.f=()=>Cf(t.update)),$nextTick:t=>t.n||(t.n=Ii.bind(t.proxy)),$watch:t=>CR.bind(t)}),Ph=(t,e)=>t!==gt&&!t.__isScriptSetup&&Xe(t,e),UR={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Ph(r,e))return o[e]=1,r[e];if(i!==gt&&Xe(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Xe(u,e))return o[e]=3,s[e];if(n!==gt&&Xe(n,e))return o[e]=4,n[e];Fd&&(o[e]=0)}}const f=Zo[e];let c,h;if(f)return e==="$attrs"&&Ln(t,"get",e),f(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==gt&&Xe(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Xe(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Ph(i,e)?(i[e]=n,!0):r!==gt&&Xe(r,e)?(r[e]=n,!0):Xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==gt&&Xe(t,o)||Ph(e,o)||(a=s[0])&&Xe(a,o)||Xe(r,o)||Xe(Zo,o)||Xe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Fd=!0;function FR(t){const e=Dg(t),n=t.proxy,r=t.ctx;Fd=!1,e.beforeCreate&&Yv(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:f,beforeMount:c,mounted:h,beforeUpdate:d,updated:p,activated:T,deactivated:O,beforeDestroy:_,beforeUnmount:m,destroyed:w,unmounted:R,render:x,renderTracked:v,renderTriggered:k,errorCaptured:C,serverPrefetch:F,expose:H,inheritAttrs:M,components:U,directives:D,filters:S}=e;if(u&&BR(u,r,null,t.appContext.config.unwrapInjectedRef),o)for(const g in o){const P=o[g];Le(P)&&(r[g]=P.bind(n))}if(i){const g=i.call(n,n);vt(g)&&(t.data=En(g))}if(Fd=!0,s)for(const g in s){const P=s[g],q=Le(P)?P.bind(n,n):Le(P.get)?P.get.bind(n,n):nr,te=!Le(P)&&Le(P.set)?P.set.bind(n):nr,ce=ue({get:q,set:te});Object.defineProperty(r,g,{enumerable:!0,configurable:!0,get:()=>ce.value,set:b=>ce.value=b})}if(a)for(const g in a)mE(a[g],r,n,g);if(l){const g=Le(l)?l.call(n):l;Reflect.ownKeys(g).forEach(P=>{Ji(P,g[P])})}f&&Yv(f,t,"c");function L(g,P){Oe(P)?P.forEach(q=>g(q.bind(n))):P&&g(P.bind(n))}if(L(xR,c),L(Sn,h),L(uE,d),L(cE,p),L(PR,T),L(DR,O),L(fE,C),L(LR,v),L($R,k),L(Ga,m),L(Qa,R),L(MR,F),Oe(H))if(H.length){const g=t.exposed||(t.exposed={});H.forEach(P=>{Object.defineProperty(g,P,{get:()=>n[P],set:q=>n[P]=q})})}else t.exposed||(t.exposed={});x&&t.render===nr&&(t.render=x),M!=null&&(t.inheritAttrs=M),U&&(t.components=U),D&&(t.directives=D)}function BR(t,e,n=nr,r=!1){Oe(t)&&(t=Bd(t));for(const i in t){const s=t[i];let o;vt(s)?"default"in s?o=rr(s.from||i,s.default,!0):o=rr(s.from||i):o=rr(s),ht(o)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function Yv(t,e,n){Kn(Oe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function mE(t,e,n,r){const i=r.includes(".")?rE(n,r):()=>n[r];if(It(t)){const s=e[t];Le(s)&&yr(i,s)}else if(Le(t))yr(i,t.bind(n));else if(vt(t))if(Oe(t))t.forEach(s=>mE(s,e,n,r));else{const s=Le(t.handler)?t.handler.bind(n):e[t.handler];Le(s)&&yr(i,s,t)}}function Dg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>ec(l,u,o,!0)),ec(l,e,o)),vt(e)&&s.set(e,l),l}function ec(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&ec(t,s,n,!0),i&&i.forEach(o=>ec(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=VR[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const VR={data:zv,props:Li,emits:Li,methods:Li,computed:Li,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,beforeUnmount:yn,destroyed:yn,unmounted:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:Li,directives:Li,watch:HR,provide:zv,inject:jR};function zv(t,e){return e?t?function(){return en(Le(t)?t.call(this,this):t,Le(e)?e.call(this,this):e)}:e:t}function jR(t,e){return Li(Bd(t),Bd(e))}function Bd(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function yn(t,e){return t?[...new Set([].concat(t,e))]:e}function Li(t,e){return t?en(en(Object.create(null),t),e):e}function HR(t,e){if(!t)return e;if(!e)return t;const n=en(Object.create(null),t);for(const r in e)n[r]=yn(t[r],e[r]);return n}function WR(t,e,n,r=!1){const i={},s={};zu(s,Af,1),t.propsDefaults=Object.create(null),gE(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:oR(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function qR(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=et(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(kf(t.emitsOptions,h))continue;const d=e[h];if(l)if(Xe(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const p=br(h);i[p]=Vd(l,a,p,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{gE(t,e,i,s)&&(u=!0);let f;for(const c in a)(!e||!Xe(e,c)&&((f=gs(c))===c||!Xe(e,f)))&&(l?n&&(n[c]!==void 0||n[f]!==void 0)&&(i[c]=Vd(l,a,c,void 0,t,!0)):delete i[c]);if(s!==a)for(const c in s)(!e||!Xe(e,c)&&!0)&&(delete s[c],u=!0)}u&&Vr(t,"set","$attrs")}function gE(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Jo(l))continue;const u=e[l];let f;i&&Xe(i,f=br(l))?!s||!s.includes(f)?n[f]=u:(a||(a={}))[f]=u:kf(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=et(n),u=a||gt;for(let f=0;f<s.length;f++){const c=s[f];n[c]=Vd(i,l,c,u[c],t,!Xe(u,c))}}return o}function Vd(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Xe(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&Le(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(wi(i),r=u[n]=l.call(null,e),di())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===gs(n))&&(r=!0))}return r}function yE(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Le(t)){const f=c=>{l=!0;const[h,d]=yE(c,e,!0);en(o,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return vt(t)&&r.set(t,Ls),Ls;if(Oe(s))for(let f=0;f<s.length;f++){const c=br(s[f]);Gv(c)&&(o[c]=gt)}else if(s)for(const f in s){const c=br(f);if(Gv(c)){const h=s[f],d=o[c]=Oe(h)||Le(h)?{type:h}:Object.assign({},h);if(d){const p=Jv(Boolean,d.type),T=Jv(String,d.type);d[0]=p>-1,d[1]=T<0||p<T,(p>-1||Xe(d,"default"))&&a.push(c)}}}const u=[o,a];return vt(t)&&r.set(t,u),u}function Gv(t){return t[0]!=="$"}function Qv(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Xv(t,e){return Qv(t)===Qv(e)}function Jv(t,e){return Oe(e)?e.findIndex(n=>Xv(n,t)):Le(e)&&Xv(e,t)?0:-1}const vE=t=>t[0]==="_"||t==="$stable",Ng=t=>Oe(t)?t.map(jn):[jn(t)],KR=(t,e,n)=>{if(e._n)return e;const r=ze((...i)=>Ng(e(...i)),n);return r._c=!1,r},_E=(t,e,n)=>{const r=t._ctx;for(const i in t){if(vE(i))continue;const s=t[i];if(Le(s))e[i]=KR(i,s,r);else if(s!=null){const o=Ng(s);e[i]=()=>o}}},wE=(t,e)=>{const n=Ng(e);t.slots.default=()=>n},YR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=et(e),zu(e,"_",n)):_E(e,t.slots={})}else t.slots={},e&&wE(t,e);zu(t.slots,Af,1)},zR=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=gt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(en(i,e),!n&&a===1&&delete i._):(s=!e.$stable,_E(e,i)),o=e}else e&&(wE(t,e),o={default:1});if(s)for(const a in i)!vE(a)&&!(a in o)&&delete i[a]};function bE(){return{app:null,config:{isNativeTag:SO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GR=0;function QR(t,e){return function(r,i=null){Le(r)||(r=Object.assign({},r)),i!=null&&!vt(i)&&(i=null);const s=bE(),o=new Set;let a=!1;const l=s.app={_uid:GR++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:gA,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&Le(u.install)?(o.add(u),u.install(l,...f)):Le(u)&&(o.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,c){if(!a){const h=it(r,i);return h.appContext=s,f&&e?e(h,u):t(h,u,c),a=!0,l._container=u,u.__vue_app__=l,Pf(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l}};return l}}function tc(t,e,n,r,i=!1){if(Oe(t)){t.forEach((h,d)=>tc(h,e&&(Oe(e)?e[d]:e),n,r,i));return}if(Zi(r)&&!i)return;const s=r.shapeFlag&4?Pf(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,f=a.refs===gt?a.refs={}:a.refs,c=a.setupState;if(u!=null&&u!==l&&(It(u)?(f[u]=null,Xe(c,u)&&(c[u]=null)):ht(u)&&(u.value=null)),Le(l))hi(l,a,12,[o,f]);else{const h=It(l),d=ht(l);if(h||d){const p=()=>{if(t.f){const T=h?Xe(c,l)?c[l]:f[l]:l.value;i?Oe(T)&&pg(T,s):Oe(T)?T.includes(s)||T.push(s):h?(f[l]=[s],Xe(c,l)&&(c[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else h?(f[l]=o,Xe(c,l)&&(c[l]=o)):d&&(l.value=o,t.k&&(f[t.k]=o))};o?(p.id=-1,Kt(p,n)):p()}}}let Jr=!1;const Ol=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Rl=t=>t.nodeType===8;function XR(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,f=(_,m)=>{if(!m.hasChildNodes()){n(null,_,m),Xu(),m._vnode=_;return}Jr=!1,c(m.firstChild,_,null,null,null),Xu(),m._vnode=_,Jr&&console.error("Hydration completed but contains mismatches.")},c=(_,m,w,R,x,v=!1)=>{const k=Rl(_)&&_.data==="[",C=()=>T(_,m,w,R,x,k),{type:F,ref:H,shapeFlag:M,patchFlag:U}=m;let D=_.nodeType;m.el=_,U===-2&&(v=!1,m.dynamicChildren=null);let S=null;switch(F){case Js:D!==3?m.children===""?(l(m.el=i(""),o(_),_),S=_):S=C():(_.data!==m.children&&(Jr=!0,_.data=m.children),S=s(_));break;case Tn:D!==8||k?S=C():S=s(_);break;case Xl:if(k&&(_=s(_),D=_.nodeType),D===1||D===3){S=_;const j=!m.children.length;for(let L=0;L<m.staticCount;L++)j&&(m.children+=S.nodeType===1?S.outerHTML:S.data),L===m.staticCount-1&&(m.anchor=S),S=s(S);return k?s(S):S}else C();break;case Me:k?S=p(_,m,w,R,x,v):S=C();break;default:if(M&1)D!==1||m.type.toLowerCase()!==_.tagName.toLowerCase()?S=C():S=h(_,m,w,R,x,v);else if(M&6){m.slotScopeIds=x;const j=o(_);if(e(m,j,null,w,R,Ol(j),v),S=k?O(_):s(_),S&&Rl(S)&&S.data==="teleport end"&&(S=s(S)),Zi(m)){let L;k?(L=it(Me),L.anchor=S?S.previousSibling:j.lastChild):L=_.nodeType===3?Yn(""):it("div"),L.el=_,m.component.subTree=L}}else M&64?D!==8?S=C():S=m.type.hydrate(_,m,w,R,x,v,t,d):M&128&&(S=m.type.hydrate(_,m,w,R,Ol(o(_)),x,v,t,c))}return H!=null&&tc(H,null,R,m),S},h=(_,m,w,R,x,v)=>{v=v||!!m.dynamicChildren;const{type:k,props:C,patchFlag:F,shapeFlag:H,dirs:M}=m,U=k==="input"&&M||k==="option";if(U||F!==-1){if(M&&lr(m,null,w,"created"),C)if(U||!v||F&48)for(const S in C)(U&&S.endsWith("value")||Ya(S)&&!Jo(S))&&r(_,S,null,C[S],!1,void 0,w);else C.onClick&&r(_,"onClick",null,C.onClick,!1,void 0,w);let D;if((D=C&&C.onVnodeBeforeMount)&&In(D,w,m),M&&lr(m,null,w,"beforeMount"),((D=C&&C.onVnodeMounted)||M)&&nE(()=>{D&&In(D,w,m),M&&lr(m,null,w,"mounted")},R),H&16&&!(C&&(C.innerHTML||C.textContent))){let S=d(_.firstChild,m,_,w,R,x,v);for(;S;){Jr=!0;const j=S;S=S.nextSibling,a(j)}}else H&8&&_.textContent!==m.children&&(Jr=!0,_.textContent=m.children)}return _.nextSibling},d=(_,m,w,R,x,v,k)=>{k=k||!!m.dynamicChildren;const C=m.children,F=C.length;for(let H=0;H<F;H++){const M=k?C[H]:C[H]=jn(C[H]);if(_)_=c(_,M,R,x,v,k);else{if(M.type===Js&&!M.children)continue;Jr=!0,n(null,M,w,null,R,x,Ol(w),v)}}return _},p=(_,m,w,R,x,v)=>{const{slotScopeIds:k}=m;k&&(x=x?x.concat(k):k);const C=o(_),F=d(s(_),m,C,w,R,x,v);return F&&Rl(F)&&F.data==="]"?s(m.anchor=F):(Jr=!0,l(m.anchor=u("]"),C,F),F)},T=(_,m,w,R,x,v)=>{if(Jr=!0,m.el=null,v){const F=O(_);for(;;){const H=s(_);if(H&&H!==F)a(H);else break}}const k=s(_),C=o(_);return a(_),n(null,m,C,k,w,R,Ol(C),x),k},O=_=>{let m=0;for(;_;)if(_=s(_),_&&Rl(_)&&(_.data==="["&&m++,_.data==="]")){if(m===0)return s(_);m--}return _};return[f,c]}const Kt=nE;function JR(t){return TE(t)}function ZR(t){return TE(t,XR)}function TE(t,e){const n=AO();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:h,setScopeId:d=nr,insertStaticContent:p}=t,T=(y,E,N,V=null,Y=null,re=null,fe=!1,ie=null,le=!!E.dynamicChildren)=>{if(y===E)return;y&&!cr(y,E)&&(V=ne(y),b(y,Y,re,!0),y=null),E.patchFlag===-2&&(le=!1,E.dynamicChildren=null);const{type:X,ref:ve,shapeFlag:ge}=E;switch(X){case Js:O(y,E,N,V);break;case Tn:_(y,E,N,V);break;case Xl:y==null&&m(E,N,V,fe);break;case Me:U(y,E,N,V,Y,re,fe,ie,le);break;default:ge&1?x(y,E,N,V,Y,re,fe,ie,le):ge&6?D(y,E,N,V,Y,re,fe,ie,le):(ge&64||ge&128)&&X.process(y,E,N,V,Y,re,fe,ie,le,Q)}ve!=null&&Y&&tc(ve,y&&y.ref,re,E||y,!E)},O=(y,E,N,V)=>{if(y==null)r(E.el=a(E.children),N,V);else{const Y=E.el=y.el;E.children!==y.children&&u(Y,E.children)}},_=(y,E,N,V)=>{y==null?r(E.el=l(E.children||""),N,V):E.el=y.el},m=(y,E,N,V)=>{[y.el,y.anchor]=p(y.children,E,N,V,y.el,y.anchor)},w=({el:y,anchor:E},N,V)=>{let Y;for(;y&&y!==E;)Y=h(y),r(y,N,V),y=Y;r(E,N,V)},R=({el:y,anchor:E})=>{let N;for(;y&&y!==E;)N=h(y),i(y),y=N;i(E)},x=(y,E,N,V,Y,re,fe,ie,le)=>{fe=fe||E.type==="svg",y==null?v(E,N,V,Y,re,fe,ie,le):F(y,E,Y,re,fe,ie,le)},v=(y,E,N,V,Y,re,fe,ie)=>{let le,X;const{type:ve,props:ge,shapeFlag:_e,transition:Re,dirs:Ve}=y;if(le=y.el=o(y.type,re,ge&&ge.is,ge),_e&8?f(le,y.children):_e&16&&C(y.children,le,null,V,Y,re&&ve!=="foreignObject",fe,ie),Ve&&lr(y,null,V,"created"),ge){for(const B in ge)B!=="value"&&!Jo(B)&&s(le,B,null,ge[B],re,y.children,V,Y,G);"value"in ge&&s(le,"value",null,ge.value),(X=ge.onVnodeBeforeMount)&&In(X,V,y)}k(le,y,y.scopeId,fe,V),Ve&&lr(y,null,V,"beforeMount");const I=(!Y||Y&&!Y.pendingBranch)&&Re&&!Re.persisted;I&&Re.beforeEnter(le),r(le,E,N),((X=ge&&ge.onVnodeMounted)||I||Ve)&&Kt(()=>{X&&In(X,V,y),I&&Re.enter(le),Ve&&lr(y,null,V,"mounted")},Y)},k=(y,E,N,V,Y)=>{if(N&&d(y,N),V)for(let re=0;re<V.length;re++)d(y,V[re]);if(Y){let re=Y.subTree;if(E===re){const fe=Y.vnode;k(y,fe,fe.scopeId,fe.slotScopeIds,Y.parent)}}},C=(y,E,N,V,Y,re,fe,ie,le=0)=>{for(let X=le;X<y.length;X++){const ve=y[X]=ie?ii(y[X]):jn(y[X]);T(null,ve,E,N,V,Y,re,fe,ie)}},F=(y,E,N,V,Y,re,fe)=>{const ie=E.el=y.el;let{patchFlag:le,dynamicChildren:X,dirs:ve}=E;le|=y.patchFlag&16;const ge=y.props||gt,_e=E.props||gt;let Re;N&&Ni(N,!1),(Re=_e.onVnodeBeforeUpdate)&&In(Re,N,E,y),ve&&lr(E,y,N,"beforeUpdate"),N&&Ni(N,!0);const Ve=Y&&E.type!=="foreignObject";if(X?H(y.dynamicChildren,X,ie,N,V,Ve,re):fe||P(y,E,ie,null,N,V,Ve,re,!1),le>0){if(le&16)M(ie,E,ge,_e,N,V,Y);else if(le&2&&ge.class!==_e.class&&s(ie,"class",null,_e.class,Y),le&4&&s(ie,"style",ge.style,_e.style,Y),le&8){const I=E.dynamicProps;for(let B=0;B<I.length;B++){const he=I[B],we=ge[he],lt=_e[he];(lt!==we||he==="value")&&s(ie,he,we,lt,Y,y.children,N,V,G)}}le&1&&y.children!==E.children&&f(ie,E.children)}else!fe&&X==null&&M(ie,E,ge,_e,N,V,Y);((Re=_e.onVnodeUpdated)||ve)&&Kt(()=>{Re&&In(Re,N,E,y),ve&&lr(E,y,N,"updated")},V)},H=(y,E,N,V,Y,re,fe)=>{for(let ie=0;ie<E.length;ie++){const le=y[ie],X=E[ie],ve=le.el&&(le.type===Me||!cr(le,X)||le.shapeFlag&70)?c(le.el):N;T(le,X,ve,null,V,Y,re,fe,!0)}},M=(y,E,N,V,Y,re,fe)=>{if(N!==V){if(N!==gt)for(const ie in N)!Jo(ie)&&!(ie in V)&&s(y,ie,N[ie],null,fe,E.children,Y,re,G);for(const ie in V){if(Jo(ie))continue;const le=V[ie],X=N[ie];le!==X&&ie!=="value"&&s(y,ie,X,le,fe,E.children,Y,re,G)}"value"in V&&s(y,"value",N.value,V.value)}},U=(y,E,N,V,Y,re,fe,ie,le)=>{const X=E.el=y?y.el:a(""),ve=E.anchor=y?y.anchor:a("");let{patchFlag:ge,dynamicChildren:_e,slotScopeIds:Re}=E;Re&&(ie=ie?ie.concat(Re):Re),y==null?(r(X,N,V),r(ve,N,V),C(E.children,N,ve,Y,re,fe,ie,le)):ge>0&&ge&64&&_e&&y.dynamicChildren?(H(y.dynamicChildren,_e,N,Y,re,fe,ie),(E.key!=null||Y&&E===Y.subTree)&&xg(y,E,!0)):P(y,E,N,ve,Y,re,fe,ie,le)},D=(y,E,N,V,Y,re,fe,ie,le)=>{E.slotScopeIds=ie,y==null?E.shapeFlag&512?Y.ctx.activate(E,N,V,fe,le):S(E,N,V,Y,re,fe,le):j(y,E,le)},S=(y,E,N,V,Y,re,fe)=>{const ie=y.component=lA(y,V,Y);if(za(y)&&(ie.ctx.renderer=Q),uA(ie),ie.asyncDep){if(Y&&Y.registerDep(ie,L),!y.el){const le=ie.subTree=it(Tn);_(null,le,E,N)}return}L(ie,y,E,N,Y,re,fe)},j=(y,E,N)=>{const V=E.component=y.component;if(wR(y,E,N))if(V.asyncDep&&!V.asyncResolved){g(V,E,N);return}else V.next=E,pR(V.update),V.update();else E.el=y.el,V.vnode=E},L=(y,E,N,V,Y,re,fe)=>{const ie=()=>{if(y.isMounted){let{next:ve,bu:ge,u:_e,parent:Re,vnode:Ve}=y,I=ve,B;Ni(y,!1),ve?(ve.el=Ve.el,g(y,ve,fe)):ve=Ve,ge&&Fs(ge),(B=ve.props&&ve.props.onVnodeBeforeUpdate)&&In(B,Re,ve,Ve),Ni(y,!0);const he=Ch(y),we=y.subTree;y.subTree=he,T(we,he,c(we.el),ne(we),y,Y,re),ve.el=he.el,I===null&&kg(y,he.el),_e&&Kt(_e,Y),(B=ve.props&&ve.props.onVnodeUpdated)&&Kt(()=>In(B,Re,ve,Ve),Y)}else{let ve;const{el:ge,props:_e}=E,{bm:Re,m:Ve,parent:I}=y,B=Zi(E);if(Ni(y,!1),Re&&Fs(Re),!B&&(ve=_e&&_e.onVnodeBeforeMount)&&In(ve,I,E),Ni(y,!0),ge&&Se){const he=()=>{y.subTree=Ch(y),Se(ge,y.subTree,y,Y,null)};B?E.type.__asyncLoader().then(()=>!y.isUnmounted&&he()):he()}else{const he=y.subTree=Ch(y);T(null,he,N,V,y,Y,re),E.el=he.el}if(Ve&&Kt(Ve,Y),!B&&(ve=_e&&_e.onVnodeMounted)){const he=E;Kt(()=>In(ve,I,he),Y)}(E.shapeFlag&256||I&&Zi(I.vnode)&&I.vnode.shapeFlag&256)&&y.a&&Kt(y.a,Y),y.isMounted=!0,E=N=V=null}},le=y.effect=new _g(ie,()=>Cf(X),y.scope),X=y.update=()=>le.run();X.id=y.uid,Ni(y,!0),X()},g=(y,E,N)=>{E.component=y;const V=y.vnode.props;y.vnode=E,y.next=null,qR(y,E.props,V,N),zR(y,E.children,N),vo(),Vv(),_o()},P=(y,E,N,V,Y,re,fe,ie,le=!1)=>{const X=y&&y.children,ve=y?y.shapeFlag:0,ge=E.children,{patchFlag:_e,shapeFlag:Re}=E;if(_e>0){if(_e&128){te(X,ge,N,V,Y,re,fe,ie,le);return}else if(_e&256){q(X,ge,N,V,Y,re,fe,ie,le);return}}Re&8?(ve&16&&G(X,Y,re),ge!==X&&f(N,ge)):ve&16?Re&16?te(X,ge,N,V,Y,re,fe,ie,le):G(X,Y,re,!0):(ve&8&&f(N,""),Re&16&&C(ge,N,V,Y,re,fe,ie,le))},q=(y,E,N,V,Y,re,fe,ie,le)=>{y=y||Ls,E=E||Ls;const X=y.length,ve=E.length,ge=Math.min(X,ve);let _e;for(_e=0;_e<ge;_e++){const Re=E[_e]=le?ii(E[_e]):jn(E[_e]);T(y[_e],Re,N,null,Y,re,fe,ie,le)}X>ve?G(y,Y,re,!0,!1,ge):C(E,N,V,Y,re,fe,ie,le,ge)},te=(y,E,N,V,Y,re,fe,ie,le)=>{let X=0;const ve=E.length;let ge=y.length-1,_e=ve-1;for(;X<=ge&&X<=_e;){const Re=y[X],Ve=E[X]=le?ii(E[X]):jn(E[X]);if(cr(Re,Ve))T(Re,Ve,N,null,Y,re,fe,ie,le);else break;X++}for(;X<=ge&&X<=_e;){const Re=y[ge],Ve=E[_e]=le?ii(E[_e]):jn(E[_e]);if(cr(Re,Ve))T(Re,Ve,N,null,Y,re,fe,ie,le);else break;ge--,_e--}if(X>ge){if(X<=_e){const Re=_e+1,Ve=Re<ve?E[Re].el:V;for(;X<=_e;)T(null,E[X]=le?ii(E[X]):jn(E[X]),N,Ve,Y,re,fe,ie,le),X++}}else if(X>_e)for(;X<=ge;)b(y[X],Y,re,!0),X++;else{const Re=X,Ve=X,I=new Map;for(X=Ve;X<=_e;X++){const pe=E[X]=le?ii(E[X]):jn(E[X]);pe.key!=null&&I.set(pe.key,X)}let B,he=0;const we=_e-Ve+1;let lt=!1,Pn=0;const Dn=new Array(we);for(X=0;X<we;X++)Dn[X]=0;for(X=Re;X<=ge;X++){const pe=y[X];if(he>=we){b(pe,Y,re,!0);continue}let ft;if(pe.key!=null)ft=I.get(pe.key);else for(B=Ve;B<=_e;B++)if(Dn[B-Ve]===0&&cr(pe,E[B])){ft=B;break}ft===void 0?b(pe,Y,re,!0):(Dn[ft-Ve]=X+1,ft>=Pn?Pn=ft:lt=!0,T(pe,E[ft],N,null,Y,re,fe,ie,le),he++)}const K=lt?eA(Dn):Ls;for(B=K.length-1,X=we-1;X>=0;X--){const pe=Ve+X,ft=E[pe],Wt=pe+1<ve?E[pe+1].el:V;Dn[X]===0?T(null,ft,N,Wt,Y,re,fe,ie,le):lt&&(B<0||X!==K[B]?ce(ft,N,Wt,2):B--)}}},ce=(y,E,N,V,Y=null)=>{const{el:re,type:fe,transition:ie,children:le,shapeFlag:X}=y;if(X&6){ce(y.component.subTree,E,N,V);return}if(X&128){y.suspense.move(E,N,V);return}if(X&64){fe.move(y,E,N,Q);return}if(fe===Me){r(re,E,N);for(let ge=0;ge<le.length;ge++)ce(le[ge],E,N,V);r(y.anchor,E,N);return}if(fe===Xl){w(y,E,N);return}if(V!==2&&X&1&&ie)if(V===0)ie.beforeEnter(re),r(re,E,N),Kt(()=>ie.enter(re),Y);else{const{leave:ge,delayLeave:_e,afterLeave:Re}=ie,Ve=()=>r(re,E,N),I=()=>{ge(re,()=>{Ve(),Re&&Re()})};_e?_e(re,Ve,I):I()}else r(re,E,N)},b=(y,E,N,V=!1,Y=!1)=>{const{type:re,props:fe,ref:ie,children:le,dynamicChildren:X,shapeFlag:ve,patchFlag:ge,dirs:_e}=y;if(ie!=null&&tc(ie,null,N,y,!0),ve&256){E.ctx.deactivate(y);return}const Re=ve&1&&_e,Ve=!Zi(y);let I;if(Ve&&(I=fe&&fe.onVnodeBeforeUnmount)&&In(I,E,y),ve&6)$(y.component,N,V);else{if(ve&128){y.suspense.unmount(N,V);return}Re&&lr(y,null,E,"beforeUnmount"),ve&64?y.type.remove(y,E,N,Y,Q,V):X&&(re!==Me||ge>0&&ge&64)?G(X,E,N,!1,!0):(re===Me&&ge&384||!Y&&ve&16)&&G(le,E,N),V&&z(y)}(Ve&&(I=fe&&fe.onVnodeUnmounted)||Re)&&Kt(()=>{I&&In(I,E,y),Re&&lr(y,null,E,"unmounted")},N)},z=y=>{const{type:E,el:N,anchor:V,transition:Y}=y;if(E===Me){Ce(N,V);return}if(E===Xl){R(y);return}const re=()=>{i(N),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(y.shapeFlag&1&&Y&&!Y.persisted){const{leave:fe,delayLeave:ie}=Y,le=()=>fe(N,re);ie?ie(y.el,re,le):le()}else re()},Ce=(y,E)=>{let N;for(;y!==E;)N=h(y),i(y),y=N;i(E)},$=(y,E,N)=>{const{bum:V,scope:Y,update:re,subTree:fe,um:ie}=y;V&&Fs(V),Y.stop(),re&&(re.active=!1,b(fe,y,E,N)),ie&&Kt(ie,E),Kt(()=>{y.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},G=(y,E,N,V=!1,Y=!1,re=0)=>{for(let fe=re;fe<y.length;fe++)b(y[fe],E,N,V,Y)},ne=y=>y.shapeFlag&6?ne(y.component.subTree):y.shapeFlag&128?y.suspense.next():h(y.anchor||y.el),oe=(y,E,N)=>{y==null?E._vnode&&b(E._vnode,null,null,!0):T(E._vnode||null,y,E,null,null,null,N),Vv(),Xu(),E._vnode=y},Q={p:T,um:b,m:ce,r:z,mt:S,mc:C,pc:P,pbc:H,n:ne,o:t};let xe,Se;return e&&([xe,Se]=e(Q)),{render:oe,hydrate:xe,createApp:QR(oe,xe)}}function Ni({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function xg(t,e,n=!1){const r=t.children,i=e.children;if(Oe(r)&&Oe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ii(i[s]),a.el=o.el),n||xg(o,a)),a.type===Js&&(a.el=o.el)}}function eA(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const tA=t=>t.__isTeleport,ea=t=>t&&(t.disabled||t.disabled===""),Zv=t=>typeof SVGElement<"u"&&t instanceof SVGElement,jd=(t,e)=>{const n=t&&t.to;return It(n)?e?e(n):null:n},nA={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:f,pc:c,pbc:h,o:{insert:d,querySelector:p,createText:T,createComment:O}}=u,_=ea(e.props);let{shapeFlag:m,children:w,dynamicChildren:R}=e;if(t==null){const x=e.el=T(""),v=e.anchor=T("");d(x,n,r),d(v,n,r);const k=e.target=jd(e.props,p),C=e.targetAnchor=T("");k&&(d(C,k),o=o||Zv(k));const F=(H,M)=>{m&16&&f(w,H,M,i,s,o,a,l)};_?F(n,v):k&&F(k,C)}else{e.el=t.el;const x=e.anchor=t.anchor,v=e.target=t.target,k=e.targetAnchor=t.targetAnchor,C=ea(t.props),F=C?n:v,H=C?x:k;if(o=o||Zv(v),R?(h(t.dynamicChildren,R,F,i,s,o,a),xg(t,e,!0)):l||c(t,e,F,H,i,s,o,a,!1),_)C||Al(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=jd(e.props,p);M&&Al(e,M,null,u,0)}else C&&Al(e,v,k,u,1)}EE(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:f,target:c,props:h}=t;if(c&&s(f),(o||!ea(h))&&(s(u),a&16))for(let d=0;d<l.length;d++){const p=l[d];i(p,e,n,!0,!!p.dynamicChildren)}},move:Al,hydrate:rA};function Al(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:f}=t,c=s===2;if(c&&r(o,e,n),(!c||ea(f))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);c&&r(a,e,n)}function rA(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const f=e.target=jd(e.props,l);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(ea(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=c;else{e.anchor=o(t);let h=c;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(c,e,f,n,r,i,s)}EE(e)}return e.anchor&&o(e.anchor)}const iA=nA;function EE(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Me=Symbol(void 0),Js=Symbol(void 0),Tn=Symbol(void 0),Xl=Symbol(void 0),ta=[];let Wn=null;function W(t=!1){ta.push(Wn=t?null:[])}function SE(){ta.pop(),Wn=ta[ta.length-1]||null}let Zs=1;function e_(t){Zs+=t}function IE(t){return t.dynamicChildren=Zs>0?Wn||Ls:null,SE(),Zs>0&&Wn&&Wn.push(t),t}function ae(t,e,n,r,i,s){return IE(Ne(t,e,n,r,i,s,!0))}function He(t,e,n,r,i){return IE(it(t,e,n,r,i,!0))}function eo(t){return t?t.__v_isVNode===!0:!1}function cr(t,e){return t.type===e.type&&t.key===e.key}const Af="__vInternal",CE=({key:t})=>t!=null?t:null,Jl=({ref:t,ref_key:e,ref_for:n})=>t!=null?It(t)||ht(t)||Le(t)?{i:Xt,r:t,k:e,f:!!n}:t:null;function Ne(t,e=null,n=null,r=0,i=null,s=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&CE(e),ref:e&&Jl(e),scopeId:Of,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xt};return a?(Mg(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=It(n)?8:16),Zs>0&&!o&&Wn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Wn.push(l),l}const it=sA;function sA(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===hE)&&(t=Tn),eo(t)){const a=jr(t,e,!0);return n&&Mg(a,n),Zs>0&&!s&&Wn&&(a.shapeFlag&6?Wn[Wn.indexOf(t)]=a:Wn.push(a)),a.patchFlag|=-2,a}if(hA(t)&&(t=t.__vccOpts),e){e=ci(e);let{class:a,style:l}=e;a&&!It(a)&&(e.class=ct(a)),vt(l)&&(HT(l)&&!Oe(l)&&(l=en({},l)),e.style=pr(l))}const o=It(t)?1:eE(t)?128:tA(t)?64:vt(t)?4:Le(t)?2:0;return Ne(t,e,n,r,i,o,s,!0)}function ci(t){return t?HT(t)||Af in t?en({},t):t:null}function jr(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Vt(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&CE(a),ref:e&&e.ref?n&&i?Oe(i)?i.concat(Jl(e)):[i,Jl(e)]:Jl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jr(t.ssContent),ssFallback:t.ssFallback&&jr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Yn(t=" ",e=0){return it(Js,null,t,e)}function Z(t="",e=!1){return e?(W(),He(Tn,null,t)):it(Tn,null,t)}function jn(t){return t==null||typeof t=="boolean"?it(Tn):Oe(t)?it(Me,null,t.slice()):typeof t=="object"?ii(t):it(Js,null,String(t))}function ii(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jr(t)}function Mg(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Oe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Mg(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Af in e)?e._ctx=Xt:i===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:Xt},n=32):(e=String(e),r&64?(n=16,e=[Yn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ct([e.class,r.class]));else if(i==="style")e.style=pr([e.style,r.style]);else if(Ya(i)){const s=e[i],o=r[i];o&&s!==o&&!(Oe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function In(t,e,n,r=null){Kn(t,e,7,[n,r])}const oA=bE();let aA=0;function lA(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||oA,s={uid:aA++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new PO(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yE(r,i),emitsOptions:ZT(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=gR.bind(null,s),t.ce&&t.ce(s),s}let xt=null;const Ci=()=>xt||Xt,wi=t=>{xt=t,t.scope.on()},di=()=>{xt&&xt.scope.off(),xt=null};function kE(t){return t.vnode.shapeFlag&4}let to=!1;function uA(t,e=!1){to=e;const{props:n,children:r}=t.vnode,i=kE(t);WR(t,n,i,e),YR(t,r);const s=i?cA(t,e):void 0;return to=!1,s}function cA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Sg(new Proxy(t.ctx,UR));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?RE(t):null;wi(t),vo();const s=hi(r,t,0,[t.props,i]);if(_o(),di(),gg(s)){if(s.then(di,di),e)return s.then(o=>{Hd(t,o,e)}).catch(o=>{wo(o,t,0)});t.asyncDep=s}else Hd(t,s,e)}else OE(t,e)}function Hd(t,e,n){Le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vt(e)&&(t.setupState=YT(e)),OE(t,n)}let t_;function OE(t,e,n){const r=t.type;if(!t.render){if(!e&&t_&&!r.render){const i=r.template||Dg(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=en(en({isCustomElement:s,delimiters:a},o),l);r.render=t_(i,u)}}t.render=r.render||nr}wi(t),vo(),FR(t),_o(),di()}function fA(t){return new Proxy(t.attrs,{get(e,n){return Ln(t,"get","$attrs"),e[n]}})}function RE(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=fA(t))},slots:t.slots,emit:t.emit,expose:e}}function Pf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(YT(Sg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zo)return Zo[n](t)},has(e,n){return n in e||n in Zo}}))}function Wd(t,e=!0){return Le(t)?t.displayName||t.name:t.name||e&&t.__name}function hA(t){return Le(t)&&"__vccOpts"in t}const ue=(t,e)=>fR(t,e,to);function $g(){return dA().slots}function dA(){const t=Ci();return t.setupContext||(t.setupContext=RE(t))}function $5(t){const e=Ci();let n=t();return di(),gg(n)&&(n=n.catch(r=>{throw wi(e),r})),[n,()=>wi(e)]}function xn(t,e,n){const r=arguments.length;return r===2?vt(e)&&!Oe(e)?eo(e)?it(t,null,[e]):it(t,e):it(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&eo(n)&&(n=[n]),it(t,e,n))}const pA=Symbol(""),mA=()=>rr(pA),gA="3.2.45",yA="http://www.w3.org/2000/svg",ji=typeof document<"u"?document:null,n_=ji&&ji.createElement("template"),vA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?ji.createElementNS(yA,t):ji.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ji.createTextNode(t),createComment:t=>ji.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ji.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{n_.innerHTML=r?`<svg>${t}</svg>`:t;const a=n_.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function _A(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function wA(t,e,n){const r=t.style,i=It(n);if(n&&!i){for(const s in n)qd(r,s,n[s]);if(e&&!It(e))for(const s in e)n[s]==null&&qd(r,s,"")}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const r_=/\s*!important$/;function qd(t,e,n){if(Oe(n))n.forEach(r=>qd(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=bA(t,e);r_.test(n)?t.setProperty(gs(r),n.replace(r_,""),"important"):t[r]=n}}const i_=["Webkit","Moz","ms"],Dh={};function bA(t,e){const n=Dh[e];if(n)return n;let r=br(e);if(r!=="filter"&&r in t)return Dh[e]=r;r=Sf(r);for(let i=0;i<i_.length;i++){const s=i_[i]+r;if(s in t)return Dh[e]=s}return e}const s_="http://www.w3.org/1999/xlink";function TA(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(s_,e.slice(6,e.length)):t.setAttributeNS(s_,e,n);else{const s=EO(e);n==null||s&&!kT(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function EA(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=kT(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Ps(t,e,n,r){t.addEventListener(e,n,r)}function SA(t,e,n,r){t.removeEventListener(e,n,r)}function IA(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=CA(e);if(r){const u=s[e]=RA(r,i);Ps(t,a,u,l)}else o&&(SA(t,a,o,l),s[e]=void 0)}}const o_=/(?:Once|Passive|Capture)$/;function CA(t){let e;if(o_.test(t)){e={};let r;for(;r=t.match(o_);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gs(t.slice(2)),e]}let Nh=0;const kA=Promise.resolve(),OA=()=>Nh||(kA.then(()=>Nh=0),Nh=Date.now());function RA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Kn(AA(r,n.value),e,5,[r])};return n.value=t,n.attached=OA(),n}function AA(t,e){if(Oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const a_=/^on[a-z]/,PA=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?_A(t,r,i):e==="style"?wA(t,n,r):Ya(e)?dg(e)||IA(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):DA(t,e,r,i))?EA(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),TA(t,e,r,i))};function DA(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&a_.test(e)&&Le(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||a_.test(e)&&It(n)?!1:e in t}const Zr="transition",xo="animation",Ir=(t,{slots:e})=>xn(iE,NA(t),e);Ir.displayName="Transition";const AE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ir.props=en({},iE.props,AE);const xi=(t,e=[])=>{Oe(t)?t.forEach(n=>n(...e)):t&&t(...e)},l_=t=>t?Oe(t)?t.some(e=>e.length>1):t.length>1:!1;function NA(t){const e={};for(const U in t)U in AE||(e[U]=t[U]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:f=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=xA(i),T=p&&p[0],O=p&&p[1],{onBeforeEnter:_,onEnter:m,onEnterCancelled:w,onLeave:R,onLeaveCancelled:x,onBeforeAppear:v=_,onAppear:k=m,onAppearCancelled:C=w}=e,F=(U,D,S)=>{Mi(U,D?f:a),Mi(U,D?u:o),S&&S()},H=(U,D)=>{U._isLeaving=!1,Mi(U,c),Mi(U,d),Mi(U,h),D&&D()},M=U=>(D,S)=>{const j=U?k:m,L=()=>F(D,U,S);xi(j,[D,L]),u_(()=>{Mi(D,U?l:s),ei(D,U?f:a),l_(j)||c_(D,r,T,L)})};return en(e,{onBeforeEnter(U){xi(_,[U]),ei(U,s),ei(U,o)},onBeforeAppear(U){xi(v,[U]),ei(U,l),ei(U,u)},onEnter:M(!1),onAppear:M(!0),onLeave(U,D){U._isLeaving=!0;const S=()=>H(U,D);ei(U,c),LA(),ei(U,h),u_(()=>{!U._isLeaving||(Mi(U,c),ei(U,d),l_(R)||c_(U,r,O,S))}),xi(R,[U,S])},onEnterCancelled(U){F(U,!1),xi(w,[U])},onAppearCancelled(U){F(U,!0),xi(C,[U])},onLeaveCancelled(U){H(U),xi(x,[U])}})}function xA(t){if(t==null)return null;if(vt(t))return[xh(t.enter),xh(t.leave)];{const e=xh(t);return[e,e]}}function xh(t){return Qs(t)}function ei(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Mi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function u_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let MA=0;function c_(t,e,n,r){const i=t._endId=++MA,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=$A(t,e);if(!o)return r();const u=o+"end";let f=0;const c=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++f>=l&&c()};setTimeout(()=>{f<l&&c()},a+1),t.addEventListener(u,h)}function $A(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Zr}Delay`),s=r(`${Zr}Duration`),o=f_(i,s),a=r(`${xo}Delay`),l=r(`${xo}Duration`),u=f_(a,l);let f=null,c=0,h=0;e===Zr?o>0&&(f=Zr,c=o,h=s.length):e===xo?u>0&&(f=xo,c=u,h=l.length):(c=Math.max(o,u),f=c>0?o>u?Zr:xo:null,h=f?f===Zr?s.length:l.length:0);const d=f===Zr&&/\b(transform|all)(,|$)/.test(r(`${Zr}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:d}}function f_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>h_(n)+h_(t[r])))}function h_(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function LA(){return document.body.offsetHeight}const d_=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Oe(e)?n=>Fs(e,n):e};function UA(t){t.target.composing=!0}function p_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const L5={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=d_(i);const s=r||i.props&&i.props.type==="number";Ps(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Qs(a)),t._assign(a)}),n&&Ps(t,"change",()=>{t.value=t.value.trim()}),e||(Ps(t,"compositionstart",UA),Ps(t,"compositionend",p_),Ps(t,"change",p_))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=d_(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Qs(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},FA=["ctrl","shift","alt","meta"],BA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>FA.some(n=>t[`${n}Key`]&&!e.includes(n))},Nr=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=BA[e[i]];if(s&&s(n,e))return}return t(n,...r)},VA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},We=(t,e)=>n=>{if(!("key"in n))return;const r=gs(n.key);if(e.some(i=>i===r||VA[i]===r))return t(n)},Zl={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Mo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Mo(t,!0),r.enter(t)):r.leave(t,()=>{Mo(t,!1)}):Mo(t,e))},beforeUnmount(t,{value:e}){Mo(t,e)}};function Mo(t,e){t.style.display=e?t._vod:"none"}const PE=en({patchProp:PA},vA);let na,m_=!1;function jA(){return na||(na=JR(PE))}function HA(){return na=m_?na:ZR(PE),m_=!0,na}const WA=(...t)=>{const e=jA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=DE(r);if(!i)return;const s=e._component;!Le(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},qA=(...t)=>{const e=HA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=DE(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function DE(t){return It(t)?document.querySelector(t):t}const KA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,YA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,zA=/^["[{]|^-?\d[\d.]{0,14}$/;function GA(t,e){if(!(t==="__proto__"||t==="constructor"))return e}function QA(t,e={}){if(typeof t!="string")return t;const n=t.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n!=="undefined"){if(!zA.test(t)){if(e.strict)throw new SyntaxError("Invalid JSON");return t}try{return KA.test(t)||YA.test(t)?JSON.parse(t,GA):JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}}const XA=/#/g,JA=/&/g,ZA=/=/g,NE=/\+/g,eP=/%5B/gi,tP=/%5D/gi,nP=/%5E/gi,rP=/%60/gi,iP=/%7B/gi,sP=/%7C/gi,oP=/%7D/gi,aP=/%20/gi;function lP(t){return encodeURI(""+t).replace(sP,"|").replace(eP,"[").replace(tP,"]")}function Kd(t){return lP(t).replace(NE,"%2B").replace(aP,"+").replace(XA,"%23").replace(JA,"%26").replace(rP,"`").replace(iP,"{").replace(oP,"}").replace(nP,"^")}function Mh(t){return Kd(t).replace(ZA,"%3D")}function xE(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function uP(t){return xE(t.replace(NE," "))}function cP(t=""){const e={};t[0]==="?"&&(t=t.substr(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=xE(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=uP(r[2]||"");e[i]?Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]:e[i]=s}return e}function fP(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Mh(t)}=${Kd(n)}`).join("&"):`${Mh(t)}=${Kd(e)}`:Mh(t)}function hP(t){return Object.keys(t).map(e=>fP(e,t[e])).join("&")}const dP=/^\w+:(\/\/)?/,pP=/^\/\/[^/]+/;function Df(t,e=!1){return dP.test(t)||e&&pP.test(t)}const mP=/\/$|\/\?/;function Yd(t="",e=!1){return e?mP.test(t):t.endsWith("/")}function ME(t="",e=!1){if(!e)return(Yd(t)?t.slice(0,-1):t)||"/";if(!Yd(t,!0))return t||"/";const[n,...r]=t.split("?");return(n.slice(0,-1)||"/")+(r.length?`?${r.join("?")}`:"")}function gP(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(Yd(t,!0))return t||"/";const[n,...r]=t.split("?");return n+"/"+(r.length?`?${r.join("?")}`:"")}function yP(t=""){return t.startsWith("/")}function vP(t=""){return(yP(t)?t.substr(1):t)||"/"}function _P(t,e){if($E(e)||Df(t))return t;const n=ME(e);return t.startsWith(n)?t:Nf(n,t)}function g_(t,e){if($E(e))return t;const n=ME(e);if(!t.startsWith(n))return t;const r=t.substring(n.length);return r[0]==="/"?r:"/"+r}function wP(t,e){const n=xf(t),r={...cP(n.search),...e};return n.search=hP(r),TP(n)}function $E(t){return!t||t==="/"}function bP(t){return t&&t!=="/"}function Nf(t,...e){let n=t||"";for(const r of e.filter(bP))n=n?gP(n)+vP(r):r;return n}function xf(t="",e){if(!Df(t,!0))return e?xf(e+t):y_(t);const[n="",r,i=""]=(t.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[s="",o=""]=(i.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:a,search:l,hash:u}=y_(o);return{protocol:n,auth:r?r.substr(0,r.length-1):"",host:s,pathname:a,search:l,hash:u}}function y_(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function TP(t){const e=t.pathname+(t.search?(t.search.startsWith("?")?"":"?")+t.search:"")+t.hash;return t.protocol?t.protocol+"//"+(t.auth?t.auth+"@":"")+t.host+e:e}class EP extends Error{constructor(){super(...arguments),this.name="FetchError"}}function SP(t,e,n){let r="";t&&n&&(r=`${n.status} ${n.statusText} (${t.toString()})`),e&&(r=`${e.message} (${r})`);const i=new EP(r);return Object.defineProperty(i,"request",{get(){return t}}),Object.defineProperty(i,"response",{get(){return n}}),Object.defineProperty(i,"data",{get(){return n&&n._data}}),Object.defineProperty(i,"status",{get(){return n&&n.status}}),Object.defineProperty(i,"statusText",{get(){return n&&n.statusText}}),Object.defineProperty(i,"statusCode",{get(){return n&&n.status}}),Object.defineProperty(i,"statusMessage",{get(){return n&&n.statusText}}),i}const IP=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function v_(t="GET"){return IP.has(t.toUpperCase())}function CP(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const kP=new Set(["image/svg","application/xml","application/xhtml","application/html"]),OP=/^application\/(?:[\w!#$%&*`\-.^~]*\+)?json(;.+)?$/i;function RP(t=""){if(!t)return"json";const e=t.split(";").shift();return OP.test(e)?"json":kP.has(e)||e.startsWith("text/")?"text":"blob"}const AP=new Set([408,409,425,429,500,502,503,504]);function LE(t){const{fetch:e,Headers:n}=t;function r(o){const a=o.error&&o.error.name==="AbortError"||!1;if(o.options.retry!==!1&&!a){const u=typeof o.options.retry=="number"?o.options.retry:v_(o.options.method)?0:1,f=o.response&&o.response.status||500;if(u>0&&AP.has(f))return i(o.request,{...o.options,retry:u-1})}const l=SP(o.request,o.error,o.response);throw Error.captureStackTrace&&Error.captureStackTrace(l,i),l}const i=async function(a,l={}){const u={request:a,options:{...t.defaults,...l},response:void 0,error:void 0};u.options.onRequest&&await u.options.onRequest(u),typeof u.request=="string"&&(u.options.baseURL&&(u.request=_P(u.request,u.options.baseURL)),(u.options.query||u.options.params)&&(u.request=wP(u.request,{...u.options.params,...u.options.query})),u.options.body&&v_(u.options.method)&&CP(u.options.body)&&(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json"))),u.response=await e(u.request,u.options).catch(async c=>(u.error=c,u.options.onRequestError&&await u.options.onRequestError(u),r(u)));const f=(u.options.parseResponse?"json":u.options.responseType)||RP(u.response.headers.get("content-type")||"");if(f==="json"){const c=await u.response.text(),h=u.options.parseResponse||QA;u.response._data=h(c)}else f==="stream"?u.response._data=u.response.body:u.response._data=await u.response[f]();return u.options.onResponse&&await u.options.onResponse(u),u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await u.options.onResponseError(u),r(u)):u.response},s=function(a,l){return i(a,l).then(u=>u._data)};return s.raw=i,s.create=(o={})=>LE({...t,defaults:{...t.defaults,...o}}),s}const UE=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),PP=UE.fetch||(()=>Promise.reject(new Error("[ohmyfetch] global.fetch is not supported!"))),DP=UE.Headers,NP=LE({fetch:PP,Headers:DP}),xP=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},nc=xP().app,MP=()=>nc.baseURL,$P=()=>nc.buildAssetsDir,LP=(...t)=>Nf(FE(),$P(),...t),FE=(...t)=>{const e=nc.cdnURL||nc.baseURL;return t.length?Nf(e,...t):e};globalThis.__buildAssetsURL=LP;globalThis.__publicAssetsURL=FE;function zd(t,e={},n){for(const r in t){const i=t[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?zd(i,e,s):typeof i=="function"&&(e[s]=i)}return e}function UP(t,e){return t.reduce((n,r)=>n.then(()=>r.apply(void 0,e)),Promise.resolve())}function FP(t,e){return Promise.all(t.map(n=>n.apply(void 0,e)))}function $h(t,e){for(const n of t)n(e)}class BP{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const i=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(e,i),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];this._hooks[e]=void 0;for(const i of r)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=zd(e),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(e){const n=zd(e);for(const r in n)this.removeHook(r,n[r])}callHook(e,...n){return this.callHookWith(UP,e,...n)}callHookParallel(e,...n){return this.callHookWith(FP,e,...n)}callHookWith(e,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&$h(this._before,i);const s=e(this._hooks[n]||[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&$h(this._after,i)}):(this._after&&i&&$h(this._after,i),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}function VP(){return new BP}function jP(){let t,e=!1;const n=r=>{if(t&&t!==r)throw new Error("Context conflict")};return{use:()=>{if(t===void 0)throw new Error("Context is not available");return t},tryUse:()=>t,set:(r,i)=>{i||n(r),t=r,e=!0},unset:()=>{t=void 0,e=!1},call:(r,i)=>{n(r),t=r;try{return i()}finally{e||(t=void 0)}},async callAsync(r,i){t=r;const s=()=>{t=r},o=()=>t===r?s:void 0;Gd.add(o);try{const a=i();return e||(t=void 0),await a}finally{Gd.delete(o)}}}}function HP(){const t={};return{get(e){return t[e]||(t[e]=jP()),t[e],t[e]}}}const rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},__="__unctx__",WP=rc[__]||(rc[__]=HP()),qP=t=>WP.get(t),w_="__unctx_async_handlers__",Gd=rc[w_]||(rc[w_]=new Set);function KP(t){const e=[];for(const i of Gd){const s=i();s&&e.push(s)}const n=()=>{for(const i of e)i()};let r=t();return"catch"in r&&(r=r.catch(i=>{throw n(),i})),[r,n]}const BE=qP("nuxt-app"),YP="__nuxt_plugin";function zP(t){const e={provide:void 0,globalName:"nuxt",payload:En({data:{},state:{},_errors:{},...window.__NUXT__}),isHydrating:!0,_asyncDataPromises:{},_asyncData:{},...t};e.hooks=VP(),e.hook=e.hooks.hook,e.callHook=e.hooks.callHook,e.provide=(i,s)=>{const o="$"+i;Pl(e,o,s),Pl(e.vueApp.config.globalProperties,o,s)},Pl(e.vueApp,"$nuxt",e),Pl(e.vueApp.config.globalProperties,"$nuxt",e);const n=En(e.payload.config),r=new Proxy(n,{get(i,s){var o;return s==="public"?i.public:(o=i[s])!=null?o:i.public[s]},set(i,s,o){return s==="public"||s==="app"?!1:(i[s]=o,i.public[s]=o,!0)}});return e.provide("config",r),e}async function GP(t,e){if(typeof e!="function")return;const{provide:n}=await si(t,e,[t])||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}async function QP(t,e){for(const n of e)await GP(t,n)}function XP(t){return t.map(n=>typeof n!="function"?null:n.length>1?r=>n(r,r.provide):n).filter(Boolean)}function bo(t){return t[YP]=!0,t}function si(t,e,n){const r=()=>n?e(...n):e();return BE.set(t),r()}function tn(){const t=BE.tryUse();if(!t){const e=Ci();if(!e)throw new Error("nuxt instance unavailable");return e.appContext.app.$nuxt}return t}function JP(){return tn().$config}function Pl(t,e,n){Object.defineProperty(t,e,{get:()=>n})}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ds=typeof window<"u";function ZP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ot=Object.assign;function Lh(t,e){const n={};for(const r in e){const i=e[r];n[r]=sr(i)?i.map(t):t(i)}return n}const ra=()=>{},sr=Array.isArray,eD=/\/$/,tD=t=>t.replace(eD,"");function Uh(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=sD(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function nD(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function b_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function rD(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&no(e.matched[r],n.matched[i])&&VE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function no(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function VE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!iD(t[n],e[n]))return!1;return!0}function iD(t,e){return sr(t)?T_(t,e):sr(e)?T_(e,t):t===e}function T_(t,e){return sr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function sD(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var Ia;(function(t){t.pop="pop",t.push="push"})(Ia||(Ia={}));var ia;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ia||(ia={}));function oD(t){if(!t)if(Ds){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),tD(t)}const aD=/^[^#]+#/;function lD(t,e){return t.replace(aD,"#")+e}function uD(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Mf=()=>({left:window.pageXOffset,top:window.pageYOffset});function cD(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=uD(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function E_(t,e){return(history.state?history.state.position-e:-1)+t}const Qd=new Map;function fD(t,e){Qd.set(t,e)}function hD(t){const e=Qd.get(t);return Qd.delete(t),e}let dD=()=>location.protocol+"//"+location.host;function jE(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),b_(l,"")}return b_(n,t)+r+i}function pD(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const d=jE(t,location),p=n.value,T=e.value;let O=0;if(h){if(n.value=d,e.value=h,o&&o===p){o=null;return}O=T?h.position-T.position:0}else r(d);i.forEach(_=>{_(n.value,p,{delta:O,type:Ia.pop,direction:O?O>0?ia.forward:ia.back:ia.unknown})})};function l(){o=n.value}function u(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(d),d}function f(){const{history:h}=window;!h.state||h.replaceState(ot({},h.state,{scroll:Mf()}),"")}function c(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",f),{pauseListeners:l,listen:u,destroy:c}}function S_(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Mf():null}}function mD(t){const{history:e,location:n}=window,r={value:jE(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,f){const c=t.indexOf("#"),h=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+l:dD()+t+l;try{e[f?"replaceState":"pushState"](u,"",h),i.value=u}catch(d){console.error(d),n[f?"replace":"assign"](h)}}function o(l,u){const f=ot({},e.state,S_(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,f,!0),r.value=l}function a(l,u){const f=ot({},i.value,e.state,{forward:l,scroll:Mf()});s(f.current,f,!0);const c=ot({},S_(r.value,l,null),{position:f.position+1},u);s(l,c,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function HE(t){t=oD(t);const e=mD(t),n=pD(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ot({location:"",base:t,go:r,createHref:lD.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function gD(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),HE(t)}function yD(t){return typeof t=="string"||t&&typeof t=="object"}function WE(t){return typeof t=="string"||typeof t=="symbol"}const ti={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qE=Symbol("");var I_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(I_||(I_={}));function ro(t,e){return ot(new Error,{type:t,[qE]:!0},e)}function Cr(t,e){return t instanceof Error&&qE in t&&(e==null||!!(t.type&e))}const C_="[^/]+?",vD={sensitive:!1,strict:!1,start:!0,end:!0},_D=/[.+*?^${}()[\]/\\]/g;function wD(t,e){const n=ot({},vD,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const f=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let c=0;c<u.length;c++){const h=u[c];let d=40+(n.sensitive?.25:0);if(h.type===0)c||(i+="/"),i+=h.value.replace(_D,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:T,optional:O,regexp:_}=h;s.push({name:p,repeatable:T,optional:O});const m=_||C_;if(m!==C_){d+=10;try{new RegExp(`(${m})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${p}" (${m}): `+R.message)}}let w=T?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;c||(w=O&&u.length<2?`(?:/${w})`:"/"+w),O&&(w+="?"),i+=w,d+=20,O&&(d+=-8),T&&(d+=-20),m===".*"&&(d+=-50)}f.push(d)}r.push(f)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const f=u.match(o),c={};if(!f)return null;for(let h=1;h<f.length;h++){const d=f[h]||"",p=s[h-1];c[p.name]=d&&p.repeatable?d.split("/"):d}return c}function l(u){let f="",c=!1;for(const h of t){(!c||!f.endsWith("/"))&&(f+="/"),c=!1;for(const d of h)if(d.type===0)f+=d.value;else if(d.type===1){const{value:p,repeatable:T,optional:O}=d,_=p in u?u[p]:"";if(sr(_)&&!T)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const m=sr(_)?_.join("/"):_;if(!m)if(O)h.length<2&&(f.endsWith("/")?f=f.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);f+=m}}return f||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function bD(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function TD(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=bD(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(k_(r))return 1;if(k_(i))return-1}return i.length-r.length}function k_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ED={type:0,value:""},SD=/[a-zA-Z0-9_]/;function ID(t){if(!t)return[[]];if(t==="/")return[[ED]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",f="";function c(){!u||(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&c(),o()):l===":"?(c(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:SD.test(l)?h():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=3:f+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),c(),o(),i}function CD(t,e,n){const r=wD(ID(t.path),n),i=ot(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function kD(t,e){const n=[],r=new Map;e=A_({strict:!1,end:!0,sensitive:!1},e);function i(f){return r.get(f)}function s(f,c,h){const d=!h,p=OD(f);p.aliasOf=h&&h.record;const T=A_(e,f),O=[p];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const R of w)O.push(ot({},p,{components:h?h.record.components:p.components,path:R,aliasOf:h?h.record:p}))}let _,m;for(const w of O){const{path:R}=w;if(c&&R[0]!=="/"){const x=c.record.path,v=x[x.length-1]==="/"?"":"/";w.path=c.record.path+(R&&v+R)}if(_=CD(w,c,T),h?h.alias.push(_):(m=m||_,m!==_&&m.alias.push(_),d&&f.name&&!R_(_)&&o(f.name)),p.children){const x=p.children;for(let v=0;v<x.length;v++)s(x[v],_,h&&h.children[v])}h=h||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return m?()=>{o(m)}:ra}function o(f){if(WE(f)){const c=r.get(f);c&&(r.delete(f),n.splice(n.indexOf(c),1),c.children.forEach(o),c.alias.forEach(o))}else{const c=n.indexOf(f);c>-1&&(n.splice(c,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){let c=0;for(;c<n.length&&TD(f,n[c])>=0&&(f.record.path!==n[c].record.path||!KE(f,n[c]));)c++;n.splice(c,0,f),f.record.name&&!R_(f)&&r.set(f.record.name,f)}function u(f,c){let h,d={},p,T;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw ro(1,{location:f});T=h.record.name,d=ot(O_(c.params,h.keys.filter(m=>!m.optional).map(m=>m.name)),f.params&&O_(f.params,h.keys.map(m=>m.name))),p=h.stringify(d)}else if("path"in f)p=f.path,h=n.find(m=>m.re.test(p)),h&&(d=h.parse(p),T=h.record.name);else{if(h=c.name?r.get(c.name):n.find(m=>m.re.test(c.path)),!h)throw ro(1,{location:f,currentLocation:c});T=h.record.name,d=ot({},c.params,f.params),p=h.stringify(d)}const O=[];let _=h;for(;_;)O.unshift(_.record),_=_.parent;return{name:T,path:p,params:d,matched:O,meta:AD(O)}}return t.forEach(f=>s(f)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function O_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function OD(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:RD(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function RD(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function R_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function AD(t){return t.reduce((e,n)=>ot(e,n.meta),{})}function A_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function KE(t,e){return e.children.some(n=>n===t||KE(t,n))}const YE=/#/g,PD=/&/g,DD=/\//g,ND=/=/g,xD=/\?/g,zE=/\+/g,MD=/%5B/g,$D=/%5D/g,GE=/%5E/g,LD=/%60/g,QE=/%7B/g,UD=/%7C/g,XE=/%7D/g,FD=/%20/g;function Lg(t){return encodeURI(""+t).replace(UD,"|").replace(MD,"[").replace($D,"]")}function BD(t){return Lg(t).replace(QE,"{").replace(XE,"}").replace(GE,"^")}function Xd(t){return Lg(t).replace(zE,"%2B").replace(FD,"+").replace(YE,"%23").replace(PD,"%26").replace(LD,"`").replace(QE,"{").replace(XE,"}").replace(GE,"^")}function VD(t){return Xd(t).replace(ND,"%3D")}function jD(t){return Lg(t).replace(YE,"%23").replace(xD,"%3F")}function HD(t){return t==null?"":jD(t).replace(DD,"%2F")}function ic(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function WD(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(zE," "),o=s.indexOf("="),a=ic(o<0?s:s.slice(0,o)),l=o<0?null:ic(s.slice(o+1));if(a in e){let u=e[a];sr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function P_(t){let e="";for(let n in t){const r=t[n];if(n=VD(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(sr(r)?r.map(s=>s&&Xd(s)):[r&&Xd(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function qD(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=sr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const KD=Symbol(""),D_=Symbol(""),Ug=Symbol(""),JE=Symbol(""),Jd=Symbol("");function $o(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function oi(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=c=>{c===!1?a(ro(4,{from:n,to:e})):c instanceof Error?a(c):yD(c)?a(ro(2,{from:e,to:c})):(s&&r.enterCallbacks[i]===s&&typeof c=="function"&&s.push(c),o())},u=t.call(r&&r.instances[i],e,n,l);let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(c=>a(c))})}function Fh(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(YD(a)){const u=(a.__vccOpts||a)[e];u&&i.push(oi(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const f=ZP(u)?u.default:u;s.components[o]=f;const h=(f.__vccOpts||f)[e];return h&&oi(h,n,r,s,o)()}))}}return i}function YD(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function N_(t){const e=rr(Ug),n=rr(JE),r=ue(()=>e.resolve(A(t.to))),i=ue(()=>{const{matched:l}=r.value,{length:u}=l,f=l[u-1],c=n.matched;if(!f||!c.length)return-1;const h=c.findIndex(no.bind(null,f));if(h>-1)return h;const d=x_(l[u-2]);return u>1&&x_(f)===d&&c[c.length-1].path!==d?c.findIndex(no.bind(null,l[u-2])):h}),s=ue(()=>i.value>-1&&XD(n.params,r.value.params)),o=ue(()=>i.value>-1&&i.value===n.matched.length-1&&VE(n.params,r.value.params));function a(l={}){return QD(l)?e[A(t.replace)?"replace":"push"](A(t.to)).catch(ra):Promise.resolve()}return{route:r,href:ue(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const zD=at({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:N_,setup(t,{slots:e}){const n=En(N_(t)),{options:r}=rr(Ug),i=ue(()=>({[M_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[M_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:xn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),GD=zD;function QD(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function XD(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!sr(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function x_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const M_=(t,e,n)=>t!=null?t:e!=null?e:n,JD=at({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=rr(Jd),i=ue(()=>t.route||r.value),s=rr(D_,0),o=ue(()=>{let u=A(s);const{matched:f}=i.value;let c;for(;(c=f[u])&&!c.components;)u++;return u}),a=ue(()=>i.value.matched[o.value]);Ji(D_,ue(()=>o.value+1)),Ji(KD,a),Ji(Jd,i);const l=me();return yr(()=>[l.value,a.value,t.name],([u,f,c],[h,d,p])=>{f&&(f.instances[c]=u,d&&d!==f&&u&&u===h&&(f.leaveGuards.size||(f.leaveGuards=d.leaveGuards),f.updateGuards.size||(f.updateGuards=d.updateGuards))),u&&f&&(!d||!no(f,d)||!h)&&(f.enterCallbacks[c]||[]).forEach(T=>T(u))},{flush:"post"}),()=>{const u=i.value,f=t.name,c=a.value,h=c&&c.components[f];if(!h)return $_(n.default,{Component:h,route:u});const d=c.props[f],p=d?d===!0?u.params:typeof d=="function"?d(u):d:null,O=xn(h,ot({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[f]=null)},ref:l}));return $_(n.default,{Component:O,route:u})||O}}});function $_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ZE=JD;function ZD(t){const e=kD(t.routes,t),n=t.parseQuery||WD,r=t.stringifyQuery||P_,i=t.history,s=$o(),o=$o(),a=$o(),l=Qu(ti);let u=ti;Ds&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Lh.bind(null,$=>""+$),c=Lh.bind(null,HD),h=Lh.bind(null,ic);function d($,G){let ne,oe;return WE($)?(ne=e.getRecordMatcher($),oe=G):oe=$,e.addRoute(oe,ne)}function p($){const G=e.getRecordMatcher($);G&&e.removeRoute(G)}function T(){return e.getRoutes().map($=>$.record)}function O($){return!!e.getRecordMatcher($)}function _($,G){if(G=ot({},G||l.value),typeof $=="string"){const y=Uh(n,$,G.path),E=e.resolve({path:y.path},G),N=i.createHref(y.fullPath);return ot(y,E,{params:h(E.params),hash:ic(y.hash),redirectedFrom:void 0,href:N})}let ne;if("path"in $)ne=ot({},$,{path:Uh(n,$.path,G.path).path});else{const y=ot({},$.params);for(const E in y)y[E]==null&&delete y[E];ne=ot({},$,{params:c($.params)}),G.params=c(G.params)}const oe=e.resolve(ne,G),Q=$.hash||"";oe.params=f(h(oe.params));const xe=nD(r,ot({},$,{hash:BD(Q),path:oe.path})),Se=i.createHref(xe);return ot({fullPath:xe,hash:Q,query:r===P_?qD($.query):$.query||{}},oe,{redirectedFrom:void 0,href:Se})}function m($){return typeof $=="string"?Uh(n,$,l.value.path):ot({},$)}function w($,G){if(u!==$)return ro(8,{from:G,to:$})}function R($){return k($)}function x($){return R(ot(m($),{replace:!0}))}function v($){const G=$.matched[$.matched.length-1];if(G&&G.redirect){const{redirect:ne}=G;let oe=typeof ne=="function"?ne($):ne;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=m(oe):{path:oe},oe.params={}),ot({query:$.query,hash:$.hash,params:"path"in oe?{}:$.params},oe)}}function k($,G){const ne=u=_($),oe=l.value,Q=$.state,xe=$.force,Se=$.replace===!0,y=v(ne);if(y)return k(ot(m(y),{state:typeof y=="object"?ot({},Q,y.state):Q,force:xe,replace:Se}),G||ne);const E=ne;E.redirectedFrom=G;let N;return!xe&&rD(r,oe,ne)&&(N=ro(16,{to:E,from:oe}),te(oe,oe,!0,!1)),(N?Promise.resolve(N):F(E,oe)).catch(V=>Cr(V)?Cr(V,2)?V:q(V):g(V,E,oe)).then(V=>{if(V){if(Cr(V,2))return k(ot({replace:Se},m(V.to),{state:typeof V.to=="object"?ot({},Q,V.to.state):Q,force:xe}),G||E)}else V=M(E,oe,!0,Se,Q);return H(E,oe,V),V})}function C($,G){const ne=w($,G);return ne?Promise.reject(ne):Promise.resolve()}function F($,G){let ne;const[oe,Q,xe]=eN($,G);ne=Fh(oe.reverse(),"beforeRouteLeave",$,G);for(const y of oe)y.leaveGuards.forEach(E=>{ne.push(oi(E,$,G))});const Se=C.bind(null,$,G);return ne.push(Se),Cs(ne).then(()=>{ne=[];for(const y of s.list())ne.push(oi(y,$,G));return ne.push(Se),Cs(ne)}).then(()=>{ne=Fh(Q,"beforeRouteUpdate",$,G);for(const y of Q)y.updateGuards.forEach(E=>{ne.push(oi(E,$,G))});return ne.push(Se),Cs(ne)}).then(()=>{ne=[];for(const y of $.matched)if(y.beforeEnter&&!G.matched.includes(y))if(sr(y.beforeEnter))for(const E of y.beforeEnter)ne.push(oi(E,$,G));else ne.push(oi(y.beforeEnter,$,G));return ne.push(Se),Cs(ne)}).then(()=>($.matched.forEach(y=>y.enterCallbacks={}),ne=Fh(xe,"beforeRouteEnter",$,G),ne.push(Se),Cs(ne))).then(()=>{ne=[];for(const y of o.list())ne.push(oi(y,$,G));return ne.push(Se),Cs(ne)}).catch(y=>Cr(y,8)?y:Promise.reject(y))}function H($,G,ne){for(const oe of a.list())oe($,G,ne)}function M($,G,ne,oe,Q){const xe=w($,G);if(xe)return xe;const Se=G===ti,y=Ds?history.state:{};ne&&(oe||Se?i.replace($.fullPath,ot({scroll:Se&&y&&y.scroll},Q)):i.push($.fullPath,Q)),l.value=$,te($,G,ne,Se),q()}let U;function D(){U||(U=i.listen(($,G,ne)=>{if(!Ce.listening)return;const oe=_($),Q=v(oe);if(Q){k(ot(Q,{replace:!0}),oe).catch(ra);return}u=oe;const xe=l.value;Ds&&fD(E_(xe.fullPath,ne.delta),Mf()),F(oe,xe).catch(Se=>Cr(Se,12)?Se:Cr(Se,2)?(k(Se.to,oe).then(y=>{Cr(y,20)&&!ne.delta&&ne.type===Ia.pop&&i.go(-1,!1)}).catch(ra),Promise.reject()):(ne.delta&&i.go(-ne.delta,!1),g(Se,oe,xe))).then(Se=>{Se=Se||M(oe,xe,!1),Se&&(ne.delta&&!Cr(Se,8)?i.go(-ne.delta,!1):ne.type===Ia.pop&&Cr(Se,20)&&i.go(-1,!1)),H(oe,xe,Se)}).catch(ra)}))}let S=$o(),j=$o(),L;function g($,G,ne){q($);const oe=j.list();return oe.length?oe.forEach(Q=>Q($,G,ne)):console.error($),Promise.reject($)}function P(){return L&&l.value!==ti?Promise.resolve():new Promise(($,G)=>{S.add([$,G])})}function q($){return L||(L=!$,D(),S.list().forEach(([G,ne])=>$?ne($):G()),S.reset()),$}function te($,G,ne,oe){const{scrollBehavior:Q}=t;if(!Ds||!Q)return Promise.resolve();const xe=!ne&&hD(E_($.fullPath,0))||(oe||!ne)&&history.state&&history.state.scroll||null;return Ii().then(()=>Q($,G,xe)).then(Se=>Se&&cD(Se)).catch(Se=>g(Se,$,G))}const ce=$=>i.go($);let b;const z=new Set,Ce={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:O,getRoutes:T,resolve:_,options:t,push:R,replace:x,go:ce,back:()=>ce(-1),forward:()=>ce(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:P,install($){const G=this;$.component("RouterLink",GD),$.component("RouterView",ZE),$.config.globalProperties.$router=G,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>A(l)}),Ds&&!b&&l.value===ti&&(b=!0,R(i.location).catch(Q=>{}));const ne={};for(const Q in ti)ne[Q]=ue(()=>l.value[Q]);$.provide(Ug,G),$.provide(JE,En(ne)),$.provide(Jd,l);const oe=$.unmount;z.add($),$.unmount=function(){z.delete($),z.size<1&&(u=ti,U&&U(),U=null,l.value=ti,b=!1,L=!1),oe()}}};return Ce}function Cs(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function eN(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>no(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>no(u,l))||i.push(l))}return[n,r,i]}function tN(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,r]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const i="$s"+n,s=tn(),o=ba(s.payload.state,i);if(o.value===void 0&&r){const a=r();if(ht(a))return s.payload.state[i]=a,a;o.value=a}return o}class Zd extends Error{constructor(){super(...arguments),this.statusCode=500,this.fatal=!1,this.unhandled=!1,this.statusMessage="Internal Server Error"}}Zd.__h3_error__=!0;function ep(t){var n;if(typeof t=="string")return new Zd(t);if(nN(t))return t;const e=new Zd((n=t.message)!=null?n:t.statusMessage,t.cause?{cause:t.cause}:void 0);if("stack"in t)try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}return t.statusCode&&(e.statusCode=t.statusCode),t.statusMessage&&(e.statusMessage=t.statusMessage),t.data&&(e.data=t.data),t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function nN(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const $f=()=>ba(tn().payload,"error"),zo=t=>{const e=sN(t);try{tn().callHook("app:error",e);const r=$f();r.value=r.value||e}catch{throw e}return e},rN=async(t={})=>{const e=tn(),n=$f();e.callHook("app:error:cleared",t),t.redirect&&await e.$router.replace(t.redirect),n.value=null},iN=t=>!!(t&&typeof t=="object"&&"__nuxt_error"in t),sN=t=>{const e=ep(t);return e.__nuxt_error=!0,e},Lf=()=>{var t;return(t=tn())==null?void 0:t.$router},eS=()=>Ci()?rr("_route",tn()._route):tn()._route,oN=()=>{try{if(tn()._processingMiddleware)return!0}catch{return!0}return!1},aN=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:t.path||"/",r=Df(n,!0);if(r&&!(e!=null&&e.external))throw new Error("Navigating to external URL is not allowed by default. Use `nagivateTo (url, { external: true })`.");if(r&&xf(n).protocol==="script:")throw new Error("Cannot navigate to an URL with script protocol.");if(!r&&oN())return t;const i=Lf();return r?(e!=null&&e.replace?location.replace(n):location.href=n,Promise.resolve()):e!=null&&e.replace?i.replace(t):i.push(t)},lN="modulepreload",uN=function(t,e){return new URL(t,e).href},L_={},Rr=function(e,n,r){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=uN(i,r),i in L_)return;L_[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":lN,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((l,u)=>{a.addEventListener("load",l),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function U_(t,e={}){const n=cN(t,e),r=tn(),i=r._payloadCache=r._payloadCache||{};return i[n]?i[n]:(i[t]=fN(n).then(s=>s||(delete i[t],null)),i[t])}function cN(t,e={}){const n=xf(t);if(n.search)throw new Error("Payload URL cannot contain search params: "+t);const r=e.hash||(e.fresh?Date.now():"");return Nf(n.pathname,r?`_payload.${r}.js`:"_payload.js")}async function fN(t){const e=await Rr(()=>import(t),[],import.meta.url).catch(n=>{console.warn("[nuxt] Cannot load payload ",t,n)});return(e==null?void 0:e.default)||null}function hN(){return!!tn().payload.prerenderedAt}const dN=(...t)=>t.find(e=>e!==void 0),pN="noopener noreferrer",mN=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),gN=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)});function yN(t){const e=t.componentName||"NuxtLink";return at({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(n,{slots:r}){const i=Lf(),s=ue(()=>n.to||n.href||""),o=ue(()=>n.external||n.target&&n.target!=="_self"?!0:typeof s.value=="object"?!1:s.value===""||Df(s.value,!0)),a=me(!1),l=me(null);if(n.prefetch!==!1&&n.noPrefetch!==!0&&typeof s.value=="string"&&!_N()){const f=tn(),c=vN();let h,d=null;Sn(()=>{h=mN(()=>{var p;(p=l==null?void 0:l.value)!=null&&p.tagName&&(d=c.observe(l.value,async()=>{d==null||d(),d=null,await Promise.all([f.hooks.callHook("link:prefetch",s.value).catch(()=>{}),wN(s.value,i).catch(()=>{})]),a.value=!0}))})}),Ga(()=>{h&&gN(h),d==null||d(),d=null})}return()=>{var d,p,T;if(!o.value)return xn(Pg("RouterLink"),{ref:O=>{l.value=O==null?void 0:O.$el},to:s.value,...a.value&&!n.custom?{class:n.prefetchedClass||t.prefetchedClass}:{},activeClass:n.activeClass||t.activeClass,exactActiveClass:n.exactActiveClass||t.exactActiveClass,replace:n.replace,ariaCurrentValue:n.ariaCurrentValue,custom:n.custom},r.default);const u=typeof s.value=="object"?(p=(d=i.resolve(s.value))==null?void 0:d.href)!=null?p:null:s.value||null,f=n.target||null,c=n.noRel?null:dN(n.rel,t.externalRelAttribute,u?pN:"")||null,h=()=>aN(u,{replace:n.replace});return n.custom?r.default?r.default({href:u,navigate:h,route:i.resolve(u),rel:c,target:f,isActive:!1,isExactActive:!1}):null:xn("a",{href:u,rel:c,target:f},(T=r.default)==null?void 0:T.call(r))}}})}const U5=yN({componentName:"NuxtLink"});function vN(){const t=tn();if(t._observer)return t._observer;let e=null;const n=new Map,r=(s,o)=>(e||(e=new IntersectionObserver(a=>{for(const l of a){const u=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&u&&u()}})),n.set(s,o),e.observe(s),()=>{n.delete(s),e.unobserve(s),n.size===0&&(e.disconnect(),e=null)});return t._observer={observe:r}}function _N(){const t=navigator.connection;return!!(t&&(t.saveData||/2g/.test(t.effectiveType)))}async function wN(t,e=Lf()){if(e._nuxtLinkPreloaded||(e._nuxtLinkPreloaded=new Set),e._nuxtLinkPreloaded.has(t))return;e._nuxtLinkPreloaded.add(t);const n=e.resolve(t).matched.map(i=>{var s;return(s=i.components)==null?void 0:s.default}).filter(i=>typeof i=="function"),r=[];for(const i of n){const s=Promise.resolve(i()).catch(()=>{});r.push(s)}await Promise.all(r)}function Bh(t){return t!==null&&typeof t=="object"}function tp(t,e,n=".",r){if(!Bh(e))return tp(t,{},n,r);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(r&&r(i,s,o,n)||(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:Bh(o)&&Bh(i[s])?i[s]=tp(o,i[s],(n?`${n}.`:"")+s.toString(),r):i[s]=o))}return i}function tS(t){return(...e)=>e.reduce((n,r)=>tp(n,r,"",t),{})}const bN=tS(),TN=tS((t,e,n,r)=>{if(typeof t[e]<"u"&&typeof n=="function")return t[e]=n(t[e]),!0}),EN={};TN(EN);function Fg(t){const e=Le(t)?ue(t):t;tn()._useHead(e)}const Vh={},SN=bo(t=>{for(const e in Vh)t.vueApp.component(e,Vh[e]),t.vueApp.component("Lazy"+e,Vh[e])});var IN="usehead",F_="head:count",jh="data-head-attrs",nS="data-meta-body",CN=(t,e,n)=>{const r=n.createElement(t);for(const i of Object.keys(e))if(i==="body"&&e.body===!0)r.setAttribute(nS,"true");else{let s=e[i];if(i==="renderPriority"||i==="key"||s===!1)continue;i==="children"?r.textContent=s:r.setAttribute(i,s)}return r};function B_(t,e){if(t instanceof HTMLElement&&e instanceof HTMLElement){const n=e.getAttribute("nonce");if(n&&!t.getAttribute("nonce")){const r=e.cloneNode(!0);return r.setAttribute("nonce",""),r.nonce=n,n===t.nonce&&t.isEqualNode(r)}}return t.isEqualNode(e)}var kN=t=>{if(!["meta","base","script","link"].includes(t.tag))return!1;const{props:e,tag:n}=t;if(n==="base")return"base";if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";const r=["key","id","name","property","http-equiv"];for(const i of r){let s;if(typeof e.getAttribute=="function"&&e.hasAttribute(i)?s=e.getAttribute(i):s=e[i],s!==void 0)return`${n}-${i}-${s}`}return!1},ON=["title","meta","link","base","style","script","noscript","htmlAttrs","bodyAttrs"],RN=(t,e)=>t==null?"":typeof t=="string"?t.replace("%s",e!=null?e:""):t(A(e)),AN=t=>{const e=[],n=Object.keys(t);for(const r of n)if(t[r]!=null)switch(r){case"title":e.push({tag:r,props:{children:t[r]}});break;case"titleTemplate":break;case"base":e.push({tag:r,props:{key:"default",...t[r]}});break;default:if(ON.includes(r)){const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({tag:r,props:A(s)})}):i&&e.push({tag:r,props:i})}break}return e},V_=(t,e)=>{const n=t.getAttribute(jh);if(n)for(const i of n.split(","))i in e||t.removeAttribute(i);const r=[];for(const i in e){const s=e[i];s!=null&&(s===!1?t.removeAttribute(i):t.setAttribute(i,s),r.push(i))}r.length?t.setAttribute(jh,r.join(",")):t.removeAttribute(jh)},PN=(t=window.document,e,n)=>{var r,i;const s=t.head,o=t.body;let a=s.querySelector(`meta[name="${F_}"]`),l=o.querySelectorAll(`[${nS}]`);const u=a?Number(a.getAttribute("content")):0,f=[],c=[];if(l)for(let d=0;d<l.length;d++)l[d]&&((r=l[d].tagName)==null?void 0:r.toLowerCase())===e&&c.push(l[d]);if(a)for(let d=0,p=a.previousElementSibling;d<u;d++,p=(p==null?void 0:p.previousElementSibling)||null)((i=p==null?void 0:p.tagName)==null?void 0:i.toLowerCase())===e&&f.push(p);else a=t.createElement("meta"),a.setAttribute("name",F_),a.setAttribute("content","0"),s.append(a);let h=n.map(d=>{var p;return{element:CN(d.tag,d.props,t),body:(p=d.props.body)!=null?p:!1}});h=h.filter(d=>{for(let p=0;p<f.length;p++){const T=f[p];if(B_(T,d.element))return f.splice(p,1),!1}for(let p=0;p<c.length;p++){const T=c[p];if(B_(T,d.element))return c.splice(p,1),!1}return!0}),c.forEach(d=>{var p;return(p=d.parentNode)==null?void 0:p.removeChild(d)}),f.forEach(d=>{var p;return(p=d.parentNode)==null?void 0:p.removeChild(d)}),h.forEach(d=>{d.body===!0?o.insertAdjacentElement("beforeend",d.element):s.insertBefore(d.element,a)}),a.setAttribute("content",""+(u-f.length+h.filter(d=>!d.body).length))},DN=t=>{let e=[],n=new Set;t&&e.push(Qu(t));const r={install(i){i.config.globalProperties.$head=r,i.provide(IN,r)},get headTags(){const i=[],s={},o=e.map(a=>A(a).titleTemplate).reverse().find(a=>a!=null);return e.forEach((a,l)=>{AN(A(a)).forEach((f,c)=>{f._position=l*1e4+c,o&&f.tag==="title"&&(f.props.children=RN(o,f.props.children));const h=kN(f);h?s[h]=f:i.push(f)})}),i.push(...Object.values(s)),i.sort((a,l)=>a._position-l._position)},addHeadObjs(i){e.push(i)},removeHeadObjs(i){e=e.filter(s=>s!==i)},updateDOM(i=window.document){let s,o={},a={};const l={};for(const f of r.headTags.sort(NN)){if(f.tag==="title"){s=f.props.children;continue}if(f.tag==="htmlAttrs"){Object.assign(o,f.props);continue}if(f.tag==="bodyAttrs"){Object.assign(a,f.props);continue}l[f.tag]=l[f.tag]||[],l[f.tag].push(f)}s!==void 0&&(i.title=s),V_(i.documentElement,o),V_(i.body,a);const u=new Set([...Object.keys(l),...n]);for(const f of u)PN(i,f,l[f]||[]);n.clear(),Object.keys(l).forEach(f=>n.add(f))}};return r},NN=(t,e)=>{const n=r=>{if(r.props.renderPriority)return r.props.renderPriority;switch(r.tag){case"base":return-1;case"meta":return r.props.charset?-2:r.props["http-equiv"]==="content-security-policy"?0:10;default:return 10}};return n(t)-n(e)};const xN=bo(t=>{const e=DN();t.vueApp.use(e);let n=!1;t.hooks.hookOnce("app:mounted",()=>{Wv(()=>{e.updateDOM()}),n=!0}),t._useHead=r=>{const i=me(r),s=ue(()=>{const a={meta:[]};return i.value.charset&&a.meta.push({key:"charset",charset:i.value.charset}),i.value.viewport&&a.meta.push({name:"viewport",content:i.value.viewport}),bN(a,i.value)});e.addHeadObjs(s),n&&Wv(()=>{e.updateDOM()}),Ci()&&Ga(()=>{e.removeHeadObjs(s),e.updateDOM()})}}),MN=t=>Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0)),Gr=(t,e)=>(n,r)=>(Fg(()=>t({...MN(n),...r.attrs},r)),()=>{var i,s;return e?(s=(i=r.slots).default)==null?void 0:s.call(i):null}),ki={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:String,contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},$N=at({name:"Script",inheritAttrs:!1,props:{...ki,async:Boolean,crossorigin:{type:[Boolean,String],default:void 0},defer:Boolean,fetchpriority:String,integrity:String,nomodule:Boolean,nonce:String,referrerpolicy:String,src:String,type:String,charset:String,language:String},setup:Gr(t=>({script:[t]}))}),LN=at({name:"NoScript",inheritAttrs:!1,props:{...ki,title:String},setup:Gr((t,{slots:e})=>{var i;const n={...t},r=(((i=e.default)==null?void 0:i.call(e))||[]).filter(({children:s})=>s).map(({children:s})=>s).join("");return r&&(n.children=r),{noscript:[n]}})}),UN=at({name:"Link",inheritAttrs:!1,props:{...ki,as:String,crossorigin:String,disabled:Boolean,fetchpriority:String,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String},setup:Gr(t=>({link:[t]}))}),FN=at({name:"Base",inheritAttrs:!1,props:{...ki,href:String,target:String},setup:Gr(t=>({base:t}))}),BN=at({name:"Title",inheritAttrs:!1,setup:Gr((t,{slots:e})=>{var r,i,s;return{title:((s=(i=(r=e.default)==null?void 0:r.call(e))==null?void 0:i[0])==null?void 0:s.children)||null}})}),VN=at({name:"Meta",inheritAttrs:!1,props:{...ki,charset:String,content:String,httpEquiv:String,name:String},setup:Gr(t=>{const e={...t};return e.httpEquiv&&(e["http-equiv"]=e.httpEquiv,delete e.httpEquiv),{meta:[e]}})}),jN=at({name:"Style",inheritAttrs:!1,props:{...ki,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup:Gr((t,{slots:e})=>{var i,s,o;const n={...t},r=(o=(s=(i=e.default)==null?void 0:i.call(e))==null?void 0:s[0])==null?void 0:o.children;return r&&(n.children=r),{style:[n]}})}),HN=at({name:"Head",inheritAttrs:!1,setup:(t,e)=>()=>{var n,r;return(r=(n=e.slots).default)==null?void 0:r.call(n)}}),WN=at({name:"Html",inheritAttrs:!1,props:{...ki,manifest:String,version:String,xmlns:String},setup:Gr(t=>({htmlAttrs:t}),!0)}),qN=at({name:"Body",inheritAttrs:!1,props:ki,setup:Gr(t=>({bodyAttrs:t}),!0)}),j_=Object.freeze(Object.defineProperty({__proto__:null,Script:$N,NoScript:LN,Link:UN,Base:FN,Title:BN,Meta:VN,Style:jN,Head:HN,Html:WN,Body:qN},Symbol.toStringTag,{value:"Module"})),KN={meta:[],link:[],style:[],script:[],noscript:[],charset:"utf-8",viewport:"width=device-width, initial-scale=1"},YN={name:"layout",mode:"out-in"},zN={name:"page",mode:"out-in"},GN=!1,QN={created(){const t=Ci();if(!t)return;const e=t.type;if(!e||!("head"in e))return;const n=tn(),r=typeof e.head=="function"?ue(()=>e.head(n)):e.head;Fg(r)}},XN=bo(t=>{Fg(Sg({title:"",...KN})),t.vueApp.mixin(QN);for(const e in j_)t.vueApp.component(e,j_[e])}),JN=(t,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),ZN=(t,e)=>{var i;const n=e.route.matched.find(s=>{var o;return((o=s.components)==null?void 0:o.default)===e.Component.type}),r=(i=t!=null?t:n==null?void 0:n.meta.key)!=null?i:n&&JN(e.route,n);return typeof r=="function"?r(e.route):r},ex=(t,e)=>({default:()=>t?xn(AR,t===!0?{}:t,e):e}),tx=at({setup(t,{slots:e}){return()=>{var n;return(n=e.default)==null?void 0:n.call(e)}}}),np=(t,e,n)=>({default:()=>e?xn(t,e===!0?{}:e,n):xn(tx,{},n)}),H_=Symbol("isNested"),Hh=at({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e}){const n=tn(),r=rr(H_,!1);return Ji(H_,!0),()=>xn(ZE,{name:t.name,route:t.route,...e},{default:i=>{var a,l,u,f;if(!i.Component)return;const s=ZN(t.pageKey,i),o=(l=(a=t.transition)!=null?a:i.route.meta.pageTransition)!=null?l:zN;return np(Ir,o,ex((f=(u=t.keepalive)!=null?u:i.route.meta.keepalive)!=null?f:GN,r&&n.isHydrating?xn(W_,{key:s,routeProps:i,pageKey:s,hasTransition:!!o}):xn(tE,{onPending:()=>n.callHook("page:start",i.Component),onResolve:()=>n.callHook("page:finish",i.Component)},{default:()=>xn(W_,{key:s,routeProps:i,pageKey:s,hasTransition:!!o})}))).default()}})}}),W_=at({props:["routeProps","pageKey","hasTransition"],setup(t){const e=t.pageKey,n=t.routeProps.route,r={};for(const i in t.routeProps.route)r[i]=ue(()=>e===t.pageKey?t.routeProps.route[i]:n[i]);return Ji("_route",En(r)),()=>xn(t.routeProps.Component)}}),nx=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Dl=void 0;function Ae(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ee(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function eu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(n){return typeof n}:eu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eu(t)}function De(t){Ee(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||eu(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function pi(t,e){Ee(2,arguments);var n=De(t),r=Ae(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function mr(t,e){Ee(2,arguments);var n=De(t),r=Ae(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function tu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(n){return typeof n}:tu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tu(t)}function rS(t,e){if(Ee(2,arguments),!e||tu(e)!=="object")return new Date(NaN);var n=e.years?Ae(e.years):0,r=e.months?Ae(e.months):0,i=e.weeks?Ae(e.weeks):0,s=e.days?Ae(e.days):0,o=e.hours?Ae(e.hours):0,a=e.minutes?Ae(e.minutes):0,l=e.seconds?Ae(e.seconds):0,u=De(t),f=r||n?mr(u,r+n*12):u,c=s||i?pi(f,s+i*7):f,h=a+o*60,d=l+h*60,p=d*1e3,T=new Date(c.getTime()+p);return T}function rx(t,e){Ee(2,arguments);var n=De(t).getTime(),r=Ae(e);return new Date(n+r)}var ix={};function Oi(){return ix}function rp(t,e){var n,r,i,s,o,a,l,u;Ee(1,arguments);var f=Oi(),c=Ae((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=De(t),d=h.getDay(),p=(d<c?7:0)+d-c;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function sc(t){return Ee(1,arguments),rp(t,{weekStartsOn:1})}function sx(t){Ee(1,arguments);var e=De(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=sc(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=sc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ox(t){Ee(1,arguments);var e=sx(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=sc(n);return r}function oc(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function q_(t){Ee(1,arguments);var e=De(t);return e.setHours(0,0,0,0),e}var ax=864e5;function lx(t,e){Ee(2,arguments);var n=q_(t),r=q_(e),i=n.getTime()-oc(n),s=r.getTime()-oc(r);return Math.round((i-s)/ax)}function iS(t,e){Ee(2,arguments);var n=Ae(e);return mr(t,n*12)}var Bg=6e4,Vg=36e5,ux=1e3;function nu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(n){return typeof n}:nu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nu(t)}function sS(t){return Ee(1,arguments),t instanceof Date||nu(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sa(t){if(Ee(1,arguments),!sS(t)&&typeof t!="number")return!1;var e=De(t);return!isNaN(Number(e))}function K_(t,e){var n;Ee(1,arguments);var r=t||{},i=De(r.start),s=De(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(De(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function cx(t,e){var n,r,i,s,o,a,l,u;Ee(1,arguments);var f=Oi(),c=Ae((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=De(t),d=h.getDay(),p=(d<c?-7:0)+6-(d-c);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function oS(t,e){Ee(2,arguments);var n=Ae(e);return rx(t,-n)}var fx=864e5;function hx(t){Ee(1,arguments);var e=De(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/fx)+1}function io(t){Ee(1,arguments);var e=1,n=De(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function aS(t){Ee(1,arguments);var e=De(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=io(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=io(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function dx(t){Ee(1,arguments);var e=aS(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=io(n);return r}var px=6048e5;function lS(t){Ee(1,arguments);var e=De(t),n=io(e).getTime()-dx(e).getTime();return Math.round(n/px)+1}function ss(t,e){var n,r,i,s,o,a,l,u;Ee(1,arguments);var f=Oi(),c=Ae((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=De(t),d=h.getUTCDay(),p=(d<c?7:0)+d-c;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function jg(t,e){var n,r,i,s,o,a,l,u;Ee(1,arguments);var f=De(t),c=f.getUTCFullYear(),h=Oi(),d=Ae((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(c+1,0,d),p.setUTCHours(0,0,0,0);var T=ss(p,e),O=new Date(0);O.setUTCFullYear(c,0,d),O.setUTCHours(0,0,0,0);var _=ss(O,e);return f.getTime()>=T.getTime()?c+1:f.getTime()>=_.getTime()?c:c-1}function mx(t,e){var n,r,i,s,o,a,l,u;Ee(1,arguments);var f=Oi(),c=Ae((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=jg(t,e),d=new Date(0);d.setUTCFullYear(h,0,c),d.setUTCHours(0,0,0,0);var p=ss(d,e);return p}var gx=6048e5;function uS(t,e){Ee(1,arguments);var n=De(t),r=ss(n,e).getTime()-mx(n,e).getTime();return Math.round(r/gx)+1}function st(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var yx={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return st(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):st(r+1,2)},d:function(e,n){return st(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return st(e.getUTCHours()%12||12,n.length)},H:function(e,n){return st(e.getUTCHours(),n.length)},m:function(e,n){return st(e.getUTCMinutes(),n.length)},s:function(e,n){return st(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return st(s,n.length)}};const ni=yx;var ks={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vx={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return ni.y(e,n)},Y:function(e,n,r,i){var s=jg(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return st(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):st(o,n.length)},R:function(e,n){var r=aS(e);return st(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return st(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return st(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return st(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return ni.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return st(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=uS(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):st(s,n.length)},I:function(e,n,r){var i=lS(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):st(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):ni.d(e,n)},D:function(e,n,r){var i=hx(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):st(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return st(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return st(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return st(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=ks.noon:i===0?s=ks.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=ks.evening:i>=12?s=ks.afternoon:i>=4?s=ks.morning:s=ks.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return ni.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ni.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):st(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):st(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ni.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ni.s(e,n)},S:function(e,n){return ni.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return z_(o);case"XXXX":case"XX":return Ui(o);case"XXXXX":case"XXX":default:return Ui(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return z_(o);case"xxxx":case"xx":return Ui(o);case"xxxxx":case"xxx":default:return Ui(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Y_(o,":");case"OOOO":default:return"GMT"+Ui(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Y_(o,":");case"zzzz":default:return"GMT"+Ui(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return st(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return st(o,n.length)}};function Y_(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+st(s,2)}function z_(t,e){if(t%60===0){var n=t>0?"-":"+";return n+st(Math.abs(t)/60,2)}return Ui(t,e)}function Ui(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=st(Math.floor(i/60),2),o=st(i%60,2);return r+s+n+o}const _x=vx;var G_=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},cS=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},wx=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return G_(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",G_(i,n)).replace("{{time}}",cS(s,n))},bx={p:cS,P:wx};const ip=bx;var Tx=["D","DD"],Ex=["YY","YYYY"];function fS(t){return Tx.indexOf(t)!==-1}function hS(t){return Ex.indexOf(t)!==-1}function ac(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Sx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ix=function(e,n,r){var i,s=Sx[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Cx=Ix;function Wh(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var kx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ox={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ax={date:Wh({formats:kx,defaultWidth:"full"}),time:Wh({formats:Ox,defaultWidth:"full"}),dateTime:Wh({formats:Rx,defaultWidth:"full"})};const Px=Ax;var Dx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nx=function(e,n,r,i){return Dx[e]};const xx=Nx;function Lo(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Mx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$x={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ux={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Fx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vx=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},jx={ordinalNumber:Vx,era:Lo({values:Mx,defaultWidth:"wide"}),quarter:Lo({values:$x,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Lo({values:Lx,defaultWidth:"wide"}),day:Lo({values:Ux,defaultWidth:"wide"}),dayPeriod:Lo({values:Fx,defaultWidth:"wide",formattingValues:Bx,defaultFormattingWidth:"wide"})};const Hx=jx;function Uo(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qx(a,function(c){return c.test(o)}):Wx(a,function(c){return c.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var f=e.slice(o.length);return{value:u,rest:f}}}function Wx(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function qx(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Kx(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Yx=/^(\d+)(th|st|nd|rd)?/i,zx=/\d+/i,Gx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qx={any:[/^b/i,/^(a|c)/i]},Xx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jx={any:[/1/i,/2/i,/3/i,/4/i]},Zx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sM={ordinalNumber:Kx({matchPattern:Yx,parsePattern:zx,valueCallback:function(e){return parseInt(e,10)}}),era:Uo({matchPatterns:Gx,defaultMatchWidth:"wide",parsePatterns:Qx,defaultParseWidth:"any"}),quarter:Uo({matchPatterns:Xx,defaultMatchWidth:"wide",parsePatterns:Jx,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Uo({matchPatterns:Zx,defaultMatchWidth:"wide",parsePatterns:eM,defaultParseWidth:"any"}),day:Uo({matchPatterns:tM,defaultMatchWidth:"wide",parsePatterns:nM,defaultParseWidth:"any"}),dayPeriod:Uo({matchPatterns:rM,defaultMatchWidth:"any",parsePatterns:iM,defaultParseWidth:"any"})};const oM=sM;var aM={code:"en-US",formatDistance:Cx,formatLong:Px,formatRelative:xx,localize:Hx,match:oM,options:{weekStartsOn:0,firstWeekContainsDate:1}};const dS=aM;var lM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cM=/^'([^]*?)'?$/,fM=/''/g,hM=/[a-zA-Z]/;function oa(t,e,n){var r,i,s,o,a,l,u,f,c,h,d,p,T,O,_,m,w,R;Ee(2,arguments);var x=String(e),v=Oi(),k=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:v.locale)!==null&&r!==void 0?r:dS,C=Ae((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&o!==void 0?o:(c=v.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=Ae((d=(p=(T=(O=n==null?void 0:n.weekStartsOn)!==null&&O!==void 0?O:n==null||(_=n.locale)===null||_===void 0||(m=_.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&T!==void 0?T:v.weekStartsOn)!==null&&p!==void 0?p:(w=v.locale)===null||w===void 0||(R=w.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&d!==void 0?d:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var H=De(t);if(!sa(H))throw new RangeError("Invalid time value");var M=oc(H),U=oS(H,M),D={firstWeekContainsDate:C,weekStartsOn:F,locale:k,_originalDate:H},S=x.match(uM).map(function(j){var L=j[0];if(L==="p"||L==="P"){var g=ip[L];return g(j,k.formatLong)}return j}).join("").match(lM).map(function(j){if(j==="''")return"'";var L=j[0];if(L==="'")return dM(j);var g=_x[L];if(g)return!(n!=null&&n.useAdditionalWeekYearTokens)&&hS(j)&&ac(j,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&fS(j)&&ac(j,e,String(t)),g(U,j,k.localize,D);if(L.match(hM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return j}).join("");return S}function dM(t){var e=t.match(cM);return e?e[1].replace(fM,"'"):t}function pM(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function mM(t){Ee(1,arguments);var e=De(t),n=e.getDay();return n}function gM(t){Ee(1,arguments);var e=De(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Ar(t){Ee(1,arguments);var e=De(t),n=e.getHours();return n}var yM=6048e5;function vM(t){Ee(1,arguments);var e=De(t),n=sc(e).getTime()-ox(e).getTime();return Math.round(n/yM)+1}function Pr(t){Ee(1,arguments);var e=De(t),n=e.getMinutes();return n}function Tt(t){Ee(1,arguments);var e=De(t),n=e.getMonth();return n}function so(t){Ee(1,arguments);var e=De(t),n=e.getSeconds();return n}function Et(t){return Ee(1,arguments),De(t).getFullYear()}function Hg(t,e){Ee(2,arguments);var n=De(t),r=De(e);return n.getTime()>r.getTime()}function Wg(t,e){Ee(2,arguments);var n=De(t),r=De(e);return n.getTime()<r.getTime()}function pS(t,e){Ee(2,arguments);var n=De(t),r=De(e);return n.getTime()===r.getTime()}function ru(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(n){return typeof n}:ru=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ru(t)}function mS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sp(t,e)}function sp(t,e){return sp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},sp(t,e)}function gS(t){var e=wM();return function(){var r=lc(t),i;if(e){var s=lc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return _M(this,i)}}function _M(t,e){return e&&(ru(e)==="object"||typeof e=="function")?e:op(t)}function op(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},lc(t)}function qg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kg(t,e,n){return e&&Q_(t.prototype,e),n&&Q_(t,n),t}function ap(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bM=10,yS=function(){function t(){qg(this,t),ap(this,"subPriority",0)}return Kg(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),TM=function(t){mS(n,t);var e=gS(n);function n(r,i,s,o,a){var l;return qg(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return Kg(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(yS),EM=function(t){mS(n,t);var e=gS(n);function n(){var r;qg(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),ap(op(r),"priority",bM),ap(op(r),"subPriority",-1),r}return Kg(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(yS);function SM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IM(t,e,n){return e&&X_(t.prototype,e),n&&X_(t,n),t}var tt=function(){function t(){SM(this,t)}return IM(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new TM(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}();function iu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(n){return typeof n}:iu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},iu(t)}function CM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kM(t,e,n){return e&&J_(t.prototype,e),n&&J_(t,n),t}function OM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lp(t,e)}function lp(t,e){return lp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lp(t,e)}function RM(t){var e=PM();return function(){var r=uc(t),i;if(e){var s=uc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return AM(this,i)}}function AM(t,e){return e&&(iu(e)==="object"||typeof e=="function")?e:up(t)}function up(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uc(t){return uc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},uc(t)}function Z_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DM=function(t){OM(n,t);var e=RM(n);function n(){var r;CM(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Z_(up(r),"priority",140),Z_(up(r),"incompatibleTokens",["R","u","t","T"]),r}return kM(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(tt),Rt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function At(t,e){return t&&{value:e(t.value),rest:t.rest}}function St(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function hr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Vg+s*Bg+o*ux),rest:e.slice(n[0].length)}}function vS(t){return St(Rt.anyDigitsSigned,t)}function kt(t,e){switch(t){case 1:return St(Rt.singleDigit,e);case 2:return St(Rt.twoDigits,e);case 3:return St(Rt.threeDigits,e);case 4:return St(Rt.fourDigits,e);default:return St(new RegExp("^\\d{1,"+t+"}"),e)}}function cc(t,e){switch(t){case 1:return St(Rt.singleDigitSigned,e);case 2:return St(Rt.twoDigitsSigned,e);case 3:return St(Rt.threeDigitsSigned,e);case 4:return St(Rt.fourDigitsSigned,e);default:return St(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Yg(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _S(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function wS(t){return t%400===0||t%4===0&&t%100!==0}function su(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(n){return typeof n}:su=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},su(t)}function NM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xM(t,e,n){return e&&e0(t.prototype,e),n&&e0(t,n),t}function MM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cp(t,e)}function cp(t,e){return cp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cp(t,e)}function $M(t){var e=UM();return function(){var r=fc(t),i;if(e){var s=fc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return LM(this,i)}}function LM(t,e){return e&&(su(e)==="object"||typeof e=="function")?e:fp(t)}function fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fc(t){return fc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fc(t)}function t0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var FM=function(t){MM(n,t);var e=$M(n);function n(){var r;NM(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),t0(fp(r),"priority",130),t0(fp(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return xM(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return At(kt(4,i),a);case"yo":return At(o.ordinalNumber(i,{unit:"year"}),a);default:return At(kt(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=_S(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function ou(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(n){return typeof n}:ou=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ou(t)}function BM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VM(t,e,n){return e&&n0(t.prototype,e),n&&n0(t,n),t}function jM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hp(t,e)}function hp(t,e){return hp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},hp(t,e)}function HM(t){var e=qM();return function(){var r=hc(t),i;if(e){var s=hc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return WM(this,i)}}function WM(t,e){return e&&(ou(e)==="object"||typeof e=="function")?e:dp(t)}function dp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hc(t)}function r0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KM=function(t){jM(n,t);var e=HM(n);function n(){var r;BM(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r0(dp(r),"priority",130),r0(dp(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return VM(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return At(kt(4,i),a);case"Yo":return At(o.ordinalNumber(i,{unit:"year"}),a);default:return At(kt(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=jg(i,a);if(o.isTwoDigitYear){var u=_S(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ss(i,a)}var f=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(f,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ss(i,a)}}]),n}(tt);function au(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(n){return typeof n}:au=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},au(t)}function YM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zM(t,e,n){return e&&i0(t.prototype,e),n&&i0(t,n),t}function GM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pp(t,e)}function pp(t,e){return pp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pp(t,e)}function QM(t){var e=JM();return function(){var r=dc(t),i;if(e){var s=dc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return XM(this,i)}}function XM(t,e){return e&&(au(e)==="object"||typeof e=="function")?e:mp(t)}function mp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},dc(t)}function s0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZM=function(t){GM(n,t);var e=QM(n);function n(){var r;YM(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),s0(mp(r),"priority",130),s0(mp(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return zM(n,[{key:"parse",value:function(i,s){return cc(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),io(a)}}]),n}(tt);function lu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(n){return typeof n}:lu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lu(t)}function e$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t$(t,e,n){return e&&o0(t.prototype,e),n&&o0(t,n),t}function n$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gp(t,e)}function gp(t,e){return gp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},gp(t,e)}function r$(t){var e=s$();return function(){var r=pc(t),i;if(e){var s=pc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return i$(this,i)}}function i$(t,e){return e&&(lu(e)==="object"||typeof e=="function")?e:yp(t)}function yp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pc(t){return pc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pc(t)}function a0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o$=function(t){n$(n,t);var e=r$(n);function n(){var r;e$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),a0(yp(r),"priority",130),a0(yp(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return t$(n,[{key:"parse",value:function(i,s){return cc(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function uu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(n){return typeof n}:uu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uu(t)}function a$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l$(t,e,n){return e&&l0(t.prototype,e),n&&l0(t,n),t}function u$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vp(t,e)}function vp(t,e){return vp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vp(t,e)}function c$(t){var e=h$();return function(){var r=mc(t),i;if(e){var s=mc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return f$(this,i)}}function f$(t,e){return e&&(uu(e)==="object"||typeof e=="function")?e:_p(t)}function _p(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mc(t){return mc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},mc(t)}function u0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d$=function(t){u$(n,t);var e=c$(n);function n(){var r;a$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),u0(_p(r),"priority",120),u0(_p(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return l$(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return kt(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function cu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(n){return typeof n}:cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cu(t)}function p$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m$(t,e,n){return e&&c0(t.prototype,e),n&&c0(t,n),t}function g$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wp(t,e)}function wp(t,e){return wp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},wp(t,e)}function y$(t){var e=_$();return function(){var r=gc(t),i;if(e){var s=gc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return v$(this,i)}}function v$(t,e){return e&&(cu(e)==="object"||typeof e=="function")?e:bp(t)}function bp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gc(t){return gc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gc(t)}function f0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w$=function(t){g$(n,t);var e=y$(n);function n(){var r;p$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),f0(bp(r),"priority",120),f0(bp(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return m$(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return kt(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function fu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(n){return typeof n}:fu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fu(t)}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T$(t,e,n){return e&&h0(t.prototype,e),n&&h0(t,n),t}function E$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tp(t,e)}function Tp(t,e){return Tp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Tp(t,e)}function S$(t){var e=C$();return function(){var r=yc(t),i;if(e){var s=yc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return I$(this,i)}}function I$(t,e){return e&&(fu(e)==="object"||typeof e=="function")?e:Ep(t)}function Ep(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yc(t){return yc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yc(t)}function d0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k$=function(t){E$(n,t);var e=S$(n);function n(){var r;b$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),d0(Ep(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),d0(Ep(r),"priority",110),r}return T$(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return At(St(Rt.month,i),a);case"MM":return At(kt(2,i),a);case"Mo":return At(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function hu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(n){return typeof n}:hu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hu(t)}function O$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R$(t,e,n){return e&&p0(t.prototype,e),n&&p0(t,n),t}function A$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sp(t,e)}function Sp(t,e){return Sp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Sp(t,e)}function P$(t){var e=N$();return function(){var r=vc(t),i;if(e){var s=vc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return D$(this,i)}}function D$(t,e){return e&&(hu(e)==="object"||typeof e=="function")?e:Ip(t)}function Ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vc(t)}function m0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x$=function(t){A$(n,t);var e=P$(n);function n(){var r;O$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),m0(Ip(r),"priority",110),m0(Ip(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return R$(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return At(St(Rt.month,i),a);case"LL":return At(kt(2,i),a);case"Lo":return At(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function M$(t,e,n){Ee(2,arguments);var r=De(t),i=Ae(e),s=uS(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}function du(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(n){return typeof n}:du=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},du(t)}function $$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L$(t,e,n){return e&&g0(t.prototype,e),n&&g0(t,n),t}function U$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cp(t,e)}function Cp(t,e){return Cp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Cp(t,e)}function F$(t){var e=V$();return function(){var r=_c(t),i;if(e){var s=_c(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return B$(this,i)}}function B$(t,e){return e&&(du(e)==="object"||typeof e=="function")?e:kp(t)}function kp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _c(t){return _c=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_c(t)}function y0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j$=function(t){U$(n,t);var e=F$(n);function n(){var r;$$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),y0(kp(r),"priority",100),y0(kp(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return L$(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return St(Rt.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return ss(M$(i,o,a),a)}}]),n}(tt);function H$(t,e){Ee(2,arguments);var n=De(t),r=Ae(e),i=lS(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}function pu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(n){return typeof n}:pu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pu(t)}function W$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q$(t,e,n){return e&&v0(t.prototype,e),n&&v0(t,n),t}function K$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Op(t,e)}function Op(t,e){return Op=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Op(t,e)}function Y$(t){var e=G$();return function(){var r=wc(t),i;if(e){var s=wc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return z$(this,i)}}function z$(t,e){return e&&(pu(e)==="object"||typeof e=="function")?e:Rp(t)}function Rp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wc(t){return wc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wc(t)}function _0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q$=function(t){K$(n,t);var e=Y$(n);function n(){var r;W$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),_0(Rp(r),"priority",100),_0(Rp(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return q$(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return St(Rt.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return io(H$(i,o))}}]),n}(tt);function mu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(n){return typeof n}:mu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mu(t)}function X$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J$(t,e,n){return e&&w0(t.prototype,e),n&&w0(t,n),t}function Z$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ap(t,e)}function Ap(t,e){return Ap=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ap(t,e)}function eL(t){var e=nL();return function(){var r=bc(t),i;if(e){var s=bc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return tL(this,i)}}function tL(t,e){return e&&(mu(e)==="object"||typeof e=="function")?e:gu(t)}function gu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bc(t){return bc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bc(t)}function qh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rL=[31,28,31,30,31,30,31,31,30,31,30,31],iL=[31,29,31,30,31,30,31,31,30,31,30,31],sL=function(t){Z$(n,t);var e=eL(n);function n(){var r;X$(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),qh(gu(r),"priority",90),qh(gu(r),"subPriority",1),qh(gu(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return J$(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return St(Rt.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=wS(o),l=i.getUTCMonth();return a?s>=1&&s<=iL[l]:s>=1&&s<=rL[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function yu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(n){return typeof n}:yu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yu(t)}function oL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aL(t,e,n){return e&&b0(t.prototype,e),n&&b0(t,n),t}function lL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pp(t,e)}function Pp(t,e){return Pp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Pp(t,e)}function uL(t){var e=fL();return function(){var r=Tc(t),i;if(e){var s=Tc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return cL(this,i)}}function cL(t,e){return e&&(yu(e)==="object"||typeof e=="function")?e:vu(t)}function vu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tc(t){return Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tc(t)}function Kh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hL=function(t){lL(n,t);var e=uL(n);function n(){var r;oL(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Kh(vu(r),"priority",90),Kh(vu(r),"subpriority",1),Kh(vu(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return aL(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return St(Rt.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=wS(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function zg(t,e,n){var r,i,s,o,a,l,u,f;Ee(2,arguments);var c=Oi(),h=Ae((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&i!==void 0?i:(u=c.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=De(t),p=Ae(e),T=d.getUTCDay(),O=p%7,_=(O+7)%7,m=(_<h?7:0)+p-T;return d.setUTCDate(d.getUTCDate()+m),d}function _u(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(n){return typeof n}:_u=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_u(t)}function dL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pL(t,e,n){return e&&T0(t.prototype,e),n&&T0(t,n),t}function mL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dp(t,e)}function Dp(t,e){return Dp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Dp(t,e)}function gL(t){var e=vL();return function(){var r=Ec(t),i;if(e){var s=Ec(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return yL(this,i)}}function yL(t,e){return e&&(_u(e)==="object"||typeof e=="function")?e:Np(t)}function Np(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ec(t){return Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ec(t)}function E0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _L=function(t){mL(n,t);var e=gL(n);function n(){var r;dL(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),E0(Np(r),"priority",90),E0(Np(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return pL(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=zg(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function wu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(n){return typeof n}:wu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wu(t)}function wL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bL(t,e,n){return e&&S0(t.prototype,e),n&&S0(t,n),t}function TL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xp(t,e)}function xp(t,e){return xp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xp(t,e)}function EL(t){var e=IL();return function(){var r=Sc(t),i;if(e){var s=Sc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return SL(this,i)}}function SL(t,e){return e&&(wu(e)==="object"||typeof e=="function")?e:Mp(t)}function Mp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sc(t){return Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sc(t)}function I0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var CL=function(t){TL(n,t);var e=EL(n);function n(){var r;wL(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),I0(Mp(r),"priority",90),I0(Mp(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return bL(n,[{key:"parse",value:function(i,s,o,a){var l=function(f){var c=Math.floor((f-1)/7)*7;return(f+a.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return At(kt(s.length,i),l);case"eo":return At(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=zg(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function bu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bu=function(n){return typeof n}:bu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bu(t)}function kL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OL(t,e,n){return e&&C0(t.prototype,e),n&&C0(t,n),t}function RL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$p(t,e)}function $p(t,e){return $p=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$p(t,e)}function AL(t){var e=DL();return function(){var r=Ic(t),i;if(e){var s=Ic(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return PL(this,i)}}function PL(t,e){return e&&(bu(e)==="object"||typeof e=="function")?e:Lp(t)}function Lp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ic(t){return Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ic(t)}function k0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var NL=function(t){RL(n,t);var e=AL(n);function n(){var r;kL(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),k0(Lp(r),"priority",90),k0(Lp(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return OL(n,[{key:"parse",value:function(i,s,o,a){var l=function(f){var c=Math.floor((f-1)/7)*7;return(f+a.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return At(kt(s.length,i),l);case"co":return At(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=zg(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function xL(t,e){Ee(2,arguments);var n=Ae(e);n%7===0&&(n=n-7);var r=1,i=De(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}function Tu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(n){return typeof n}:Tu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tu(t)}function ML(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $L(t,e,n){return e&&O0(t.prototype,e),n&&O0(t,n),t}function LL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Up(t,e)}function Up(t,e){return Up=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Up(t,e)}function UL(t){var e=BL();return function(){var r=Cc(t),i;if(e){var s=Cc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return FL(this,i)}}function FL(t,e){return e&&(Tu(e)==="object"||typeof e=="function")?e:Fp(t)}function Fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cc(t){return Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cc(t)}function R0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VL=function(t){LL(n,t);var e=UL(n);function n(){var r;ML(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),R0(Fp(r),"priority",90),R0(Fp(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return $L(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return kt(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return At(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return At(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return At(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return At(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=xL(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(tt);function Eu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(n){return typeof n}:Eu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Eu(t)}function jL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HL(t,e,n){return e&&A0(t.prototype,e),n&&A0(t,n),t}function WL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bp(t,e)}function Bp(t,e){return Bp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Bp(t,e)}function qL(t){var e=YL();return function(){var r=kc(t),i;if(e){var s=kc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return KL(this,i)}}function KL(t,e){return e&&(Eu(e)==="object"||typeof e=="function")?e:Vp(t)}function Vp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kc(t){return kc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kc(t)}function P0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zL=function(t){WL(n,t);var e=qL(n);function n(){var r;jL(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),P0(Vp(r),"priority",80),P0(Vp(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return HL(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Yg(o),0,0,0),i}}]),n}(tt);function Su(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(n){return typeof n}:Su=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Su(t)}function GL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QL(t,e,n){return e&&D0(t.prototype,e),n&&D0(t,n),t}function XL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jp(t,e)}function jp(t,e){return jp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jp(t,e)}function JL(t){var e=eU();return function(){var r=Oc(t),i;if(e){var s=Oc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ZL(this,i)}}function ZL(t,e){return e&&(Su(e)==="object"||typeof e=="function")?e:Hp(t)}function Hp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oc(t){return Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Oc(t)}function N0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tU=function(t){XL(n,t);var e=JL(n);function n(){var r;GL(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),N0(Hp(r),"priority",80),N0(Hp(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return QL(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Yg(o),0,0,0),i}}]),n}(tt);function Iu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(n){return typeof n}:Iu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Iu(t)}function nU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rU(t,e,n){return e&&x0(t.prototype,e),n&&x0(t,n),t}function iU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wp(t,e)}function Wp(t,e){return Wp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Wp(t,e)}function sU(t){var e=aU();return function(){var r=Rc(t),i;if(e){var s=Rc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return oU(this,i)}}function oU(t,e){return e&&(Iu(e)==="object"||typeof e=="function")?e:qp(t)}function qp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rc(t){return Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Rc(t)}function M0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lU=function(t){iU(n,t);var e=sU(n);function n(){var r;nU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),M0(qp(r),"priority",80),M0(qp(r),"incompatibleTokens",["a","b","t","T"]),r}return rU(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Yg(o),0,0,0),i}}]),n}(tt);function Cu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(n){return typeof n}:Cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cu(t)}function uU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cU(t,e,n){return e&&$0(t.prototype,e),n&&$0(t,n),t}function fU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kp(t,e)}function Kp(t,e){return Kp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Kp(t,e)}function hU(t){var e=pU();return function(){var r=Ac(t),i;if(e){var s=Ac(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return dU(this,i)}}function dU(t,e){return e&&(Cu(e)==="object"||typeof e=="function")?e:Yp(t)}function Yp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ac(t){return Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ac(t)}function L0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mU=function(t){fU(n,t);var e=hU(n);function n(){var r;uU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),L0(Yp(r),"priority",70),L0(Yp(r),"incompatibleTokens",["H","K","k","t","T"]),r}return cU(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return St(Rt.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(tt);function ku(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(n){return typeof n}:ku=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ku(t)}function gU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yU(t,e,n){return e&&U0(t.prototype,e),n&&U0(t,n),t}function vU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zp(t,e)}function zp(t,e){return zp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},zp(t,e)}function _U(t){var e=bU();return function(){var r=Pc(t),i;if(e){var s=Pc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return wU(this,i)}}function wU(t,e){return e&&(ku(e)==="object"||typeof e=="function")?e:Gp(t)}function Gp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pc(t){return Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pc(t)}function F0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var TU=function(t){vU(n,t);var e=_U(n);function n(){var r;gU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),F0(Gp(r),"priority",70),F0(Gp(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return yU(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return St(Rt.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(tt);function Ou(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(n){return typeof n}:Ou=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ou(t)}function EU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SU(t,e,n){return e&&B0(t.prototype,e),n&&B0(t,n),t}function IU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qp(t,e)}function Qp(t,e){return Qp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Qp(t,e)}function CU(t){var e=OU();return function(){var r=Dc(t),i;if(e){var s=Dc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return kU(this,i)}}function kU(t,e){return e&&(Ou(e)==="object"||typeof e=="function")?e:Xp(t)}function Xp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dc(t){return Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Dc(t)}function V0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var RU=function(t){IU(n,t);var e=CU(n);function n(){var r;EU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),V0(Xp(r),"priority",70),V0(Xp(r),"incompatibleTokens",["h","H","k","t","T"]),r}return SU(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return St(Rt.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(tt);function Ru(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(n){return typeof n}:Ru=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ru(t)}function AU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PU(t,e,n){return e&&j0(t.prototype,e),n&&j0(t,n),t}function DU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jp(t,e)}function Jp(t,e){return Jp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Jp(t,e)}function NU(t){var e=MU();return function(){var r=Nc(t),i;if(e){var s=Nc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return xU(this,i)}}function xU(t,e){return e&&(Ru(e)==="object"||typeof e=="function")?e:Zp(t)}function Zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nc(t)}function H0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $U=function(t){DU(n,t);var e=NU(n);function n(){var r;AU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),H0(Zp(r),"priority",70),H0(Zp(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return PU(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return St(Rt.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(tt);function Au(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(n){return typeof n}:Au=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Au(t)}function LU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UU(t,e,n){return e&&W0(t.prototype,e),n&&W0(t,n),t}function FU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&em(t,e)}function em(t,e){return em=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},em(t,e)}function BU(t){var e=jU();return function(){var r=xc(t),i;if(e){var s=xc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return VU(this,i)}}function VU(t,e){return e&&(Au(e)==="object"||typeof e=="function")?e:tm(t)}function tm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xc(t){return xc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xc(t)}function q0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HU=function(t){FU(n,t);var e=BU(n);function n(){var r;LU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q0(tm(r),"priority",60),q0(tm(r),"incompatibleTokens",["t","T"]),r}return UU(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return St(Rt.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(tt);function Pu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(n){return typeof n}:Pu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pu(t)}function WU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qU(t,e,n){return e&&K0(t.prototype,e),n&&K0(t,n),t}function KU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nm(t,e)}function nm(t,e){return nm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},nm(t,e)}function YU(t){var e=GU();return function(){var r=Mc(t),i;if(e){var s=Mc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return zU(this,i)}}function zU(t,e){return e&&(Pu(e)==="object"||typeof e=="function")?e:rm(t)}function rm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mc(t){return Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mc(t)}function Y0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QU=function(t){KU(n,t);var e=YU(n);function n(){var r;WU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Y0(rm(r),"priority",50),Y0(rm(r),"incompatibleTokens",["t","T"]),r}return qU(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return St(Rt.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return kt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(tt);function Du(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Du=function(n){return typeof n}:Du=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Du(t)}function XU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JU(t,e,n){return e&&z0(t.prototype,e),n&&z0(t,n),t}function ZU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&im(t,e)}function im(t,e){return im=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},im(t,e)}function eF(t){var e=nF();return function(){var r=$c(t),i;if(e){var s=$c(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return tF(this,i)}}function tF(t,e){return e&&(Du(e)==="object"||typeof e=="function")?e:sm(t)}function sm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $c(t){return $c=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$c(t)}function G0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rF=function(t){ZU(n,t);var e=eF(n);function n(){var r;XU(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),G0(sm(r),"priority",30),G0(sm(r),"incompatibleTokens",["t","T"]),r}return JU(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return At(kt(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(tt);function Nu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nu=function(n){return typeof n}:Nu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nu(t)}function iF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sF(t,e,n){return e&&Q0(t.prototype,e),n&&Q0(t,n),t}function oF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&om(t,e)}function om(t,e){return om=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},om(t,e)}function aF(t){var e=uF();return function(){var r=Lc(t),i;if(e){var s=Lc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lF(this,i)}}function lF(t,e){return e&&(Nu(e)==="object"||typeof e=="function")?e:am(t)}function am(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lc(t){return Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Lc(t)}function X0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cF=function(t){oF(n,t);var e=aF(n);function n(){var r;iF(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),X0(am(r),"priority",10),X0(am(r),"incompatibleTokens",["t","T","x"]),r}return sF(n,[{key:"parse",value:function(i,s){switch(s){case"X":return hr(fr.basicOptionalMinutes,i);case"XX":return hr(fr.basic,i);case"XXXX":return hr(fr.basicOptionalSeconds,i);case"XXXXX":return hr(fr.extendedOptionalSeconds,i);case"XXX":default:return hr(fr.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(tt);function xu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(n){return typeof n}:xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xu(t)}function fF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hF(t,e,n){return e&&J0(t.prototype,e),n&&J0(t,n),t}function dF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lm(t,e)}function lm(t,e){return lm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lm(t,e)}function pF(t){var e=gF();return function(){var r=Uc(t),i;if(e){var s=Uc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mF(this,i)}}function mF(t,e){return e&&(xu(e)==="object"||typeof e=="function")?e:um(t)}function um(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uc(t){return Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Uc(t)}function Z0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yF=function(t){dF(n,t);var e=pF(n);function n(){var r;fF(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Z0(um(r),"priority",10),Z0(um(r),"incompatibleTokens",["t","T","X"]),r}return hF(n,[{key:"parse",value:function(i,s){switch(s){case"x":return hr(fr.basicOptionalMinutes,i);case"xx":return hr(fr.basic,i);case"xxxx":return hr(fr.basicOptionalSeconds,i);case"xxxxx":return hr(fr.extendedOptionalSeconds,i);case"xxx":default:return hr(fr.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(tt);function Mu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(n){return typeof n}:Mu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mu(t)}function vF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ew(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _F(t,e,n){return e&&ew(t.prototype,e),n&&ew(t,n),t}function wF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cm(t,e)}function cm(t,e){return cm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cm(t,e)}function bF(t){var e=EF();return function(){var r=Fc(t),i;if(e){var s=Fc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return TF(this,i)}}function TF(t,e){return e&&(Mu(e)==="object"||typeof e=="function")?e:fm(t)}function fm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fc(t){return Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Fc(t)}function tw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var SF=function(t){wF(n,t);var e=bF(n);function n(){var r;vF(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),tw(fm(r),"priority",40),tw(fm(r),"incompatibleTokens","*"),r}return _F(n,[{key:"parse",value:function(i){return vS(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(tt);function $u(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(n){return typeof n}:$u=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$u(t)}function IF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CF(t,e,n){return e&&nw(t.prototype,e),n&&nw(t,n),t}function kF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hm(t,e)}function hm(t,e){return hm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},hm(t,e)}function OF(t){var e=AF();return function(){var r=Bc(t),i;if(e){var s=Bc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return RF(this,i)}}function RF(t,e){return e&&($u(e)==="object"||typeof e=="function")?e:dm(t)}function dm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bc(t){return Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bc(t)}function rw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PF=function(t){kF(n,t);var e=OF(n);function n(){var r;IF(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),rw(dm(r),"priority",20),rw(dm(r),"incompatibleTokens","*"),r}return CF(n,[{key:"parse",value:function(i){return vS(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(tt),DF={G:new DM,y:new FM,Y:new KM,R:new ZM,u:new o$,Q:new d$,q:new w$,M:new k$,L:new x$,w:new j$,I:new Q$,d:new sL,D:new hL,E:new _L,e:new CL,c:new NL,i:new VL,a:new zL,b:new tU,B:new lU,h:new mU,H:new TU,K:new RU,k:new $U,m:new HU,s:new QU,S:new rF,X:new cF,x:new yF,t:new SF,T:new PF};function Lu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(n){return typeof n}:Lu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lu(t)}function iw(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=NF(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function NF(t,e){if(!!t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$F=/^'([^]*?)'?$/,LF=/''/g,UF=/\S/,FF=/[a-zA-Z]/;function pm(t,e,n,r){var i,s,o,a,l,u,f,c,h,d,p,T,O,_,m,w,R,x;Ee(3,arguments);var v=String(t),k=String(e),C=Oi(),F=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:C.locale)!==null&&i!==void 0?i:dS;if(!F.match)throw new RangeError("locale must contain match property");var H=Ae((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(f=r.locale)===null||f===void 0||(c=f.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(d=h.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(H>=1&&H<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Ae((p=(T=(O=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(m=r.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&O!==void 0?O:C.weekStartsOn)!==null&&T!==void 0?T:(R=C.locale)===null||R===void 0||(x=R.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(k==="")return v===""?De(n):new Date(NaN);var U={firstWeekContainsDate:H,weekStartsOn:M,locale:F},D=[new EM],S=k.match(MF).map(function(oe){var Q=oe[0];if(Q in ip){var xe=ip[Q];return xe(oe,F.formatLong)}return oe}).join("").match(xF),j=[],L=iw(S),g;try{var P=function(){var Q=g.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&hS(Q)&&ac(Q,k,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&fS(Q)&&ac(Q,k,t);var xe=Q[0],Se=DF[xe];if(Se){var y=Se.incompatibleTokens;if(Array.isArray(y)){var E=j.find(function(V){return y.includes(V.token)||V.token===xe});if(E)throw new RangeError("The format string mustn't contain `".concat(E.fullToken,"` and `").concat(Q,"` at the same time"))}else if(Se.incompatibleTokens==="*"&&j.length>0)throw new RangeError("The format string mustn't contain `".concat(Q,"` and any other token at the same time"));j.push({token:xe,fullToken:Q});var N=Se.run(v,Q,F.match,U);if(!N)return{v:new Date(NaN)};D.push(N.setter),v=N.rest}else{if(xe.match(FF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xe+"`");if(Q==="''"?Q="'":xe==="'"&&(Q=BF(Q)),v.indexOf(Q)===0)v=v.slice(Q.length);else return{v:new Date(NaN)}}};for(L.s();!(g=L.n()).done;){var q=P();if(Lu(q)==="object")return q.v}}catch(oe){L.e(oe)}finally{L.f()}if(v.length>0&&UF.test(v))return new Date(NaN);var te=D.map(function(oe){return oe.priority}).sort(function(oe,Q){return Q-oe}).filter(function(oe,Q,xe){return xe.indexOf(oe)===Q}).map(function(oe){return D.filter(function(Q){return Q.priority===oe}).sort(function(Q,xe){return xe.subPriority-Q.subPriority})}).map(function(oe){return oe[0]}),ce=De(n);if(isNaN(ce.getTime()))return new Date(NaN);var b=oS(ce,oc(ce)),z={},Ce=iw(te),$;try{for(Ce.s();!($=Ce.n()).done;){var G=$.value;if(!G.validate(b,U))return new Date(NaN);var ne=G.set(b,z,U);Array.isArray(ne)?(b=ne[0],pM(z,ne[1])):b=ne}}catch(oe){Ce.e(oe)}finally{Ce.f()}return b}function BF(t){return t.match($F)[1].replace(LF,"'")}function VF(t,e){Ee(2,arguments);var n=Ae(e);return pi(t,-n)}function jF(t,e){var n;Ee(1,arguments);var r=Ae((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=KF(t),s;if(i.date){var o=YF(i.date,r);s=zF(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=GF(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=QF(i.timezone),isNaN(u))return new Date(NaN)}else{var f=new Date(a+l),c=new Date(0);return c.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),c.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),c}return new Date(a+l+u)}var Nl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},HF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function KF(t){var e={},n=t.split(Nl.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Nl.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nl.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Nl.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function YF(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function zF(t,e){if(e===null)return new Date(NaN);var n=t.match(HF);if(!n)return new Date(NaN);var r=!!n[4],i=Fo(n[1]),s=Fo(n[2])-1,o=Fo(n[3]),a=Fo(n[4]),l=Fo(n[5])-1;if(r)return tB(e,a,l)?XF(e,a,l):new Date(NaN);var u=new Date(0);return!ZF(e,s,o)||!eB(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Fo(t){return t?parseInt(t):1}function GF(t){var e=t.match(WF);if(!e)return NaN;var n=Yh(e[1]),r=Yh(e[2]),i=Yh(e[3]);return nB(n,r,i)?n*Vg+r*Bg+i*1e3:NaN}function Yh(t){return t&&parseFloat(t.replace(",","."))||0}function QF(t){if(t==="Z")return 0;var e=t.match(qF);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return rB(r,i)?n*(r*Vg+i*Bg):NaN}function XF(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var JF=[31,null,31,30,31,30,31,31,30,31,30,31];function bS(t){return t%400===0||t%4===0&&t%100!==0}function ZF(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(JF[e]||(bS(t)?29:28))}function eB(t,e){return e>=1&&e<=(bS(t)?366:365)}function tB(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function nB(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function rB(t,e){return e>=0&&e<=59}function aa(t,e){Ee(2,arguments);var n=De(t),r=Ae(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=gM(o);return n.setMonth(r,Math.min(s,a)),n}function Uu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uu=function(n){return typeof n}:Uu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Uu(t)}function vn(t,e){if(Ee(2,arguments),Uu(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=De(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=aa(n,e.month)),e.date!=null&&n.setDate(Ae(e.date)),e.hours!=null&&n.setHours(Ae(e.hours)),e.minutes!=null&&n.setMinutes(Ae(e.minutes)),e.seconds!=null&&n.setSeconds(Ae(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Ae(e.milliseconds)),n)}function TS(t,e){Ee(2,arguments);var n=De(t),r=Ae(e);return n.setHours(r),n}function Gg(t,e){Ee(2,arguments);var n=De(t),r=Ae(e);return n.setMilliseconds(r),n}function ES(t,e){Ee(2,arguments);var n=De(t),r=Ae(e);return n.setMinutes(r),n}function SS(t,e){Ee(2,arguments);var n=De(t),r=Ae(e);return n.setSeconds(r),n}function es(t,e){Ee(2,arguments);var n=De(t),r=Ae(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Hs(t,e){Ee(2,arguments);var n=Ae(e);return mr(t,-n)}function Fu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(n){return typeof n}:Fu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fu(t)}function iB(t,e){if(Ee(2,arguments),!e||Fu(e)!=="object")return new Date(NaN);var n=e.years?Ae(e.years):0,r=e.months?Ae(e.months):0,i=e.weeks?Ae(e.weeks):0,s=e.days?Ae(e.days):0,o=e.hours?Ae(e.hours):0,a=e.minutes?Ae(e.minutes):0,l=e.seconds?Ae(e.seconds):0,u=Hs(t,r+n*12),f=VF(u,s+i*7),c=a+o*60,h=l+c*60,d=h*1e3,p=new Date(f.getTime()-d);return p}function sB(t,e){Ee(2,arguments);var n=Ae(e);return iS(t,-n)}const ys=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},oB={},aB={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},lB=Ne("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),uB=Ne("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),cB=Ne("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),fB=Ne("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),hB=[lB,uB,cB,fB];function dB(t,e){return W(),ae("svg",aB,hB)}const Uf=ys(oB,[["render",dB]]),pB={},mB={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},gB=Ne("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),yB=Ne("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),vB=[gB,yB];function _B(t,e){return W(),ae("svg",mB,vB)}const wB=ys(pB,[["render",_B]]),bB={},TB={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},EB=Ne("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),SB=[EB];function IB(t,e){return W(),ae("svg",TB,SB)}const ow=ys(bB,[["render",IB]]),CB={},kB={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},OB=Ne("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),RB=[OB];function AB(t,e){return W(),ae("svg",kB,RB)}const aw=ys(CB,[["render",AB]]),PB={},DB={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},NB=Ne("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),xB=Ne("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),MB=[NB,xB];function $B(t,e){return W(),ae("svg",DB,MB)}const IS=ys(PB,[["render",$B]]),LB={},UB={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},FB=Ne("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),BB=[FB];function VB(t,e){return W(),ae("svg",UB,BB)}const CS=ys(LB,[["render",VB]]),jB={},HB={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},WB=Ne("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),qB=[WB];function KB(t,e){return W(),ae("svg",HB,qB)}const kS=ys(jB,[["render",KB]]),lw=(t,e)=>{const n=pm(t,e.slice(0,t.length),new Date);return sa(n)&&sS(n)?n:null},YB=(t,e)=>{if(typeof e=="string")return lw(t,e);if(Array.isArray(e)){let n=null;for(const r of e)if(n=lw(t,r),n)break;return n}return typeof e=="function"?e(t):null},J=t=>t?new Date(t):new Date,zB=(t,e)=>{if(e){const r=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${r}-${i}T${s}:${o}:00.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},Tr=t=>{let e=J(JSON.parse(JSON.stringify(t)));return e=TS(e,0),e=ES(e,0),e=SS(e,0),e=Gg(e,0),e},Vn=(t,e,n,r)=>{let i=t?J(t):J();return(e||e===0)&&(i=TS(i,+e)),(n||n===0)&&(i=ES(i,+n)),(r||r===0)&&(i=SS(i,+r)),Gg(i,0)},un=(t,e)=>!t||!e?!1:Wg(Tr(t),Tr(e)),wt=(t,e)=>!t||!e?!1:pS(Tr(t),Tr(e)),wn=(t,e)=>!t||!e?!1:Hg(Tr(t),Tr(e)),OS=(t,e,n)=>t&&t[0]&&t[1]?wn(n,t[0])&&un(n,t[1]):t&&t[0]&&e?wn(n,t[0])&&un(n,e)||un(n,t[0])&&wn(n,e):!1,Bo=En({menuFocused:!1,shiftKeyInMenu:!1}),RS=()=>{const t=n=>{Bo.menuFocused=n},e=n=>{Bo.shiftKeyInMenu!==n&&(Bo.shiftKeyInMenu=n)};return{control:ue(()=>({shiftKeyInMenu:Bo.shiftKeyInMenu,menuFocused:Bo.menuFocused})),setMenuFocused:t,setShiftKey:e}};function Qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(mm,mm.exports);const GB=Qg(mm.exports);var gm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(gm,gm.exports);const uw=Qg(gm.exports);function QB(t,e){var n=e2(e);return n.formatToParts?JB(n,t):ZB(n,t)}var XB={year:0,month:1,day:2,hour:3,minute:4,second:5};function JB(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=XB[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function ZB(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var zh={};function e2(t){if(!zh[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";zh[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return zh[t]}function Xg(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var cw=36e5,t2=6e4,Gh={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Jg(t,e,n){var r,i;if(t===""||(r=Gh.timezoneZ.exec(t),r))return 0;var s;if(r=Gh.timezoneHH.exec(t),r)return s=parseInt(r[1],10),fw(s)?-(s*cw):NaN;if(r=Gh.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return fw(s,o)?(i=Math.abs(s)*cw+o*t2,s>0?-i:i):NaN}if(i2(t)){e=new Date(e||Date.now());var a=n?e:n2(e),l=ym(a,t),u=n?l:r2(e,l,t);return-u}return NaN}function n2(t){return Xg(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function ym(t,e){var n=QB(t,e),r=Xg(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function r2(t,e,n){var r=t.getTime(),i=r-e,s=ym(new Date(i),n);if(e===s)return e;i-=s-e;var o=ym(new Date(i),n);return s===o?s:Math.max(s,o)}function fw(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var hw={};function i2(t){if(hw[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),hw[t]=!0,!0}catch{return!1}}var AS=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Qh=36e5,dw=6e4,s2=2,_n={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:AS};function vm(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?s2:GB(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=o2(t),s=a2(i.date,r),o=s.year,a=s.restDateString,l=l2(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),f=0,c;if(i.time&&(f=u2(i.time),isNaN(f)))return new Date(NaN);if(i.timeZone||n.timeZone){if(c=Jg(i.timeZone||n.timeZone,new Date(u+f)),isNaN(c))return new Date(NaN)}else c=uw(new Date(u+f)),c=uw(new Date(u+f+c));return new Date(u+f+c)}else return new Date(NaN)}function o2(t){var e={},n=_n.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=_n.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=_n.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function a2(t,e){var n=_n.YYY[e],r=_n.YYYYY[e],i;if(i=_n.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=_n.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function l2(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=_n.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,mw(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=_n.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return h2(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=_n.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return mw(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=_n.Www.exec(t),n)return s=parseInt(n[1],10)-1,gw(e,s)?pw(e,s):new Date(NaN);if(n=_n.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return gw(e,s,l)?pw(e,s,l):new Date(NaN)}return null}function u2(t){var e,n,r;if(e=_n.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Xh(n)?n%24*Qh:NaN;if(e=_n.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Xh(n,r)?n%24*Qh+r*dw:NaN;if(e=_n.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Xh(n,r,i)?n%24*Qh+r*dw+i*1e3:NaN}return null}function pw(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var c2=[31,28,31,30,31,30,31,31,30,31,30,31],f2=[31,29,31,30,31,30,31,31,30,31,30,31];function PS(t){return t%400===0||t%4===0&&t%100!==0}function mw(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=PS(t);if(r&&n>f2[e]||!r&&n>c2[e])return!1}return!0}function h2(t,e){if(e<1)return!1;var n=PS(t);return!(n&&e>366||!n&&e>365)}function gw(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Xh(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var _m={exports:{}},wm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(wm,wm.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(wm.exports);function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)({},s)}t.exports=e.default})(_m,_m.exports);const d2=Qg(_m.exports);function p2(t,e,n){var r=vm(t,n),i=Jg(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function m2(t,e,n){if(typeof t=="string"&&!t.match(AS)){var r=d2(n);return r.timeZone=e,vm(t,r)}var i=vm(t,n),s=Xg(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=Jg(e,new Date(s));return new Date(s+o)}const g2=(t,e=3)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push([t[r],t[r+1],t[r+2]]);return n},y2=(t,e)=>{const n=[1,2,3,4,5,6,7].map(s=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${s}T00:00:00+00:00`)).slice(0,2)),r=n.slice(0,e),i=n.slice(e+1,n.length);return[n[e]].concat(...i).concat(...r)},v2=t=>{const e=[];for(let n=+t[0];n<=+t[1];n++)e.push({value:+n,text:`${n}`});return e},_2=(t,e)=>{const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(r=>{const i=r<10?`0${r}`:r;return new Date(`2017-${i}-01T00:00:00+00:00`)}).map((r,i)=>({text:n.format(r),value:i}))},w2=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Jt=t=>{var e;const n=A(t);return(e=n==null?void 0:n.$el)!=null?e:n},b2=t=>Object.assign({type:"dot"},t),DS=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Vc={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},rn=t=>t,yw=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),T2=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),E2=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,S2=(t,e,n)=>t||(typeof n=="string"?n:e),I2=t=>typeof t=="boolean"?t?yw({}):!1:yw(t),C2=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),k2=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),Fn=t=>{const e=()=>{if(t.partialRange)return null;throw new Error(Vc.prop("partial-range"))},n=ue(()=>({ariaLabels:T2(t.ariaLabels),textInputOptions:Object.assign(C2(),t.textInputOptions),multiCalendars:E2(t.multiCalendars),previewFormat:S2(t.previewFormat,t.format,s()),filters:k2(t.filters),transitions:I2(t.transitions),startTime:h()})),r=g=>{if(t.range)return g();throw new Error(Vc.prop("range"))},i=()=>{const g=t.enableSeconds?":ss":"";return t.is24?`HH:mm${g}`:`hh:mm${g} aa`},s=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?i():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",o=(g,P)=>{if(typeof t.format=="function")return t.format(g);const q=P||s(),te=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(g)?`${oa(g[0],q,te)} ${t.modelAuto&&!g[1]?"":n.value.textInputOptions.rangeSeparator||"-"} ${g[1]?oa(g[1],q,te):""}`:oa(g,q,te)},a=g=>t.timezone?p2(g,t.timezone):g,l=g=>t.timezone?m2(g,t.timezone):g,u=ue(()=>g=>{var P;return(P=t.hideNavigation)==null?void 0:P.includes(g)}),f=g=>{const P=t.maxDate?wn(a(g),a(J(t.maxDate))):!1,q=t.minDate?un(a(g),a(J(t.minDate))):!1,te=_(g,t.disabledDates),ce=n.value.filters.months.map(G=>+G).includes(Tt(g)),b=t.disabledWeekDays.length?t.disabledWeekDays.some(G=>+G===mM(g)):!1,z=t.allowedDates.length?!t.allowedDates.some(G=>wt(a(J(G)),a(g))):!1,Ce=Et(g),$=Ce<+t.yearRange[0]||Ce>+t.yearRange[1];return!(P||q||te||ce||$||b||z)},c=g=>{const P={hours:Ar(J()),minutes:Pr(J()),seconds:so(J())};return Object.assign(P,g)},h=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[c(t.startTime[0]),c(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?c(t.startTime):null,d=g=>!f(g),p=g=>Array.isArray(g)?sa(g[0])&&(g[1]?sa(g[1]):!0):g?sa(g):!1,T=g=>g instanceof Date?g:jF(g),O=g=>{const P=rp(a(g),{weekStartsOn:+t.weekStart}),q=cx(a(g),{weekStartsOn:+t.weekStart});return[P,q]},_=(g,P)=>Array.isArray(P)?P.some(q=>wt(a(J(q)),a(g))):P(g),m=(g,P,q)=>{let te=g?J(g):J();return(P||P===0)&&(te=aa(te,P)),q&&(te=es(te,q)),te},w=g=>vn(J(),{hours:Ar(g),minutes:Pr(g),seconds:so(g)}),R=g=>vn(J(),{hours:+g.hours||0,minutes:+g.minutes||0,seconds:+g.seconds||0}),x=(g,P,q,te)=>{if(!g)return!0;if(te){const ce=q==="max"?Wg(g,P):Hg(g,P),b={seconds:0,milliseconds:0};return ce||pS(vn(g,b),vn(P,b))}return q==="max"?g.getTime()<=P.getTime():g.getTime()>=P.getTime()},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,k=g=>Array.isArray(g)?[g[0]?w(g[0]):null,g[1]?w(g[1]):null]:w(g),C=g=>{const P=t.maxTime?R(t.maxTime):J(t.maxDate);return Array.isArray(g)?x(g[0],P,"max",!!t.maxDate)&&x(g[1],P,"max",!!t.maxDate):x(g,P,"max",!!t.maxDate)},F=(g,P)=>{const q=t.minTime?R(t.minTime):J(t.minDate);return Array.isArray(g)?x(g[0],q,"min",!!t.minDate)&&x(g[1],q,"min",!!t.minDate)&&P:x(g,q,"min",!!t.minDate)&&P},H=g=>{let P=!0;if(!g||v())return!0;const q=!t.minDate&&!t.maxDate?k(g):g;return(t.maxTime||t.maxDate)&&(P=C(rn(q))),(t.minTime||t.minDate)&&(P=F(rn(q),P)),P},M=(g,P)=>{const q=J(JSON.parse(JSON.stringify(g))),te=[];for(let ce=0;ce<7;ce++){const b=pi(q,ce),z=Tt(b)!==P;te.push({text:t.hideOffsetDates&&z?"":b.getDate(),value:b,current:!z,classData:{}})}return te},U=(g,P)=>{const q=[],te=J(a(new Date(P,g))),ce=J(a(new Date(P,g+1,0))),b=rp(te,{weekStartsOn:t.weekStart}),z=Ce=>{const $=M(Ce,g);if(q.push({days:$}),!q[q.length-1].days.some(G=>wt(Tr(G.value),Tr(ce)))){const G=pi(Ce,7);z(G)}};if(z(b),t.sixWeeks&&q.length<6){const Ce=6-q.length;for(let $=1;$<=Ce;$++){const G=q[q.length-1],ne=G.days[G.days.length-1],oe=M(pi(ne.value,1),Tt(te));q.push({days:oe})}}return q},D=(g,P,q)=>[vn(J(g),{date:1}),vn(J(),{month:P,year:q,date:1})],S=(g,P)=>un(...D(t.minDate,g,P))||wt(...D(t.minDate,g,P)),j=(g,P)=>wn(...D(t.maxDate,g,P))||wt(...D(t.maxDate,g,P)),L=(g,P,q)=>{let te=!1;return t.maxDate&&q&&j(g,P)&&(te=!0),t.minDate&&!q&&S(g,P)&&(te=!0),te};return{checkPartialRangeValue:e,checkRangeEnabled:r,getZonedDate:a,getZonedToUtc:l,formatDate:o,getDefaultPattern:s,validateDate:f,getDefaultStartTime:h,isDisabled:d,isValidDate:p,sanitizeDate:T,getWeekFromDate:O,matchDate:_,setDateMonthOrYear:m,isValidTime:H,getCalendarDays:U,validateMonthYearInRange:(g,P,q,te)=>{let ce=!1;return te?t.minDate&&t.maxDate?ce=L(g,P,q):(t.minDate&&S(g,P)||t.maxDate&&j(g,P))&&(ce=!0):ce=!0,ce},validateMaxDate:j,validateMinDate:S,defaults:n,hideNavigationButtons:u}},pt=En({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Jh=me(null),xl=me(!1),Zh=me(!1),ed=me(!1),td=me(!1),gn=me(0),qt=me(0),Ri=()=>{const t=ue(()=>xl.value?[...pt.selectionGrid,pt.actionRow].filter(c=>c.length):Zh.value?[...pt.timePicker[0],...pt.timePicker[1],td.value?[]:[Jh.value],pt.actionRow].filter(c=>c.length):ed.value?[...pt.monthPicker,pt.actionRow]:[pt.monthYear,...pt.calendar,pt.time,pt.actionRow].filter(c=>c.length)),e=c=>{gn.value=c?gn.value+1:gn.value-1;let h=null;t.value[qt.value]&&(h=t.value[qt.value][gn.value]),h||(gn.value=c?gn.value-1:gn.value+1)},n=c=>{qt.value===0&&!c||qt.value===t.value.length&&c||(qt.value=c?qt.value+1:qt.value-1,t.value[qt.value]?t.value[qt.value]&&!t.value[qt.value][gn.value]&&gn.value!==0&&(gn.value=t.value[qt.value].length-1):qt.value=c?qt.value-1:qt.value+1)},r=c=>{let h=null;t.value[qt.value]&&(h=t.value[qt.value][gn.value]),h?h.focus({preventScroll:!xl.value}):gn.value=c?gn.value-1:gn.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(c,h)=>{pt[h]=c},u=(c,h)=>{pt[h]=c},f=()=>{gn.value=0,qt.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:c=>{Jh.value=c},setSelectionGrid:c=>{xl.value=c,f(),c||(pt.selectionGrid=[])},setTimePicker:(c,h=!1)=>{Zh.value=c,td.value=h,f(),c||(pt.timePicker[0]=[],pt.timePicker[1]=[])},setTimePickerElements:(c,h=0)=>{pt.timePicker[h]=c},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{pt.monthYear=[],pt.calendar=[],pt.time=[],pt.actionRow=[],pt.selectionGrid=[],pt.timePicker[0]=[],pt.timePicker[1]=[],xl.value=!1,Zh.value=!1,td.value=!1,ed.value=!1,f(),Jh.value=null},setMonthPicker:c=>{ed.value=c,f()},refSets:pt}},vw=t=>Array.isArray(t),$i=t=>Array.isArray(t),_w=t=>Array.isArray(t)&&t.length===2,O2=(t,e,n,r)=>{const{getDefaultStartTime:i,isDisabled:s,sanitizeDate:o,getWeekFromDate:a,setDateMonthOrYear:l,validateMonthYearInRange:u,defaults:f}=Fn(t),c=ue({get:()=>t.internalModelValue,set:I=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",I)}}),h=me([]);yr(c,()=>w());const d=me([{month:Tt(J()),year:Et(J())}]),p=En({hours:t.range?[Ar(J()),Ar(J())]:Ar(J()),minutes:t.range?[Pr(J()),Pr(J())]:Pr(J()),seconds:t.range?[0,0]:0}),T=ue(()=>I=>d.value[I]?d.value[I].month:0),O=ue(()=>I=>d.value[I]?d.value[I].year:0),_=(I,B,he)=>{d.value[I].month=B===null?d.value[I].month:B,d.value[I].year=he===null?d.value[I].year:he},m=(I,B)=>{p[I]=B};Sn(()=>{c.value||(t.startDate&&(_(0,Tt(J(t.startDate)),Et(J(t.startDate))),f.value.multiCalendars&&Y(0)),f.value.startTime&&D()),w(!0)});const w=(I=!1)=>{if(c.value)return Array.isArray(c.value)?C(I):x(c.value);if(t.timePicker)return F();if(t.monthPicker&&!t.range)return H();if(t.yearPicker&&!t.range)return M();if(f.value.multiCalendars)return R(J(),I)},R=(I,B=!1)=>{if((!f.value.multiCalendars||!t.multiStatic||B)&&_(0,Tt(I),Et(I)),f.value.multiCalendars)for(let he=1;he<=f.value.multiCalendars;he++){const we=vn(J(),{month:T.value(he-1),year:O.value(he-1)}),lt=rS(we,{months:1});d.value[he]={month:Tt(lt),year:Et(lt)}}},x=I=>{R(I),m("hours",Ar(I)),m("minutes",Pr(I)),m("seconds",so(I))},v=(I,B)=>{R(I[0],B);const he=we=>[we(I[0]),I[1]?we(I[1]):we(J())];m("hours",he(Ar)),m("minutes",he(Pr)),m("seconds",he(so))},k=(I,B)=>{if(t.range&&!t.multiDates)return v(I,B);if(t.multiDates){const he=I[I.length-1];return x(he)}},C=I=>{const B=c.value;k(B,I),f.value.multiCalendars&&t.multiCalendarsSolo&&j()},F=()=>{if(D(),!t.range)c.value=Vn(J(),p.hours,p.minutes,U());else{const I=p.hours,B=p.minutes;c.value=[Vn(J(),I[0],B[0],U()),Vn(J(),I[1],B[1],U(!1))]}},H=()=>{c.value=l(J(),T.value(0),O.value(0))},M=()=>{c.value=J()},U=(I=!0)=>t.enableSeconds?Array.isArray(p.seconds)?I?p.seconds[0]:p.seconds[1]:p.seconds:0,D=()=>{const I=i();if(I){const B=Array.isArray(I),he=B?[+I[0].hours,+I[1].hours]:+I.hours,we=B?[+I[0].minutes,+I[1].minutes]:+I.minutes,lt=B?[+I[0].seconds,+I[1].seconds]:+I.seconds;m("hours",he),m("minutes",we),t.enableSeconds&&m("seconds",lt)}},S=()=>Array.isArray(c.value)&&c.value.length?c.value[c.value.length-1]:null,j=()=>{if(Array.isArray(c.value)&&c.value.length===2){const I=J(J(c.value[1]?c.value[1]:mr(c.value[0],1))),[B,he]=[Tt(c.value[0]),Et(c.value[0])],[we,lt]=[Tt(c.value[1]),Et(c.value[1])];(B!==we||B===we&&he!==lt)&&t.multiCalendarsSolo&&_(1,Tt(I),Et(I))}},L=I=>{const B=mr(I,1);return{month:Tt(B),year:Et(B)}},g=I=>{const B=Tt(J(I)),he=Et(J(I));if(_(0,B,he),f.value.multiCalendars>0)for(let we=1;we<f.value.multiCalendars;we++){const lt=L(vn(J(I),{year:T.value(we-1),month:O.value(we-1)}));_(we,lt.month,lt.year)}},P=I=>{if(c.value&&Array.isArray(c.value))if(c.value.some(B=>wt(I,B))){const B=c.value.filter(he=>!wt(he,I));c.value=B.length?B:null}else(t.multiDatesLimit&&+t.multiDatesLimit>c.value.length||!t.multiDatesLimit)&&c.value.push(I);else c.value=[I]},q=(I,B)=>{const he=wn(I,B)?B:I,we=wn(B,I)?B:I;return K_({start:he,end:we})},te=I=>{if(Array.isArray(c.value)&&c.value[0]){const B=lx(I,c.value[0]),he=q(c.value[0],I),we=he.length===1?0:he.filter(Pn=>s(Pn)).length,lt=Math.abs(B)-we;if(t.minRange&&t.maxRange)return lt>=+t.minRange&&lt<=+t.maxRange;if(t.minRange)return lt>=+t.minRange;if(t.maxRange)return lt<=+t.maxRange}return!0},ce=I=>Array.isArray(c.value)&&c.value.length===2?t.fixedStart&&(wn(I,c.value[0])||wt(I,c.value[0]))?[c.value[0],I]:t.fixedEnd&&(un(I,c.value[1])||wt(I,c.value[1]))?[I,c.value[1]]:c.value:[],b=()=>{t.autoApply&&e("auto-apply")},z=()=>{t.autoApply&&e("select-date")},Ce=I=>!K_({start:I[0],end:I[1]}).some(B=>s(B)),$=I=>(c.value=a(J(I.value)),b()),G=I=>{const B=Vn(J(I.value),p.hours,p.minutes,U());t.multiDates?P(B):c.value=B,n(),b()},ne=()=>{h.value=c.value?c.value.slice():[],h.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(h.value=[])},oe=(I,B)=>{const he=[J(I.value),pi(J(I.value),+t.autoRange)];Ce(he)&&(B&&g(I.value),h.value=he)},Q=I=>{h.value=ce(J(I.value))},xe=I=>t.noDisabledRange?q(h.value[0],I).some(B=>s(B)):!1,Se=(I,B)=>{if(ne(),t.autoRange)return oe(I,B);if(t.fixedStart||t.fixedEnd)return Q(I);h.value[0]?te(J(I.value))&&!xe(I.value)&&(un(J(I.value),J(h.value[0]))?h.value.unshift(J(I.value)):h.value[1]=J(I.value)):h.value[0]=J(I.value)},y=I=>{h.value[I]=Vn(h.value[I],p.hours[I],p.minutes[I],U(I!==1))},E=()=>{h.value.length&&(h.value[0]&&!h.value[1]?y(0):(y(0),y(1),n()),c.value=h.value.slice(),h.value[0]&&h.value[1]&&t.autoApply&&e("auto-apply"),h.value[0]&&!h.value[1]&&t.modelAuto&&t.autoApply&&e("auto-apply"))},N=(I,B=!1)=>{if(!(s(I.value)||!I.current&&t.hideOffsetDates)){if(t.weekPicker)return $(I);if(!t.range)return G(I);$i(p.hours)&&$i(p.minutes)&&!t.multiDates&&(Se(I,B),E())}},V=I=>{const B=I.find(he=>he.current);return B?vM(B.value):""},Y=I=>{for(let B=I-1;B>=0;B--){const he=Hs(vn(J(),{month:T.value(B+1),year:O.value(B+1)}),1);_(B,Tt(he),Et(he))}for(let B=I+1;B<=f.value.multiCalendars-1;B++){const he=mr(vn(J(),{month:T.value(B-1),year:O.value(B-1)}),1);_(B,Tt(he),Et(he))}},re=I=>l(J(),T.value(I),O.value(I)),fe=I=>Vn(I,p.hours,p.minutes,U()),ie=(I,B)=>{const he=t.monthPicker?T.value(I)!==B.month||!B.fromNav:O.value(I)!==B.year;if(_(I,B.month,B.year),f.value.multiCalendars&&!t.multiCalendarsSolo&&Y(I),t.monthPicker||t.yearPicker)if(t.range){if(he){let we=c.value?c.value.slice():[];we.length===2&&we[1]!==null&&(we=[]),we.length?un(re(I),we[0])?we.unshift(re(I)):we[1]=re(I):we=[re(I)],c.value=we}}else c.value=re(I);e("update-month-year",{instance:I,month:B.month,year:B.year}),r(t.multiCalendarsSolo?I:void 0)},le=async(I=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await Ii();const B=t.monthPicker?I:!1;t.range?e("auto-apply",B||!c.value||c.value.length===1):e("auto-apply",B)}n()},X=(I,B)=>{const he=vn(J(),{month:T.value(B),year:O.value(B)}),we=I<0?mr(he,1):Hs(he,1);u(Tt(we),Et(we),I<0,t.preventMinMaxNavigation)&&(_(B,Tt(we),Et(we)),f.value.multiCalendars&&!t.multiCalendarsSolo&&Y(B),r())},ve=I=>{vw(I)&&vw(c.value)&&$i(p.hours)&&$i(p.minutes)?(I[0]&&c.value[0]&&(c.value[0]=Vn(I[0],p.hours[0],p.minutes[0],U())),I[1]&&c.value[1]&&(c.value[1]=Vn(I[1],p.hours[1],p.minutes[1],U(!1)))):t.multiDates&&Array.isArray(c.value)?c.value[c.value.length-1]=fe(I):!t.range&&!_w(I)&&(c.value=fe(I)),e("time-update")},ge=(I,B=!0,he=!1)=>{const we=B?I:p.hours,lt=!B&&!he?I:p.minutes,Pn=he?I:p.seconds;if(t.range&&_w(c.value)&&$i(we)&&$i(lt)&&$i(Pn)&&!t.disableTimeRangeValidation){const Dn=pe=>Vn(c.value[pe],we[pe],lt[pe],Pn[pe]),K=pe=>Gg(c.value[pe],0);if(wt(c.value[0],c.value[1])&&(Hg(Dn(0),K(1))||Wg(Dn(1),K(0))))return}if(m("hours",we),m("minutes",lt),m("seconds",Pn),c.value)if(t.multiDates){const Dn=S();Dn&&ve(Dn)}else ve(c.value);else t.timePicker&&ve(t.range?[J(),J()]:J());n()},_e=(I,B)=>{t.monthChangeOnScroll&&X(t.monthChangeOnScroll!=="inverse"?-I.deltaY:I.deltaY,B)},Re=(I,B,he=!1)=>{t.monthChangeOnArrows&&t.vertical===he&&Ve(I,B)},Ve=(I,B)=>{X(I==="right"?-1:1,B)};return{time:p,month:T,year:O,modelValue:c,monthYearSelect:le,isDisabled:s,updateTime:ge,getWeekNum:V,selectDate:N,updateMonthYear:ie,handleScroll:_e,getMarker:I=>t.markers.find(B=>wt(o(I.value),o(B.date))),handleArrow:Re,handleSwipe:Ve,selectCurrentDate:()=>{t.range?c.value&&Array.isArray(c.value)&&c.value[0]?c.value=un(J(),c.value[0])?[J(),c.value[0]]:[c.value[0],J()]:c.value=[J()]:c.value=J(),z()},presetDateRange:(I,B)=>{B||I.length&&I.length<=2&&t.range&&(c.value=I.map(he=>J(he)),z())}}},R2=(t,e,n)=>{const r=me(),{getZonedToUtc:i,getZonedDate:s,formatDate:o,getDefaultPattern:a,checkRangeEnabled:l,checkPartialRangeValue:u,isValidDate:f,setDateMonthOrYear:c,defaults:h}=Fn(e),d=me("");yr(r,()=>{t("internal-model-change",r.value)});const p=b=>{const z=b||J(),Ce={hours:Ar(z),minutes:Pr(z)};return e.enableSeconds&&(Ce.seconds=so(z)),Ce},T=b=>({month:Tt(b),year:Et(b)}),O=b=>Array.isArray(b)?l(()=>[es(J(),b[0]),b[1]?es(J(),b[1]):u()]):es(J(),+b),_=b=>Array.isArray(b)?[Vn(null,+b[0].hours,+b[0].minutes,b[0].seconds),Vn(null,+b[1].hours,+b[1].minutes,b[1].seconds)]:Vn(null,b.hours,b.minutes,b==null?void 0:b.seconds),m=b=>Array.isArray(b)?l(()=>[c(null,+b[0].month,+b[0].year),b[1]?c(null,+b[1].month,+b[1].year):u()]):c(null,+b.month,+b.year),w=b=>{if(Array.isArray(b))return b.map(z=>g(z));throw new Error(Vc.dateArr("multi-dates"))},R=b=>{if(Array.isArray(b))return[J(b[0]),J(b[1])];throw new Error(Vc.dateArr("week-picker"))},x=b=>e.modelAuto?Array.isArray(b)?[g(b[0]),g(b[1])]:e.autoApply?[g(b)]:[g(b),null]:Array.isArray(b)?l(()=>[g(b[0]),b[1]?g(b[1]):u()]):g(b),v=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(u())},k=()=>{const b=r.value;return[P(b[0]),b[1]?P(b[1]):u()]},C=()=>r.value[1]?k():P(rn(r.value[0])),F=()=>r.value.map(b=>P(b)),H=()=>(v(),e.modelAuto?C():e.multiDates?F():Array.isArray(r.value)?l(()=>k()):P(rn(r.value))),M=b=>b?e.timePicker?_(rn(b)):e.monthPicker?m(rn(b)):e.yearPicker?O(rn(b)):e.multiDates?w(rn(b)):e.weekPicker?R(rn(b)):x(rn(b)):null,U=b=>{const z=M(b);f(rn(z))?(r.value=rn(z),L()):(r.value=null,d.value="")},D=()=>{var b;const z=Ce=>{var $;return oa(Ce,($=h.value.textInputOptions)==null?void 0:$.format)};return`${z(r.value[0])} ${(b=h.value.textInputOptions)==null?void 0:b.rangeSeparator} ${r.value[1]?z(r.value[1]):""}`},S=()=>{var b;return n.value&&r.value?Array.isArray(r.value)?D():oa(r.value,(b=h.value.textInputOptions)==null?void 0:b.format):o(r.value)},j=()=>{var b;return r.value?e.multiDates?r.value.map(z=>o(z)).join("; "):e.textInput&&typeof((b=h.value.textInputOptions)==null?void 0:b.format)=="string"?S():o(r.value):""},L=()=>{!e.format||typeof e.format=="string"?d.value=j():d.value=e.format(r.value)},g=b=>{if(e.utc){const z=new Date(b);return e.utc==="preserve"?new Date(z.getTime()+z.getTimezoneOffset()*6e4):z}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?s(new Date(b)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?pm(b,a(),new Date):s(pm(b,e.modelType,new Date)):s(new Date(b))},P=b=>e.utc?zB(b,e.utc==="preserve"):e.modelType?e.modelType==="timestamp"?+i(b):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?o(i(b)):o(i(b),e.modelType):i(b),q=b=>{t("update:model-value",b)},te=b=>Array.isArray(r.value)?[b(r.value[0]),r.value[1]?b(r.value[1]):u()]:b(rn(r.value)),ce=b=>q(rn(te(b)));return{inputValue:d,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:U,formatInputValue:L,emitModelValue:()=>(L(),e.monthPicker?ce(T):e.timePicker?ce(p):e.yearPicker?ce(Et):e.weekPicker?q(r.value):q(H()))}},A2=(t,e)=>{const{validateMonthYearInRange:n,validateMaxDate:r,validateMinDate:i,defaults:s}=Fn(t),o=(c,h)=>{let d=c;return s.value.filters.months.includes(Tt(d))?(d=h?mr(c,1):Hs(c,1),o(d,h)):d},a=(c,h)=>{let d=c;return s.value.filters.years.includes(Et(d))?(d=h?iS(c,1):sB(c,1),a(d,h)):d},l=c=>{const h=vn(new Date,{month:t.month,year:t.year});let d=c?mr(h,1):Hs(h,1),p=Tt(d),T=Et(d);s.value.filters.months.includes(p)&&(d=o(d,c),p=Tt(d),T=Et(d)),s.value.filters.years.includes(T)&&(d=a(d,c),T=Et(d)),n(p,T,c,t.preventMinMaxNavigation)&&u(p,T)},u=(c,h)=>{e("update-month-year",{month:c,year:h})},f=ue(()=>c=>{if(!t.preventMinMaxNavigation||c&&!t.maxDate||!c&&!t.minDate)return!1;const h=vn(new Date,{month:t.month,year:t.year}),d=c?mr(h,1):Hs(h,1),p=[Tt(d),Et(d)];return c?!r(...p):!i(...p)});return{handleMonthYearChange:l,isDisabled:f,updateMonthYear:u}};var Bu=(t=>(t.center="center",t.left="left",t.right="right",t))(Bu||{});const P2=(t,e,n,r)=>{const i=me({top:"0",left:"0",transform:"none"}),s=me(!1),o=ba(r,"teleportCenter");yr(o,()=>{O()});const a=v=>{const k=v.getBoundingClientRect();return{left:k.left+window.scrollX,top:k.top+window.scrollY}},l=v=>{const k=v.getBoundingClientRect();let C=0,F=0;for(;v&&!isNaN(v.offsetLeft)&&!isNaN(v.offsetTop);)C+=v.offsetLeft-v.scrollLeft,F=k.top+v.scrollTop,v=v.offsetParent;return{top:F,left:C}},u=(v,k)=>{i.value.left=`${v+k}px`,i.value.transform="translateX(-100%)"},f=v=>{i.value.left=`${v}px`,i.value.transform="translateX(0)"},c=(v,k,C=!1)=>{r.position===Bu.left&&f(v),r.position===Bu.right&&u(v,k),r.position===Bu.center&&(i.value.left=`${v+k/2}px`,i.value.transform=C?"translate(-50%, -50%)":"translateX(-50%)")},h=v=>{const{width:k,height:C}=v.getBoundingClientRect(),{top:F,left:H}=r.altPosition?l(v):a(v);return{top:F,left:H,width:k,height:C}},d=()=>{const v=Jt(e);if(v){const{top:k,left:C,width:F,height:H}=h(v);i.value.top=`${k+H/2}px`,i.value.transform="translateY(-50%)",c(C,F,!0)}},p=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},T=()=>{const v=Jt(e);i.value=r.altPosition(v)},O=(v=!0)=>{if(!r.inline)return o.value?p():r.altPosition&&typeof r.altPosition!="boolean"?T():(v&&n("recalculate-position"),x())},_=(v,k)=>{const{top:C,left:F,height:H,width:M}=h(v);i.value.top=`${H+C+ +r.offset}px`,c(F,M),w(v,k),s.value=!1},m=(v,k)=>{const{top:C,left:F,width:H}=h(v),{height:M}=k.getBoundingClientRect();i.value.top=`${C-M-+r.offset}px`,c(F,H),w(v,k),s.value=!0},w=(v,k)=>{if(r.autoPosition){const{left:C,width:F}=h(v),{left:H,right:M}=k.getBoundingClientRect();if(H<0)return f(C);if(M>document.documentElement.clientWidth)return u(C,F)}},R=(v,k)=>{const{height:C}=k.getBoundingClientRect(),{top:F,height:H}=v.getBoundingClientRect(),M=window.innerHeight-F-H,U=F;return C<=M?_(v,k):C>M&&C<=U?m(v,k):M>=U?_(v,k):m(v,k)},x=()=>{const v=Jt(e),k=Jt(t);if(v&&k)return r.autoPosition?R(v,k):_(v,k)};return{openOnTop:s,menuPosition:i,setMenuPosition:O,setInitialPosition:d}},Os=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["menu"]}],D2=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],N2={all:()=>Os,monthYear:()=>Os.filter(t=>t.use.includes("month-year")),input:()=>D2,timePicker:()=>Os.filter(t=>t.use.includes("time")),action:()=>Os.filter(t=>t.use.includes("action")),calendar:()=>Os.filter(t=>t.use.includes("calendar")),menu:()=>Os.filter(t=>t.use.includes("menu"))},Wi=(t,e,n)=>{const r=[];return N2[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Ff=t=>({transitionName:ue(()=>e=>t&&typeof t!="boolean"?e?t.open:t.close:""),showTransition:!!t}),Ai={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},x2=["aria-label","aria-disabled","aria-readonly"],M2={key:1,class:"dp__input_wrap"},$2=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],L2={key:2,class:"dp__input_icon"},U2={key:4,class:"dp__clear_icon"},F2=at({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ai},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:e,emit:n}){const r=t,{getDefaultPattern:i,isValidDate:s,defaults:o}=Fn(r),a=me(),l=me(null),u=me(!1),f=ue(()=>({dp__pointer:!r.disabled&&!r.readonly&&!r.textInput,dp__disabled:r.disabled,dp__input_readonly:!r.textInput,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:r.state,dp__input_invalid:r.state===!1,dp__input_focus:u.value||r.isMenuOpen,dp__input_reg:!r.textInput,[r.inputClassName]:!!r.inputClassName})),c=()=>{n("set-input-date",null),r.autoApply&&(n("set-empty-date"),a.value=null)},h=v=>{var k;return YB(v,((k=o.value.textInputOptions)==null?void 0:k.format)||i())},d=v=>{const{rangeSeparator:k}=o.value.textInputOptions;if(r.range){const[C,F]=v.split(`${k}`);if(C&&F){const H=h(C.trim()),M=h(F.trim());a.value=H&&M?[H,M]:null}}else a.value=h(v)},p=v=>{var k;const{value:C}=v.target;C!==""?(((k=o.value.textInputOptions)==null?void 0:k.openMenu)&&!r.isMenuOpen&&n("open"),d(C),n("set-input-date",a.value)):c(),n("update:input-value",C)},T=()=>{var v,k;((v=o.value.textInputOptions)==null?void 0:v.enterSubmit)&&s(a.value)&&r.inputValue!==""?(n("set-input-date",a.value,!0),a.value=null):((k=o.value.textInputOptions)==null?void 0:k.enterSubmit)&&r.inputValue===""&&(a.value=null,n("clear"))},O=()=>{var v,k;((v=o.value.textInputOptions)==null?void 0:v.tabSubmit)&&s(a.value)&&r.inputValue!==""?(n("set-input-date",a.value,!0),a.value=null):((k=o.value.textInputOptions)==null?void 0:k.tabSubmit)&&r.inputValue===""&&(a.value=null,n("clear"))},_=()=>{u.value=!0,n("focus")},m=v=>{var k;v.preventDefault(),v.stopImmediatePropagation(),v.stopPropagation(),r.textInput&&((k=o.value.textInputOptions)==null?void 0:k.openMenu)&&!r.inlineWithInput?r.isMenuOpen?o.value.textInputOptions.enterSubmit&&n("select-date"):n("open"):r.textInput||n("toggle")},w=()=>{u.value=!1,r.isMenuOpen||n("blur"),r.autoApply&&r.textInput&&a.value&&(n("set-input-date",a.value),n("select-date"),a.value=null)},R=()=>{n("clear")},x=v=>{r.textInput||v.preventDefault()};return e({focusInput:()=>{l.value&&l.value.focus({preventScroll:!0})}}),(v,k)=>{var C;return W(),ae("div",{onClick:m,"aria-label":(C=A(o).ariaLabels)==null?void 0:C.input,role:"textbox","aria-multiline":"false","aria-disabled":v.disabled,"aria-readonly":v.readonly},[v.$slots.trigger&&!v.$slots["dp-input"]&&!v.inline?Te(v.$slots,"trigger",{key:0}):Z("",!0),!v.$slots.trigger&&(!v.inline||v.inlineWithInput)?(W(),ae("div",M2,[v.$slots["dp-input"]&&!v.$slots.trigger&&!v.inline?Te(v.$slots,"dp-input",{key:0,value:t.inputValue,onInput:p,onEnter:T,onTab:O,onClear:R}):Z("",!0),v.$slots["dp-input"]?Z("",!0):(W(),ae("input",{key:1,ref_key:"inputRef",ref:l,id:v.uid?`dp-input-${v.uid}`:void 0,name:v.name,class:ct(A(f)),inputmode:v.textInput?"text":"none",placeholder:v.placeholder,disabled:v.disabled,readonly:v.readonly,required:v.required,value:t.inputValue,autocomplete:v.autocomplete,onInput:p,onKeydown:[We(m,["enter"]),We(O,["tab"])],onBlur:w,onFocus:_,onKeypress:x},null,42,$2)),v.$slots["input-icon"]&&!v.hideInputIcon?(W(),ae("span",L2,[Te(v.$slots,"input-icon")])):Z("",!0),!v.$slots["input-icon"]&&!v.hideInputIcon&&!v.$slots["dp-input"]?(W(),He(A(Uf),{key:3,class:"dp__input_icon dp__input_icons"})):Z("",!0),v.$slots["clear-icon"]&&t.inputValue&&v.clearable&&!v.disabled&&!v.readonly?(W(),ae("span",U2,[Te(v.$slots,"clear-icon",{clear:R})])):Z("",!0),v.clearable&&!v.$slots["clear-icon"]&&t.inputValue&&!v.disabled&&!v.readonly?(W(),He(A(wB),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Nr(R,["stop","prevent"])},null,8,["onClick"])):Z("",!0)])):Z("",!0)],8,x2)}}}),B2={class:"dp__selection_preview"},V2={class:"dp__action_buttons"},j2=["onKeydown"],H2=at({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Ai},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:e}){const n=t,{formatDate:r,isValidTime:i,defaults:s}=Fn(n),{buildMatrix:o}=Ri(),a=me(null),l=me(null);Sn(()=>{n.arrowNavigation&&o([Jt(a),Jt(l)],"actionRow")});const u=ue(()=>n.range&&!n.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),f=ue(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!c.value||!h.value||!u.value})),c=ue(()=>!n.enableTimePicker||n.ignoreTimeValidation?!0:i(n.internalModelValue)),h=ue(()=>n.monthPicker?O(n.internalModelValue):!0),d=()=>{const m=s.value.previewFormat;return n.timePicker||n.monthPicker,m(rn(n.internalModelValue))},p=()=>{const m=n.internalModelValue;return s.value.multiCalendars>0?`${r(m[0])} - ${r(m[1])}`:[r(m[0]),r(m[1])]},T=ue(()=>!n.internalModelValue||!n.menuMount?"":typeof s.value.previewFormat=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?p():n.multiDates?n.internalModelValue.map(m=>`${r(m)}`):n.modelAuto?`${r(n.internalModelValue[0])}`:`${r(n.internalModelValue[0])} -`:r(n.internalModelValue):d()),O=m=>{if(!n.monthPicker)return!0;let w=!0;return n.minDate&&n.maxDate?wn(J(m),J(n.minDate))&&un(J(m),J(n.maxDate)):(n.minDate&&(w=wn(J(m),J(n.minDate))),n.maxDate&&(w=un(J(m),J(n.maxDate))),w)},_=()=>{c.value&&h.value&&u.value?e("select-date"):e("invalid-select")};return(m,w)=>(W(),ae("div",{class:"dp__action_row",style:pr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[Ne("div",B2,[m.$slots["action-preview"]?Te(m.$slots,"action-preview",{key:0,value:t.internalModelValue}):Z("",!0),m.$slots["action-preview"]?Z("",!0):(W(),ae(Me,{key:1},[Array.isArray(A(T))?Z("",!0):(W(),ae(Me,{key:0},[Yn(Gt(A(T)),1)],64)),Array.isArray(A(T))?(W(!0),ae(Me,{key:1},Nt(A(T),(R,x)=>(W(),ae("div",{key:x},Gt(R),1))),128)):Z("",!0)],64))]),Ne("div",V2,[m.$slots["action-select"]?Te(m.$slots,"action-select",{key:0,value:t.internalModelValue}):Z("",!0),m.$slots["action-select"]?Z("",!0):(W(),ae(Me,{key:1},[m.inline?Z("",!0):(W(),ae("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:a,tabindex:"0",onClick:w[0]||(w[0]=R=>m.$emit("close-picker")),onKeydown:[w[1]||(w[1]=We(R=>m.$emit("close-picker"),["enter"])),w[2]||(w[2]=We(R=>m.$emit("close-picker"),["space"]))]},Gt(m.cancelText),545)),Ne("span",{class:ct(A(f)),tabindex:"0",onKeydown:[We(_,["enter"]),We(_,["space"])],onClick:_,"data-test":"select-button",ref_key:"selectButtonRef",ref:l},Gt(m.selectText),43,j2)],64))])],4))}}),W2=["aria-label"],q2={class:"dp__calendar_header",role:"row"},K2={key:0,class:"dp__calendar_header_item",role:"gridcell"},Y2=Ne("div",{class:"dp__calendar_header_separator"},null,-1),z2=["aria-label"],G2={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Q2={class:"dp__cell_inner"},X2=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseover"],J2=Ne("div",{class:"dp__arrow_bottom_tp"},null,-1),Z2=at({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ai},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space"],setup(t,{expose:e,emit:n}){const r=t,{buildMultiLevelMatrix:i}=Ri(),{setDateMonthOrYear:s,defaults:o}=Fn(r),a=me(null),l=me({bottom:"",left:"",transform:""}),u=me([]),f=me(null),c=me(!0),h=me(""),d=me({startX:0,endX:0,startY:0,endY:0}),p=ue(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):y2(r.locale,+r.weekStart));Sn(()=>{n("mount",{cmp:"calendar",refs:u}),r.noSwipe||f.value&&(f.value.addEventListener("touchstart",C,{passive:!1}),f.value.addEventListener("touchend",F,{passive:!1}),f.value.addEventListener("touchmove",H,{passive:!1})),r.monthChangeOnScroll&&f.value&&f.value.addEventListener("wheel",D,{passive:!1})});const T=S=>S?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",O=(S,j)=>{if(r.transitions){const L=Tr(s(J(),r.month,r.year));h.value=wn(Tr(s(J(),S,j)),L)?o.value.transitions[T(!0)]:o.value.transitions[T(!1)],c.value=!1,Ii(()=>{c.value=!0})}},_=ue(()=>({dp__calendar_wrap:!0,[r.calendarClassName]:!!r.calendarClassName})),m=ue(()=>S=>{const j=b2(S);return{dp__marker_dot:j.type==="dot",dp__marker_line:j.type==="line"}}),w=ue(()=>S=>wt(S,a.value)),R=ue(()=>({dp__calendar:!0,dp__calendar_next:o.value.multiCalendars>0&&r.instance!==0})),x=ue(()=>r.specificMode?{height:`${r.modeHeight}px`}:void 0),v=(S,j,L)=>{var g,P;if(n("set-hover-date",S),(P=(g=S.marker)==null?void 0:g.tooltip)!=null&&P.length){const q=Jt(u.value[j][L]);if(q){const{width:te,height:ce}=q.getBoundingClientRect();l.value={bottom:`${ce}px`,left:`${te/2}px`,transform:"translateX(-50%)"},a.value=S.value}}},k=()=>{a.value=null},C=S=>{d.value.startX=S.changedTouches[0].screenX,d.value.startY=S.changedTouches[0].screenY},F=S=>{d.value.endX=S.changedTouches[0].screenX,d.value.endY=S.changedTouches[0].screenY,M()},H=S=>{r.vertical&&!r.inline&&S.preventDefault()},M=()=>{const S=r.vertical?"Y":"X";Math.abs(d.value[`start${S}`]-d.value[`end${S}`])>10&&n("handle-swipe",d.value[`start${S}`]>d.value[`end${S}`]?"right":"left")},U=(S,j,L)=>{S&&(Array.isArray(u.value[j])?u.value[j][L]=S:u.value[j]=[S]),r.arrowNavigation&&i(u.value,"calendar")},D=S=>{r.monthChangeOnScroll&&(S.preventDefault(),n("handle-scroll",S))};return e({triggerTransition:O}),(S,j)=>{var L;return W(),ae("div",{class:ct(A(R))},[Ne("div",{style:pr(A(x))},[t.specificMode?Z("",!0):(W(),ae("div",{key:0,ref_key:"calendarWrapRef",ref:f,class:ct(A(_)),role:"grid","aria-label":(L=A(o).ariaLabels)==null?void 0:L.calendarWrap},[Ne("div",q2,[S.weekNumbers?(W(),ae("div",K2,Gt(S.weekNumName),1)):Z("",!0),(W(!0),ae(Me,null,Nt(A(p),(g,P)=>(W(),ae("div",{class:"dp__calendar_header_item",role:"gridcell",key:P,"data-test":"calendar-header"},[S.$slots["calendar-header"]?Te(S.$slots,"calendar-header",{key:0,day:g,index:P}):Z("",!0),S.$slots["calendar-header"]?Z("",!0):(W(),ae(Me,{key:1},[Yn(Gt(g),1)],64))]))),128))]),Y2,it(Ir,{name:h.value,css:!!S.transitions},{default:ze(()=>{var g;return[c.value?(W(),ae("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(g=A(o).ariaLabels)==null?void 0:g.calendarDays},[(W(!0),ae(Me,null,Nt(t.mappedDates,(P,q)=>(W(),ae("div",{class:"dp__calendar_row",role:"row",key:q},[S.weekNumbers?(W(),ae("div",G2,[Ne("div",Q2,Gt(t.getWeekNum(P.days)),1)])):Z("",!0),(W(!0),ae(Me,null,Nt(P.days,(te,ce)=>{var b,z,Ce;return W(),ae("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:$=>U($,q,ce),key:ce+q,"aria-selected":te.classData.dp__active_date||te.classData.dp__range_start||te.classData.dp__range_start,"aria-disabled":te.classData.dp__cell_disabled,"aria-label":(z=(b=A(o).ariaLabels)==null?void 0:b.day)==null?void 0:z.call(b,te),tabindex:"0","data-test":te.value,onClick:Nr($=>S.$emit("select-date",te),["stop","prevent"]),onKeydown:[We($=>S.$emit("select-date",te),["enter"]),We($=>S.$emit("handle-space",te),["space"])],onMouseover:$=>v(te,q,ce),onMouseleave:k},[Ne("div",{class:ct(["dp__cell_inner",te.classData])},[S.$slots.day?Te(S.$slots,"day",{key:0,day:+te.text,date:te.value}):Z("",!0),S.$slots.day?Z("",!0):(W(),ae(Me,{key:1},[Yn(Gt(te.text),1)],64)),te.marker?(W(),ae("div",{key:2,class:ct(A(m)(te.marker)),style:pr(te.marker.color?{backgroundColor:te.marker.color}:{})},null,6)):Z("",!0),A(w)(te.value)?(W(),ae("div",{key:3,class:"dp__marker_tooltip",style:pr(l.value)},[(Ce=te.marker)!=null&&Ce.tooltip?(W(),ae("div",{key:0,class:"dp__tooltip_content",onClick:j[0]||(j[0]=Nr(()=>{},["stop"]))},[(W(!0),ae(Me,null,Nt(te.marker.tooltip,($,G)=>(W(),ae("div",{key:G,class:"dp__tooltip_text"},[S.$slots["marker-tooltip"]?Te(S.$slots,"marker-tooltip",{key:0,tooltop:$,day:te.value}):Z("",!0),S.$slots["marker-tooltip"]?Z("",!0):(W(),ae(Me,{key:1},[Ne("div",{class:"dp__tooltip_mark",style:pr($.color?{backgroundColor:$.color}:{})},null,4),Ne("div",null,Gt($.text),1)],64))]))),128)),J2])):Z("",!0)],4)):Z("",!0)],2)],40,X2)}),128))]))),128))],8,z2)):Z("",!0)]}),_:3},8,["name","css"])],10,W2))],4)],2)}}}),eV=["aria-label","aria-disabled"],nd=at({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=me(null);return Sn(()=>e("set-ref",n)),(r,i)=>(W(),ae("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=s=>r.$emit("activate")),onKeydown:[i[1]||(i[1]=We(s=>r.$emit("activate"),["enter"])),i[2]||(i[2]=We(s=>r.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:n},[Ne("div",{class:ct(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[Te(r.$slots,"default")],2)],40,eV))}}),tV=["onKeydown"],nV={class:"dp__selection_grid_header"},rV=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],iV=["aria-label","onKeydown"],la=at({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:e,emit:n}){const r=t,{setSelectionGrid:i,buildMultiLevelMatrix:s,setMonthPicker:o}=Ri(),{hideNavigationButtons:a}=Fn(r),l=me(!1),u=me(null),f=me(null),c=me([]),h=me(),d=me();uE(()=>{u.value=null}),Sn(()=>{Ii().then(()=>k()),T(),p(!0)}),Qa(()=>p(!1));const p=S=>{var j;r.arrowNavigation&&((j=r.headerRefs)!=null&&j.length?o(S):i(S))},T=()=>{const S=Jt(f);S&&(r.textInput||S.focus({preventScroll:!0}),l.value=S.clientHeight<S.scrollHeight)},O=ue(()=>({dp__overlay:!0})),_=ue(()=>({dp__overlay_col:!0})),m=S=>r.skipActive?!1:S.value===r.modelValue,w=ue(()=>r.items.map(S=>S.filter(j=>j).map(j=>{var L,g,P;const q=r.disabledValues.some(ce=>ce===j.value)||v(j.value),te=(L=r.multiModelValue)!=null&&L.length?(g=r.multiModelValue)==null?void 0:g.some(ce=>wt(ce,es(r.monthPicker?aa(new Date,j.value):new Date,r.monthPicker?r.year:j.value))):m(j);return{...j,className:{dp__overlay_cell_active:te,dp__overlay_cell:!te,dp__overlay_cell_disabled:q,dp__overlay_cell_active_disabled:q&&te,dp__overlay_cell_pad:!0,dp__cell_in_between:(P=r.multiModelValue)!=null&&P.length?F(j.value):!1}}}))),R=ue(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:l.value,dp__button_bottom:r.autoApply})),x=ue(()=>{var S,j;return{dp__overlay_container:!0,dp__container_flex:((S=r.items)==null?void 0:S.length)<=6,dp__container_block:((j=r.items)==null?void 0:j.length)>6}}),v=S=>{const j=r.maxValue||r.maxValue===0,L=r.minValue||r.minValue===0;return!j&&!L?!1:j&&L?+S>+r.maxValue||+S<+r.minValue:j?+S>+r.maxValue:L?+S<+r.minValue:!1},k=()=>{const S=Jt(u);if(S){const j=Jt(f);j&&(j.scrollTop=S.offsetTop-j.offsetTop-(j.getBoundingClientRect().height/2-S.getBoundingClientRect().height))}},C=S=>{!r.disabledValues.some(j=>j===S)&&!v(S)&&(n("update:model-value",S),n("selected"))},F=S=>{const j=r.monthPicker?r.year:S;return OS(r.multiModelValue,es(r.monthPicker?aa(new Date,h.value||0):new Date,r.monthPicker?j:h.value||j),es(r.monthPicker?aa(new Date,S):new Date,j))},H=()=>{n("toggle"),n("reset-flow")},M=()=>{r.escClose&&H()},U=(S,j,L,g)=>{S&&(j.value===+r.modelValue&&!r.disabledValues.includes(j.value)&&(u.value=S),r.arrowNavigation&&(Array.isArray(c.value[L])?c.value[L][g]=S:c.value[L]=[S],D()))},D=()=>{var S,j;const L=(S=r.headerRefs)!=null&&S.length?[r.headerRefs].concat(c.value):c.value.concat([r.skipButtonRef?[]:[d.value]]);s(rn(L),(j=r.headerRefs)!=null&&j.length?"monthPicker":"selectionGrid")};return e({focusGrid:T}),(S,j)=>{var L;return W(),ae("div",{ref_key:"gridWrapRef",ref:f,class:ct(A(O)),role:"dialog",tabindex:"0",onKeydown:We(M,["esc"])},[Ne("div",{class:ct(A(x)),role:"grid"},[Ne("div",nV,[Te(S.$slots,"header")]),(W(!0),ae(Me,null,Nt(A(w),(g,P)=>(W(),ae("div",{class:"dp__overlay_row",key:P,role:"row"},[(W(!0),ae(Me,null,Nt(g,(q,te)=>(W(),ae("div",{role:"gridcell",class:ct(A(_)),key:q.value,"aria-selected":q.value===t.modelValue&&!t.disabledValues.includes(q.value),"aria-disabled":q.className.dp__overlay_cell_disabled,ref_for:!0,ref:ce=>U(ce,q,P,te),tabindex:"0","data-test":q.text,onClick:ce=>C(q.value),onKeydown:[We(ce=>C(q.value),["enter"]),We(ce=>C(q.value),["space"])],onMouseover:ce=>h.value=q.value},[Ne("div",{class:ct(q.className)},[S.$slots.item?Te(S.$slots,"item",{key:0,item:q}):Z("",!0),S.$slots.item?Z("",!0):(W(),ae(Me,{key:1},[Yn(Gt(q.text),1)],64))],2)],42,rV))),128))]))),128)),S.$slots["button-icon"]?Gl((W(),ae("div",{key:0,role:"button","aria-label":(L=t.ariaLabels)==null?void 0:L.toggleOverlay,class:ct(A(R)),tabindex:"0",ref_key:"toggleButton",ref:d,onClick:H,onKeydown:We(H,["enter"])},[Te(S.$slots,"button-icon")],42,iV)),[[Zl,!A(a)(t.type)]]):Z("",!0)],2)],42,tV)}}}),sV=["aria-label"],ww=at({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:e}){const n=t,{transitionName:r,showTransition:i}=Ff(n.transitions),s=me(null);return Sn(()=>e("set-ref",s)),(o,a)=>(W(),ae(Me,null,[Ne("div",{class:"dp__month_year_select",onClick:a[0]||(a[0]=l=>o.$emit("toggle")),onKeydown:[a[1]||(a[1]=We(l=>o.$emit("toggle"),["enter"])),a[2]||(a[2]=We(l=>o.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:s},[Te(o.$slots,"default")],40,sV),it(Ir,{name:A(r)(t.showSelectionGrid),css:A(i)},{default:ze(()=>[t.showSelectionGrid?(W(),He(la,Vt({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":a[3]||(a[3]=l=>o.$emit("update:model-value",l)),onToggle:a[4]||(a[4]=l=>o.$emit("toggle"))}),Cn({"button-icon":ze(()=>[o.$slots["calendar-icon"]?Te(o.$slots,"calendar-icon",{key:0}):Z("",!0),o.$slots["calendar-icon"]?Z("",!0):(W(),He(A(Uf),{key:1}))]),_:2},[o.$slots[t.slotName]?{name:"item",fn:ze(({item:l})=>[Te(o.$slots,t.slotName,{item:l})]),key:"0"}:void 0]),1040)):Z("",!0)]),_:3},8,["name","css"])],64))}}),oV={class:"dp__month_year_row"},aV={class:"dp__month_year_wrap"},lV={class:"dp__month_picker_header"},uV=["aria-label"],cV=["aria-label"],fV=["aria-label"],hV=at({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Ai},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=t,{defaults:i}=Fn(r),{transitionName:s,showTransition:o}=Ff(i.value.transitions),{buildMatrix:a}=Ri(),{handleMonthYearChange:l,isDisabled:u,updateMonthYear:f}=A2(r,n),c=me(!1),h=me(!1),d=me([null,null,null,null]),p=me(null),T=me(null),O=me(null);Sn(()=>{n("mount")});const _=b=>({get:()=>r[b],set:z=>{const Ce=b==="month"?"year":"month";n("update-month-year",{[b]:z,[Ce]:r[Ce]}),n("month-year-select",b==="year"),b==="month"?g(!0):P(!0)}}),m=ue(_("month")),w=ue(_("year")),R=ue(()=>b=>{const z=b==="month";return{showSelectionGrid:(z?c:h).value,items:(z?D:S).value,disabledValues:i.value.filters[z?"months":"years"],minValue:(z?k:x).value,maxValue:(z?C:v).value,headerRefs:z&&r.monthPicker?[p.value,T.value,O.value]:[],escClose:r.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:r.textInput,autoApply:r.autoApply,arrowNavigation:r.arrowNavigation,hideNavigation:r.hideNavigation}}),x=ue(()=>r.minDate?Et(J(r.minDate)):null),v=ue(()=>r.maxDate?Et(J(r.maxDate)):null),k=ue(()=>{if(r.minDate&&x.value){if(x.value>r.year)return 12;if(x.value===r.year)return Tt(J(r.minDate))}return null}),C=ue(()=>r.maxDate&&v.value?v.value<r.year?-1:v.value===r.year?Tt(J(r.maxDate)):null:null),F=ue(()=>r.range&&r.internalModelValue&&(r.monthPicker||r.yearPicker)?r.internalModelValue:[]),H=b=>b.reverse(),M=(b,z=!1)=>{const Ce=[],$=G=>z?H(G):G;for(let G=0;G<b.length;G+=3){const ne=[b[G],b[G+1],b[G+2]];Ce.push($(ne))}return z?Ce.reverse():Ce},U=ue(()=>r.months.find(z=>z.value===r.month)||{text:"",value:0}),D=ue(()=>M(r.months)),S=ue(()=>M(r.years,r.reverseYears)),j=ue(()=>i.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===0:!0),L=ue(()=>i.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===i.value.multiCalendars-1:!0),g=(b=!1)=>{q(b),c.value=!c.value,c.value||n("overlay-closed")},P=(b=!1)=>{q(b),h.value=!h.value,h.value||n("overlay-closed")},q=b=>{b||n("reset-flow")},te=(b=!1)=>{n("update-month-year",{year:b?r.year+1:r.year-1,month:r.month,fromNav:!0})},ce=(b,z)=>{r.arrowNavigation&&(d.value[z]=Jt(b),a(d.value,"monthYear"))};return e({toggleMonthPicker:g,toggleYearPicker:P}),(b,z)=>{var Ce,$,G,ne,oe;return W(),ae("div",oV,[b.$slots["month-year"]?Te(b.$slots,"month-year",Jn(Vt({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:A(f),handleMonthYearChange:A(l),instance:t.instance}))):(W(),ae(Me,{key:1},[!b.monthPicker&&!b.yearPicker?(W(),ae(Me,{key:0},[A(j)&&!b.vertical?(W(),He(nd,{key:0,"aria-label":(Ce=A(i).ariaLabels)==null?void 0:Ce.prevMonth,disabled:A(u)(!1),onActivate:z[0]||(z[0]=Q=>A(l)(!1)),onSetRef:z[1]||(z[1]=Q=>ce(Q,0))},{default:ze(()=>[b.$slots["arrow-left"]?Te(b.$slots,"arrow-left",{key:0}):Z("",!0),b.$slots["arrow-left"]?Z("",!0):(W(),He(A(ow),{key:1}))]),_:3},8,["aria-label","disabled"])):Z("",!0),Ne("div",aV,[it(ww,Vt({type:"month","slot-name":"month-overlay","aria-label":($=A(i).ariaLabels)==null?void 0:$.openMonthsOverlay,modelValue:A(m),"onUpdate:modelValue":z[2]||(z[2]=Q=>ht(m)?m.value=Q:null)},A(R)("month"),{onToggle:g,onSetRef:z[3]||(z[3]=Q=>ce(Q,1))}),Cn({default:ze(()=>[b.$slots.month?Te(b.$slots,"month",Jn(Vt({key:0},A(U)))):Z("",!0),b.$slots.month?Z("",!0):(W(),ae(Me,{key:1},[Yn(Gt(A(U).text),1)],64))]),_:2},[b.$slots["calendar-icon"]?{name:"calendar-icon",fn:ze(()=>[Te(b.$slots,"calendar-icon")]),key:"0"}:void 0,b.$slots["month-overlay-value"]?{name:"month-overlay",fn:ze(({item:Q})=>[Te(b.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),it(ww,Vt({type:"year","slot-name":"year-overlay","aria-label":(G=A(i).ariaLabels)==null?void 0:G.openYearsOverlay,modelValue:A(w),"onUpdate:modelValue":z[4]||(z[4]=Q=>ht(w)?w.value=Q:null)},A(R)("year"),{onToggle:P,onSetRef:z[5]||(z[5]=Q=>ce(Q,2))}),Cn({default:ze(()=>[b.$slots.year?Te(b.$slots,"year",{key:0,year:t.year}):Z("",!0),b.$slots.year?Z("",!0):(W(),ae(Me,{key:1},[Yn(Gt(t.year),1)],64))]),_:2},[b.$slots["calendar-icon"]?{name:"calendar-icon",fn:ze(()=>[Te(b.$slots,"calendar-icon")]),key:"0"}:void 0,b.$slots["year-overlay-value"]?{name:"year-overlay",fn:ze(({item:Q})=>[Te(b.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"])]),A(j)&&b.vertical?(W(),He(nd,{key:1,"aria-label":(ne=A(i).ariaLabels)==null?void 0:ne.prevMonth,disabled:A(u)(!1),onActivate:z[6]||(z[6]=Q=>A(l)(!1))},{default:ze(()=>[b.$slots["arrow-up"]?Te(b.$slots,"arrow-up",{key:0}):Z("",!0),b.$slots["arrow-up"]?Z("",!0):(W(),He(A(CS),{key:1}))]),_:3},8,["aria-label","disabled"])):Z("",!0),A(L)?(W(),He(nd,{key:2,ref:"rightIcon",disabled:A(u)(!0),"aria-label":(oe=A(i).ariaLabels)==null?void 0:oe.nextMonth,onActivate:z[7]||(z[7]=Q=>A(l)(!0)),onSetRef:z[8]||(z[8]=Q=>ce(Q,3))},{default:ze(()=>[b.$slots[b.vertical?"arrow-down":"arrow-right"]?Te(b.$slots,b.vertical?"arrow-down":"arrow-right",{key:0}):Z("",!0),b.$slots[b.vertical?"arrow-down":"arrow-right"]?Z("",!0):(W(),He(Ql(b.vertical?A(kS):A(aw)),{key:1}))]),_:3},8,["disabled","aria-label"])):Z("",!0)],64)):Z("",!0),b.monthPicker?(W(),He(la,Vt({key:1},A(R)("month"),{"skip-active":b.range,year:t.year,"multi-model-value":A(F),"month-picker":"",modelValue:A(m),"onUpdate:modelValue":z[17]||(z[17]=Q=>ht(m)?m.value=Q:null),onToggle:g,onSelected:z[18]||(z[18]=Q=>b.$emit("overlay-closed"))}),Cn({header:ze(()=>{var Q,xe,Se;return[Ne("div",lV,[Ne("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:p,onClick:z[9]||(z[9]=y=>te(!1)),onKeydown:z[10]||(z[10]=We(y=>te(!1),["enter"]))},[Ne("div",{class:"dp__inner_nav",role:"button","aria-label":(Q=A(i).ariaLabels)==null?void 0:Q.prevMonth},[b.$slots["arrow-left"]?Te(b.$slots,"arrow-left",{key:0}):Z("",!0),b.$slots["arrow-left"]?Z("",!0):(W(),He(A(ow),{key:1}))],8,uV)],544),Ne("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:T,"aria-label":(xe=A(i).ariaLabels)==null?void 0:xe.openYearsOverlay,tabindex:"0",onClick:z[11]||(z[11]=()=>P(!1)),onKeydown:z[12]||(z[12]=We(()=>P(!1),["enter"]))},[b.$slots.year?Te(b.$slots,"year",{key:0,year:t.year}):Z("",!0),b.$slots.year?Z("",!0):(W(),ae(Me,{key:1},[Yn(Gt(t.year),1)],64))],40,cV),Ne("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:O,onClick:z[13]||(z[13]=y=>te(!0)),onKeydown:z[14]||(z[14]=We(y=>te(!0),["enter"]))},[Ne("div",{class:"dp__inner_nav",role:"button","aria-label":(Se=A(i).ariaLabels)==null?void 0:Se.nextMonth},[b.$slots["arrow-right"]?Te(b.$slots,"arrow-right",{key:0}):Z("",!0),b.$slots["arrow-right"]?Z("",!0):(W(),He(A(aw),{key:1}))],8,fV)],544)]),it(Ir,{name:A(s)(h.value),css:A(o)},{default:ze(()=>[h.value?(W(),He(la,Vt({key:0},A(R)("year"),{modelValue:A(w),"onUpdate:modelValue":z[15]||(z[15]=y=>ht(w)?w.value=y:null),onToggle:P,onSelected:z[16]||(z[16]=y=>b.$emit("overlay-closed"))}),Cn({"button-icon":ze(()=>[b.$slots["calendar-icon"]?Te(b.$slots,"calendar-icon",{key:0}):Z("",!0),b.$slots["calendar-icon"]?Z("",!0):(W(),He(A(Uf),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:y})=>[Te(b.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1040,["modelValue"])):Z("",!0)]),_:3},8,["name","css"])]}),_:2},[b.$slots["month-overlay-value"]?{name:"item",fn:ze(({item:Q})=>[Te(b.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):Z("",!0),b.yearPicker?(W(),He(la,Vt({key:2},A(R)("year"),{modelValue:A(w),"onUpdate:modelValue":z[19]||(z[19]=Q=>ht(w)?w.value=Q:null),"multi-model-value":A(F),"skip-active":b.range,"skip-button-ref":"","year-picker":"",onToggle:P,onSelected:z[20]||(z[20]=Q=>b.$emit("overlay-closed"))}),Cn({_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:Q})=>[Te(b.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):Z("",!0)],64))])}}}),dV={key:0,class:"dp__time_input"},pV=["aria-label","onKeydown","onClick"],mV=["aria-label","onKeydown","onClick"],gV=["aria-label","onKeydown","onClick"],yV={key:0},vV=["aria-label","onKeydown"],_V=at({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Ai},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:e,emit:n}){const r=t,{setTimePickerElements:i,setTimePickerBackRef:s}=Ri(),{defaults:o}=Fn(r),{transitionName:a,showTransition:l}=Ff(o.value.transitions),u=En({hours:!1,minutes:!1,seconds:!1}),f=me("AM"),c=me(null),h=me([]);Sn(()=>{n("mounted")});const d=(D,S)=>rS(vn(J(),D),S),p=(D,S)=>iB(vn(J(),D),S),T=ue(()=>({dp__time_col:!0,dp__time_col_reg:!r.enableSeconds&&r.is24,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),O=ue(()=>{const D=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return r.enableSeconds?D.concat([{type:"",separator:!0},{type:"seconds"}]):D}),_=ue(()=>O.value.filter(D=>!D.separator)),m=ue(()=>D=>{if(D==="hours"){const S=C(r.hours);return{text:S<10?`0${S}`:`${S}`,value:S}}return{text:r[D]<10?`0${r[D]}`:`${r[D]}`,value:r[D]}}),w=D=>{const S=r.is24?24:12,j=D==="hours"?S:60,L=+r[`${D}GridIncrement`],g=D==="hours"&&!r.is24?L:0,P=[];for(let q=g;q<j;q+=L)P.push({value:q,text:q<10?`0${q}`:`${q}`});return D==="hours"&&!r.is24&&P.push({value:0,text:"12"}),g2(P)},R=D=>r[`no${D[0].toUpperCase()+D.slice(1)}Overlay`],x=D=>{R(D)||(u[D]=!u[D],u[D]||n("overlay-closed"))},v=D=>D==="hours"?Ar:D==="minutes"?Pr:so,k=(D,S=!0)=>{const j=S?d:p;n(`update:${D}`,v(D)(j({[D]:+r[D]},{[D]:+r[`${D}Increment`]})))},C=D=>r.is24?D:(D>=12?f.value="PM":f.value="AM",w2(D)),F=()=>{f.value==="PM"?(f.value="AM",n("update:hours",r.hours-12)):(f.value="PM",n("update:hours",r.hours+12))},H=D=>{u[D]=!0},M=(D,S,j)=>{if(D&&r.arrowNavigation){Array.isArray(h.value[S])?h.value[S][j]=D:h.value[S]=[D];const L=h.value.reduce((g,P)=>P.map((q,te)=>[...g[te]||[],P[te]]),[]);s(r.closeTimePickerBtn),c.value&&(L[1]=L[1].concat(c.value)),i(L,r.order)}},U=(D,S)=>D==="hours"&&!r.is24?n(`update:${D}`,f.value==="PM"?S+12:S):n(`update:${D}`,S);return e({openChildCmp:H}),(D,S)=>{var j;return D.disabled?Z("",!0):(W(),ae("div",dV,[(W(!0),ae(Me,null,Nt(A(O),(L,g)=>{var P,q,te;return W(),ae("div",{key:g,class:ct(A(T))},[L.separator?(W(),ae(Me,{key:0},[Yn(" : ")],64)):(W(),ae(Me,{key:1},[Ne("div",{class:"dp__inc_dec_button",role:"button","aria-label":(P=A(o).ariaLabels)==null?void 0:P.incrementValue(L.type),tabindex:"0",onKeydown:[We(ce=>k(L.type),["enter"]),We(ce=>k(L.type),["space"])],onClick:ce=>k(L.type),ref_for:!0,ref:ce=>M(ce,g,0)},[D.$slots["arrow-up"]?Te(D.$slots,"arrow-up",{key:0}):Z("",!0),D.$slots["arrow-up"]?Z("",!0):(W(),He(A(CS),{key:1}))],40,pV),Ne("div",{role:"button","aria-label":(q=A(o).ariaLabels)==null?void 0:q.openTpOverlay(L.type),class:ct(R(L.type)?"":"dp__time_display"),tabindex:"0",onKeydown:[We(ce=>x(L.type),["enter"]),We(ce=>x(L.type),["space"])],onClick:ce=>x(L.type),ref_for:!0,ref:ce=>M(ce,g,1)},[D.$slots[L.type]?Te(D.$slots,L.type,{key:0,text:A(m)(L.type).text,value:A(m)(L.type).value}):Z("",!0),D.$slots[L.type]?Z("",!0):(W(),ae(Me,{key:1},[Yn(Gt(A(m)(L.type).text),1)],64))],42,mV),Ne("div",{class:"dp__inc_dec_button",role:"button","aria-label":(te=A(o).ariaLabels)==null?void 0:te.decrementValue(L.type),tabindex:"0",onKeydown:[We(ce=>k(L.type,!1),["enter"]),We(ce=>k(L.type,!1),["space"])],onClick:ce=>k(L.type,!1),ref_for:!0,ref:ce=>M(ce,g,2)},[D.$slots["arrow-down"]?Te(D.$slots,"arrow-down",{key:0}):Z("",!0),D.$slots["arrow-down"]?Z("",!0):(W(),He(A(kS),{key:1}))],40,gV)],64))],2)}),128)),D.is24?Z("",!0):(W(),ae("div",yV,[D.$slots["am-pm-button"]?Te(D.$slots,"am-pm-button",{key:0,toggle:F,value:f.value}):Z("",!0),D.$slots["am-pm-button"]?Z("",!0):(W(),ae("button",{key:1,ref_key:"amPmButton",ref:c,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(j=A(o).ariaLabels)==null?void 0:j.amPmButton,tabindex:"0",onClick:F,onKeydown:[We(Nr(F,["prevent"]),["enter"]),We(Nr(F,["prevent"]),["space"])]},Gt(f.value),41,vV))])),(W(!0),ae(Me,null,Nt(A(_),(L,g)=>(W(),He(Ir,{key:g,name:A(a)(u[L.type]),css:A(l)},{default:ze(()=>[u[L.type]?(W(),He(la,{key:0,items:w(L.type),"disabled-values":A(o).filters.times[L.type],"esc-close":D.escClose,"aria-labels":A(o).ariaLabels,"hide-navigation":D.hideNavigation,"onUpdate:modelValue":P=>U(L.type,P),onSelected:P=>x(L.type),onToggle:P=>x(L.type),onResetFlow:S[0]||(S[0]=P=>D.$emit("reset-flow")),type:L.type},Cn({"button-icon":ze(()=>[D.$slots["clock-icon"]?Te(D.$slots,"clock-icon",{key:0}):Z("",!0),D.$slots["clock-icon"]?Z("",!0):(W(),He(A(IS),{key:1}))]),_:2},[D.$slots[`${L.type}-overlay-value`]?{name:"item",fn:ze(({item:P})=>[Te(D.$slots,`${L.type}-overlay-value`,{text:P.text,value:P.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):Z("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),wV=["aria-label"],bV={class:"dp__overlay_container dp__container_flex"},TV={key:1,class:"dp__overlay_row"},EV=["aria-label"],SV=at({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Ai},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=t,{buildMatrix:i,setTimePicker:s}=Ri(),o=$g(),{hideNavigationButtons:a,defaults:l}=Fn(r),{transitionName:u,showTransition:f}=Ff(l.value.transitions),c=me(null),h=me(null),d=me([]),p=me(null);Sn(()=>{n("mount"),!r.timePicker&&r.arrowNavigation?i([Jt(c.value)],"time"):s(!0,r.timePicker)});const T=ue(()=>r.range&&r.modelAuto?DS(r.internalModelValue):!0),O=me(!1),_=M=>({hours:Array.isArray(r.hours)?r.hours[M]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[M]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[M]:r.seconds}),m=ue(()=>{const M=[];if(r.range)for(let U=0;U<2;U++)M.push(_(U));else M.push(_(0));return M}),w=(M,U=!1,D="")=>{U||n("reset-flow"),O.value=M,r.arrowNavigation&&(s(M),M||n("overlay-closed")),Ii(()=>{D!==""&&d.value[0]&&d.value[0].openChildCmp(D)})},R=ue(()=>({dp__button:!0,dp__button_bottom:r.autoApply})),x=Wi(o,"timePicker"),v=(M,U,D)=>r.range?U===0?[M,m.value[1][D]]:[m.value[0][D],M]:M,k=M=>{n("update:hours",M)},C=M=>{n("update:minutes",M)},F=M=>{n("update:seconds",M)},H=()=>{p.value&&r.arrowNavigation&&p.value.focus({preventScroll:!0})};return e({toggleTimePicker:w}),(M,U)=>{var D;return W(),ae("div",null,[M.timePicker?Z("",!0):Gl((W(),ae("div",{key:0,class:ct(A(R)),role:"button","aria-label":(D=A(l).ariaLabels)==null?void 0:D.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:c,onKeydown:[U[0]||(U[0]=We(S=>w(!0),["enter"])),U[1]||(U[1]=We(S=>w(!0),["space"]))],onClick:U[2]||(U[2]=S=>w(!0))},[M.$slots["clock-icon"]?Te(M.$slots,"clock-icon",{key:0}):Z("",!0),M.$slots["clock-icon"]?Z("",!0):(W(),He(A(IS),{key:1}))],42,wV)),[[Zl,!A(a)("time")]]),it(Ir,{name:A(u)(O.value),css:A(f)},{default:ze(()=>{var S;return[O.value||M.timePicker?(W(),ae("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:p,tabindex:"0"},[Ne("div",bV,[M.$slots["time-picker-overlay"]?Te(M.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:k,setMinutes:C,setSeconds:F}):Z("",!0),M.$slots["time-picker-overlay"]?Z("",!0):(W(),ae("div",TV,[(W(!0),ae(Me,null,Nt(A(m),(j,L)=>Gl((W(),He(_V,Vt({key:L},{...M.$props,order:L,hours:j.hours,minutes:j.minutes,seconds:j.seconds,closeTimePickerBtn:h.value,disabled:L===0?M.fixedStart:M.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:d,"onUpdate:hours":g=>k(v(g,L,"hours")),"onUpdate:minutes":g=>C(v(g,L,"minutes")),"onUpdate:seconds":g=>F(v(g,L,"seconds")),onMounted:H,onOverlayClosed:H}),Cn({_:2},[Nt(A(x),(g,P)=>({name:g,fn:ze(q=>[Te(M.$slots,g,Jn(ci(q)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Zl,L===0?!0:A(T)]])),128))])),M.timePicker?Z("",!0):Gl((W(),ae("div",{key:2,ref_key:"closeTimePickerBtn",ref:h,class:ct(A(R)),role:"button","aria-label":(S=A(l).ariaLabels)==null?void 0:S.closeTimePicker,tabindex:"0",onKeydown:[U[3]||(U[3]=We(j=>w(!1),["enter"])),U[4]||(U[4]=We(j=>w(!1),["space"]))],onClick:U[5]||(U[5]=j=>w(!1))},[M.$slots["calendar-icon"]?Te(M.$slots,"calendar-icon",{key:0}):Z("",!0),M.$slots["calendar-icon"]?Z("",!0):(W(),He(A(Uf),{key:1}))],42,EV)),[[Zl,!A(a)("time")]])])],512)):Z("",!0)]}),_:3},8,["name","css"])])}}}),IV=(t,e)=>{const{isDisabled:n,matchDate:r,getWeekFromDate:i}=Fn(e),s=me(),o=me(J()),a=g=>{!g.current&&e.hideOffsetDates||(s.value=g.value)},l=()=>{s.value=null},u=g=>Array.isArray(t.value)&&e.range&&t.value[0]&&s.value?g?wn(s.value,t.value[0]):un(s.value,t.value[0]):!0,f=(g,P)=>{const q=()=>t.value?P?t.value[0]||null:t.value[1]:null,te=t.value&&Array.isArray(t.value)?q():null;return wt(J(g.value),te)},c=g=>{const P=Array.isArray(t.value)?t.value[0]:null;return g?!un(s.value||null,P):!0},h=(g,P=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)?e.hideOffsetDates&&!g.current?!1:wt(J(g.value),t.value[P?0:1]):e.range?f(g,P)&&c(P)||wt(g.value,Array.isArray(t.value)?t.value[0]:null)&&u(P):!1,d=(g,P,q)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?g?!1:q?wn(t.value[0],P.value):un(t.value[0],P.value):!1,p=g=>!t.value||e.hideOffsetDates&&!g.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?wt(g.value,t.value[0]?t.value[0]:o.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(P=>wt(P,g.value)):wt(g.value,t.value?t.value:o.value),T=g=>{if(e.autoRange||e.weekPicker){if(s.value){if(e.hideOffsetDates&&!g.current)return!1;const P=pi(s.value,+e.autoRange),q=i(J(s.value));return e.weekPicker?wt(q[1],J(g.value)):wt(P,J(g.value))}return!1}return!1},O=g=>{if(e.autoRange||e.weekPicker){if(s.value){const P=pi(s.value,+e.autoRange);if(e.hideOffsetDates&&!g.current)return!1;const q=i(J(s.value));return e.weekPicker?wn(g.value,q[0])&&un(g.value,q[1]):wn(g.value,s.value)&&un(g.value,P)}return!1}return!1},_=g=>{if(e.autoRange||e.weekPicker){if(s.value){if(e.hideOffsetDates&&!g.current)return!1;const P=i(J(s.value));return e.weekPicker?wt(P[0],g.value):wt(s.value,g.value)}return!1}return!1},m=g=>OS(t.value,s.value,g.value),w=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,R=()=>e.modelAuto?DS(e.internalModelValue):!0,x=g=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const P=e.range?!h(g)&&!h(g,!1):!0;return!n(g.value)&&!p(g)&&!(!g.current&&e.hideOffsetDates)&&P},v=g=>e.range?e.modelAuto?w()&&p(g):!1:p(g),k=g=>e.highlight?r(g.value,e.highlight):!1,C=g=>n(g.value)&&e.highlightDisabledDays===!1,F=g=>e.highlightWeekDays&&e.highlightWeekDays.includes(g.value.getDay()),H=g=>(e.range||e.weekPicker)&&(e.multiCalendars>0?g.current:!0)&&R()&&!(!g.current&&e.hideOffsetDates)&&!p(g)?m(g):!1,M=g=>({dp__cell_offset:!g.current,dp__pointer:!e.disabled&&!(!g.current&&e.hideOffsetDates)&&!n(g.value),dp__cell_disabled:n(g.value),dp__cell_highlight:!C(g)&&(k(g)||F(g))&&!v(g),dp__cell_highlight_active:!C&&(k(g)||F(g))&&v(g),dp__today:!e.noToday&&wt(g.value,o.value)&&g.current}),U=g=>({dp__active_date:v(g),dp__date_hover:x(g)}),D=g=>({...S(g),...j(g),dp__range_between_week:H(g)&&e.weekPicker}),S=g=>({dp__range_start:e.multiCalendars>0?g.current&&h(g)&&R():h(g)&&R(),dp__range_end:e.multiCalendars>0?g.current&&h(g,!1)&&R():h(g,!1)&&R(),dp__range_between:H(g)&&!e.weekPicker,dp__date_hover_start:d(x(g),g,!0),dp__date_hover_end:d(x(g),g,!1)}),j=g=>({...S(g),dp__cell_auto_range:O(g),dp__cell_auto_range_start:_(g),dp__cell_auto_range_end:T(g)}),L=g=>e.range?e.autoRange?j(g):e.modelAuto?{...U(g),...S(g)}:S(g):e.weekPicker?D(g):U(g);return{setHoverDate:a,clearHoverDate:l,getDayClassData:g=>({...M(g),...L(g),[e.dayClass?e.dayClass(g.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName})}},CV=["id","onKeydown"],kV={key:0,class:"dp__sidebar_left"},OV={key:1,class:"dp__preset_ranges"},RV=["onClick"],AV={key:2,class:"dp__sidebar_right"},PV={key:3,class:"dp__now_wrap"},DV=at({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Ai},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value"],setup(t,{emit:e}){const n=t,{setMenuFocused:r,setShiftKey:i,control:s}=RS(),{getCalendarDays:o,defaults:a}=Fn(n),l=$g(),u=me(null),f=En({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),c=me([]),h=me([]),d=me(null),p=me(null),T=me(0),O=me(!1),_=me(0);Sn(()=>{var K;O.value=!0,!((K=n.presetRanges)!=null&&K.length)&&!l["left-sidebar"]&&!l["right-sidebar"]&&V();const pe=Jt(p);if(pe&&!n.textInput&&!n.inline&&(r(!0),k()),pe){const ft=Wt=>{!n.monthYearComponent&&!n.timePickerComponent&&!Object.keys(l).length&&Wt.preventDefault(),Wt.stopImmediatePropagation(),Wt.stopPropagation()};pe.addEventListener("pointerdown",ft),pe.addEventListener("mousedown",ft)}document.addEventListener("resize",V)}),Qa(()=>{document.removeEventListener("resize",V)});const{arrowRight:m,arrowLeft:w,arrowDown:R,arrowUp:x}=Ri(),v=K=>{K||K===0?h.value[K].triggerTransition(M.value(K),U.value(K)):h.value.forEach((pe,ft)=>pe.triggerTransition(M.value(ft),U.value(ft)))},k=()=>{const K=Jt(p);K&&K.focus({preventScroll:!0})},C=()=>{var K;((K=n.flow)==null?void 0:K.length)&&_.value!==-1&&(_.value+=1,e("flow-step",_.value),lt())},F=()=>{_.value=-1},{modelValue:H,month:M,year:U,time:D,updateTime:S,updateMonthYear:j,selectDate:L,getWeekNum:g,monthYearSelect:P,handleScroll:q,handleArrow:te,handleSwipe:ce,getMarker:b,selectCurrentDate:z,presetDateRange:Ce}=O2(n,e,C,v),{setHoverDate:$,clearHoverDate:G,getDayClassData:ne}=IV(H,n),oe=Wi(l,"calendar"),Q=Wi(l,"action"),xe=Wi(l,"timePicker"),Se=Wi(l,"monthYear"),y=ue(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),E=ue(()=>v2(n.yearRange)),N=ue(()=>_2(n.locale,n.monthNameFormat)),V=()=>{const K=Jt(u);K&&(T.value=K.getBoundingClientRect().width)},Y=ue(()=>K=>o(M.value(K),U.value(K))),re=ue(()=>a.value.multiCalendars>0&&n.range?[...Array(a.value.multiCalendars).keys()]:[0]),fe=ue(()=>K=>K===1),ie=ue(()=>n.monthPicker||n.timePicker||n.yearPicker),le=ue(()=>({dp__flex_display:a.value.multiCalendars>0})),X=ue(()=>({dp__instance_calendar:a.value.multiCalendars>0})),ve=ue(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),ge=ue(()=>K=>Re(Y,K)),_e=ue(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),Re=(K,pe)=>K.value(pe).map(ft=>({...ft,days:ft.days.map(Wt=>(Wt.marker=b(Wt),Wt.classData=ne(Wt),Wt))})),Ve=K=>{K.stopPropagation(),K.preventDefault(),K.stopImmediatePropagation()},I=()=>{n.escClose&&e("close-picker")},B=(K,pe=!1)=>{L(K,pe),n.spaceConfirm&&e("select-date")},he=K=>{var pe;(pe=n.flow)!=null&&pe.length&&(f[K]=!0,Object.keys(f).filter(ft=>!f[ft]).length||lt())},we=(K,pe,ft,Wt,...bl)=>{if(n.flow[_.value]===K){const ke=Wt?pe.value[0]:pe.value;ke&&ke[ft](...bl)}},lt=()=>{we("month",c,"toggleMonthPicker",!0,!0),we("year",c,"toggleYearPicker",!0,!0),we("calendar",d,"toggleTimePicker",!1,!1,!0),we("time",d,"toggleTimePicker",!1,!0,!0);const K=n.flow[_.value];(K==="hours"||K==="minutes"||K==="seconds")&&we(K,d,"toggleTimePicker",!1,!0,!0,K)},Pn=K=>{if(n.arrowNavigation){if(K==="up")return x();if(K==="down")return R();if(K==="left")return w();if(K==="right")return m()}else K==="left"||K==="up"?te("left",0,K==="up"):te("right",0,K==="down")},Dn=K=>{i(K.shiftKey),!n.disableMonthYearSelect&&K.code==="Tab"&&K.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(K.preventDefault(),K.stopImmediatePropagation(),e("close-picker"))};return(K,pe)=>{var ft;return W(),He(Ir,{appear:"",name:(ft=A(a).transitions)==null?void 0:ft.menuAppear,mode:"out-in",css:!!K.transitions},{default:ze(()=>{var Wt,bl;return[Ne("div",{id:K.uid?`dp-menu-${K.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:p,role:"dialog",class:ct(A(_e)),onMouseleave:pe[12]||(pe[12]=(...ke)=>A(G)&&A(G)(...ke)),onClick:Ve,onKeydown:[We(I,["esc"]),pe[13]||(pe[13]=We(Nr(ke=>Pn("left"),["prevent"]),["left"])),pe[14]||(pe[14]=We(Nr(ke=>Pn("up"),["prevent"]),["up"])),pe[15]||(pe[15]=We(Nr(ke=>Pn("down"),["prevent"]),["down"])),pe[16]||(pe[16]=We(Nr(ke=>Pn("right"),["prevent"]),["right"])),Dn]},[(K.disabled||K.readonly)&&K.inline?(W(),ae("div",{key:0,class:ct(A(ve))},null,2)):Z("",!0),!K.inline&&!K.teleportCenter?(W(),ae("div",{key:1,class:ct(A(y))},null,2)):Z("",!0),Ne("div",{class:ct({dp__menu_content_wrapper:((Wt=K.presetRanges)==null?void 0:Wt.length)||!!K.$slots["left-sidebar"]||!!K.$slots["right-sidebar"]})},[K.$slots["left-sidebar"]?(W(),ae("div",kV,[Te(K.$slots,"left-sidebar")])):Z("",!0),(bl=K.presetRanges)!=null&&bl.length?(W(),ae("div",OV,[(W(!0),ae(Me,null,Nt(K.presetRanges,(ke,Is)=>(W(),ae("div",{key:Is,style:pr(ke.style||{}),class:"dp__preset_range",onClick:Je=>A(Ce)(ke.range,!!ke.slot)},[ke.slot?Te(K.$slots,ke.slot,{key:0,presetDateRange:A(Ce),label:ke.label,range:ke.range}):(W(),ae(Me,{key:1},[Yn(Gt(ke.label),1)],64))],12,RV))),128))])):Z("",!0),Ne("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:u,role:"document"},[Ne("div",{class:ct(A(le))},[(W(!0),ae(Me,null,Nt(A(re),(ke,Is)=>(W(),ae("div",{key:ke,class:ct(A(X))},[!K.disableMonthYearSelect&&!K.timePicker?(W(),He(Ql(K.monthYearComponent?K.monthYearComponent:hV),Vt({key:0,ref_for:!0,ref:Je=>{Je&&(c.value[Is]=Je)},months:A(N),years:A(E),month:A(M)(ke),year:A(U)(ke),instance:ke,"internal-model-value":t.internalModelValue},K.$props,{onMount:pe[0]||(pe[0]=Je=>he("monthYearInput")),onResetFlow:F,onUpdateMonthYear:Je=>A(j)(ke,Je),onMonthYearSelect:A(P),onOverlayClosed:k}),Cn({_:2},[Nt(A(Se),(Je,yO)=>({name:Je,fn:ze(Sh=>[Te(K.$slots,Je,Jn(ci(Sh)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):Z("",!0),it(Z2,Vt({ref_for:!0,ref:Je=>{Je&&(h.value[Is]=Je)},"specific-mode":A(ie),"get-week-num":A(g),instance:ke,"mapped-dates":A(ge)(ke),month:A(M)(ke),year:A(U)(ke)},K.$props,{"flow-step":_.value,"onUpdate:flow-step":pe[1]||(pe[1]=Je=>_.value=Je),onSelectDate:Je=>A(L)(Je,!A(fe)(ke)),onHandleSpace:Je=>B(Je,!A(fe)(ke)),onSetHoverDate:pe[2]||(pe[2]=Je=>A($)(Je)),onHandleScroll:Je=>A(q)(Je,ke),onHandleSwipe:Je=>A(ce)(Je,ke),onMount:pe[3]||(pe[3]=Je=>he("calendar")),onResetFlow:F}),Cn({_:2},[Nt(A(oe),(Je,yO)=>({name:Je,fn:ze(Sh=>[Te(K.$slots,Je,Jn(ci({...Sh})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),Ne("div",null,[K.$slots["time-picker"]?Te(K.$slots,"time-picker",Jn(Vt({key:0},{time:A(D),updateTime:A(S)}))):(W(),ae(Me,{key:1},[K.enableTimePicker&&!K.monthPicker&&!K.weekPicker?(W(),He(Ql(K.timePickerComponent?K.timePickerComponent:SV),Vt({key:0,ref_key:"timePickerRef",ref:d,hours:A(D).hours,minutes:A(D).minutes,seconds:A(D).seconds,"internal-model-value":t.internalModelValue},K.$props,{onMount:pe[4]||(pe[4]=ke=>he("timePicker")),"onUpdate:hours":pe[5]||(pe[5]=ke=>A(S)(ke)),"onUpdate:minutes":pe[6]||(pe[6]=ke=>A(S)(ke,!1)),"onUpdate:seconds":pe[7]||(pe[7]=ke=>A(S)(ke,!1,!0)),onResetFlow:F,onOverlayClosed:k}),Cn({_:2},[Nt(A(xe),(ke,Is)=>({name:ke,fn:ze(Je=>[Te(K.$slots,ke,Jn(ci(Je)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):Z("",!0)],64))])],512),K.$slots["right-sidebar"]?(W(),ae("div",AV,[Te(K.$slots,"right-sidebar")])):Z("",!0),K.showNowButton?(W(),ae("div",PV,[K.$slots["now-button"]?Te(K.$slots,"now-button",{key:0,selectCurrentDate:A(z)}):Z("",!0),K.$slots["now-button"]?Z("",!0):(W(),ae("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:pe[8]||(pe[8]=(...ke)=>A(z)&&A(z)(...ke))},Gt(K.nowButtonLabel),1))])):Z("",!0)],2),K.$slots["action-row"]?Te(K.$slots,"action-row",Jn(Vt({key:2},{internalModelValue:t.internalModelValue,selectDate:()=>K.$emit("select-date"),closePicker:()=>K.$emit("close-picker")}))):(W(),ae(Me,{key:3},[!K.autoApply||K.keepActionRow?(W(),He(Ql(K.actionRowComponent?K.actionRowComponent:H2),Vt({key:0,"menu-mount":O.value,"calendar-width":T.value,"internal-model-value":t.internalModelValue},K.$props,{onClosePicker:pe[9]||(pe[9]=ke=>K.$emit("close-picker")),onSelectDate:pe[10]||(pe[10]=ke=>K.$emit("select-date")),onInvalidSelect:pe[11]||(pe[11]=ke=>K.$emit("invalid-select"))}),Cn({_:2},[Nt(A(Q),(ke,Is)=>({name:ke,fn:ze(Je=>[Te(K.$slots,ke,Jn(ci({...Je})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):Z("",!0)],64))],42,CV)]}),_:3},8,["name","css"])}}}),NV=typeof window<"u"?window:void 0,rd=()=>{},xV=t=>NO()?(xO(t),!0):!1,MV=(t,e,n,r)=>{if(!t)return rd;let i=rd;const s=yr(()=>A(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=rd})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return xV(o),o},$V=(t,e,n,r={})=>{const{window:i=NV,event:s="pointerdown"}=r;return i?MV(i,s,o=>{const a=Jt(t),l=Jt(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},LV=at({__name:"VueDatePicker",props:{...Ai},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select"],setup(t,{expose:e,emit:n}){const r=t,i=$g(),s=me(!1),o=ba(r,"modelValue"),a=ba(r,"timezone"),l=me(null),u=me(null),f=me(!1),{setMenuFocused:c,setShiftKey:h}=RS(),{clearArrowNav:d}=Ri(),{validateDate:p,isValidTime:T,defaults:O}=Fn(r);Sn(()=>{F(r.modelValue),r.inline||(window.addEventListener("scroll",j),window.addEventListener("resize",L)),r.inline&&(s.value=!0)}),Qa(()=>{r.inline||(window.removeEventListener("scroll",j),window.removeEventListener("resize",L))});const _=Wi(i,"all",r.presetRanges),m=Wi(i,"input");yr([o,a],()=>{F(o.value)},{deep:!0});const{openOnTop:w,menuPosition:R,setMenuPosition:x,setInitialPosition:v}=P2(l,u,n,r),{inputValue:k,internalModelValue:C,parseExternalModelValue:F,emitModelValue:H,formatInputValue:M,checkBeforeEmit:U}=R2(n,r,f),D=ue(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:r.inline,dp__flex_display_with_input:r.inlineWithInput})),S=ue(()=>r.dark?"dp__theme_dark":"dp__theme_light"),j=()=>{s.value&&(r.closeOnScroll?Ce():r.autoPosition?x():window.removeEventListener("scroll",j))},L=()=>{s.value&&x()},g=()=>{!r.disabled&&!r.readonly&&(v(),s.value=!0,Ii().then(()=>{x(),s.value&&n("open")}),s.value||z(),F(r.modelValue))},P=()=>{k.value="",z(),n("update:model-value",null),n("cleared"),Ce()},q=()=>{const y=C.value;return!y||!Array.isArray(y)&&p(y)?!0:Array.isArray(y)?y.length===2&&p(y[0])&&p(y[1])?!0:p(y[0]):!1},te=()=>{U()&&q()?(H(),Ce()):n("invalid-select",C.value)},ce=y=>{H(),r.closeOnAutoApply&&!y&&Ce()},b=(y=!1)=>{r.autoApply&&T(C.value)&&q()&&(r.range&&Array.isArray(C.value)?(r.partialRange||C.value.length===2)&&ce(y):ce(y))},z=()=>{r.textInput||(C.value=null)},Ce=()=>{r.inline||(s.value&&(s.value=!1,c(!1),h(!1),d(),n("closed"),v(),k.value&&F(o.value)),z(),u.value&&u.value.focusInput())},$=(y,E)=>{if(!y){C.value=null;return}C.value=y,E&&(te(),n("text-submit"))},G=()=>{r.autoApply&&T(C.value)&&H()},ne=()=>s.value?Ce():g(),oe=y=>{C.value=y},Q=ue(()=>r.textInput&&O.value.textInputOptions.format),xe=()=>{Q.value&&(f.value=!0,M()),n("focus")},Se=()=>{Q.value&&(f.value=!1,M()),n("blur")};return $V(l,u,r.onClickOutside?()=>r.onClickOutside(q):Ce),e({closeMenu:Ce,selectDate:te,clearValue:P,openMenu:g,onScroll:j,formatInputValue:M,updateInternalModelValue:oe}),(y,E)=>(W(),ae("div",{class:ct(A(D))},[it(F2,Vt({ref_key:"inputRef",ref:u,"is-menu-open":s.value,"input-value":A(k),"onUpdate:input-value":E[0]||(E[0]=N=>ht(k)?k.value=N:null)},y.$props,{onClear:P,onOpen:g,onSetInputDate:$,onSetEmptyDate:A(H),onSelectDate:te,onToggle:ne,onClose:Ce,onFocus:xe,onBlur:Se}),Cn({_:2},[Nt(A(m),(N,V)=>({name:N,fn:ze(Y=>[Te(y.$slots,N,Jn(ci(Y)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),s.value?(W(),He(iA,{key:0,to:y.teleport,disabled:y.inline},[s.value?(W(),He(DV,Vt({key:0,ref_key:"dpMenuRef",ref:l,class:A(S),style:A(R),"open-on-top":A(w)},y.$props,{"internal-model-value":A(C),"onUpdate:internal-model-value":E[1]||(E[1]=N=>ht(C)?C.value=N:null),onClosePicker:Ce,onSelectDate:te,onAutoApply:b,onTimeUpdate:G,onFlowStep:E[2]||(E[2]=N=>y.$emit("flow-step",N)),onUpdateMonthYear:E[3]||(E[3]=N=>y.$emit("update-month-year",N)),onInvalidSelect:E[4]||(E[4]=N=>y.$emit("invalid-select",A(C)))}),Cn({_:2},[Nt(A(_),(N,V)=>({name:N,fn:ze(Y=>[Te(y.$slots,N,Jn(ci({...Y})))])}))]),1040,["class","style","open-on-top","internal-model-value"])):Z("",!0)],8,["to","disabled"])):Z("",!0)],2))}}),NS=(()=>{const t=LV;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),UV=Object.freeze(Object.defineProperty({__proto__:null,default:NS},Symbol.toStringTag,{value:"Module"}));Object.entries(UV).forEach(([t,e])=>{t!=="default"&&(NS[t]=e)});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de=function(t,e){if(!t)throw To(e)},To=function(t){return new Error("Firebase Database ("+xS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,c=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(h=64)),r.push(n[f],n[c],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||c==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const d=a<<4&240|u>>2;if(r.push(d),c!==64){const p=u<<6&192|c;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$S=function(t){const e=MS(t);return Zg.encodeByteArray(e,!0)},jc=function(t){return $S(t).replace(/\./g,"")},Hc=function(t){try{return Zg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){return LS(void 0,t)}function LS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!VV(n)||(t[n]=LS(t[n],e[n]));return t}function VV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ey(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function US(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jV(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BS(){return xS.NODE_ADMIN===!0}function VS(){return typeof indexedDB=="object"}function jS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function HV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function WV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=()=>WV().__FIREBASE_DEFAULTS__,KV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hc(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return qV()||KV()||YV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=ty())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zV=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GV=()=>{var t;return(t=ty())===null||t===void 0?void 0:t.config},WS=t=>{var e;return(e=ty())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jc(JSON.stringify(n)),jc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="FirebaseError";class ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XV,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vs.prototype.create)}}class vs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ar(i,a,r)}}function JV(t,e){return t.replace(ZV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return JSON.parse(t)}function Qt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ca(Hc(s[0])||""),n=Ca(Hc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},ej=function(t){const e=qS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tj=function(t){const e=qS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bw(s)&&bw(o)){if(!ka(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const h=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=a^s&(o^a),f=1518500249):(u=s^o^a,f=1859775393):c<60?(u=s&o|a&(s|o),f=2400959708):(u=s^o^a,f=3395469782);const h=(i<<5|i>>>27)+u+l+f+r[c]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function rj(t,e){const n=new ij(t,e);return n.subscribe.bind(n)}class ij{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=id),i.error===void 0&&(i.error=id),i.complete===void 0&&(i.complete=id);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function id(){}function oj(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,de(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=1e3,uj=2,cj=4*60*60*1e3,fj=.5;function Tw(t,e=lj,n=uj){const r=e*Math.pow(n,t),i=Math.round(fj*r*(Math.random()-.5)*2);return Math.min(cj,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ny;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pj(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dj(t){return t===Fi?void 0:t}function pj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const gj={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},yj=Ze.INFO,vj={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},_j=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xa{constructor(e){this.name=e,this._logLevel=yj,this._logHandler=_j,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const wj=(t,e)=>e.some(n=>t instanceof n);let Ew,Sw;function bj(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tj(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KS=new WeakMap,Tm=new WeakMap,YS=new WeakMap,sd=new WeakMap,ry=new WeakMap;function Ej(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KS.set(n,t)}).catch(()=>{}),ry.set(e,t),e}function Sj(t){if(Tm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tm.set(t,e)}let Em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ij(t){Em=t(Em)}function Cj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(od(this),e,...n);return YS.set(r,e.sort?e.sort():[e]),mi(r)}:Tj().includes(t)?function(...e){return t.apply(od(this),e),mi(KS.get(this))}:function(...e){return mi(t.apply(od(this),e))}}function kj(t){return typeof t=="function"?Cj(t):(t instanceof IDBTransaction&&Sj(t),wj(t,bj())?new Proxy(t,Em):t)}function mi(t){if(t instanceof IDBRequest)return Ej(t);if(sd.has(t))return sd.get(t);const e=kj(t);return e!==t&&(sd.set(t,e),ry.set(e,t)),e}const od=t=>ry.get(t);function zS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mi(o.result),l.oldVersion,l.newVersion,mi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Oj=["get","getKey","getAll","getAllKeys","count"],Rj=["put","add","delete","clear"],ad=new Map;function Iw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ad.get(e))return ad.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Oj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ad.set(e,s),s}Ij(t=>({...t,get:(e,n,r)=>Iw(e,n)||t.get(e,n,r),has:(e,n)=>!!Iw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",Cw="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Xa("@firebase/app"),Dj="@firebase/app-compat",Nj="@firebase/analytics-compat",xj="@firebase/analytics",Mj="@firebase/app-check-compat",$j="@firebase/app-check",Lj="@firebase/auth",Uj="@firebase/auth-compat",Fj="@firebase/database",Bj="@firebase/database-compat",Vj="@firebase/functions",jj="@firebase/functions-compat",Hj="@firebase/installations",Wj="@firebase/installations-compat",qj="@firebase/messaging",Kj="@firebase/messaging-compat",Yj="@firebase/performance",zj="@firebase/performance-compat",Gj="@firebase/remote-config",Qj="@firebase/remote-config-compat",Xj="@firebase/storage",Jj="@firebase/storage-compat",Zj="@firebase/firestore",eH="@firebase/firestore-compat",tH="firebase",nH="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",rH={[Sm]:"fire-core",[Dj]:"fire-core-compat",[xj]:"fire-analytics",[Nj]:"fire-analytics-compat",[$j]:"fire-app-check",[Mj]:"fire-app-check-compat",[Lj]:"fire-auth",[Uj]:"fire-auth-compat",[Fj]:"fire-rtdb",[Bj]:"fire-rtdb-compat",[Vj]:"fire-fn",[jj]:"fire-fn-compat",[Hj]:"fire-iid",[Wj]:"fire-iid-compat",[qj]:"fire-fcm",[Kj]:"fire-fcm-compat",[Yj]:"fire-perf",[zj]:"fire-perf-compat",[Gj]:"fire-rc",[Qj]:"fire-rc-compat",[Xj]:"fire-gcs",[Jj]:"fire-gcs-compat",[Zj]:"fire-fst",[eH]:"fire-fst-compat","fire-js":"fire-js",[tH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,Cm=new Map;function iH(t,e){try{t.container.addComponent(e)}catch(n){os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function or(t){const e=t.name;if(Cm.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,t);for(const n of qc.values())iH(n,t);return!0}function _s(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gi=new vs("app","Firebase",sH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=nH;function GS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=GV()),!n)throw gi.create("no-options");const s=qc.get(i);if(s){if(ka(n,s.options)&&ka(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new mj(i);for(const l of Cm.values())o.addComponent(l);const a=new oH(n,r,o);return qc.set(i,a),a}function iy(t=Im){const e=qc.get(t);if(!e&&t===Im)return GS();if(!e)throw gi.create("no-app",{appName:t});return e}function Rn(t,e,n){var r;let i=(r=rH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(a.join(" "));return}or(new Qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="firebase-heartbeat-database",lH=1,Oa="firebase-heartbeat-store";let ld=null;function QS(){return ld||(ld=zS(aH,lH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Oa)}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),ld}async function uH(t){var e;try{return(await QS()).transaction(Oa).objectStore(Oa).get(XS(t))}catch(n){if(n instanceof ar)os.warn(n.message);else{const r=gi.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});os.warn(r.message)}}}async function kw(t,e){var n;try{const i=(await QS()).transaction(Oa,"readwrite");return await i.objectStore(Oa).put(e,XS(t)),i.done}catch(r){if(r instanceof ar)os.warn(r.message);else{const i=gi.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});os.warn(i.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=1024,fH=30*24*60*60*1e3;class hH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ow();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=fH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ow(),{heartbeatsToSend:n,unsentEntries:r}=dH(this._heartbeatsCache.heartbeats),i=jc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ow(){return new Date().toISOString().substring(0,10)}function dH(t,e=cH){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?jS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await uH(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rw(t){return jc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t){or(new Qn("platform-logger",e=>new Aj(e),"PRIVATE")),or(new Qn("heartbeat",e=>new hH(e),"PRIVATE")),Rn(Sm,Cw,t),Rn(Sm,Cw,"esm2017"),Rn("fire-js","")}mH("");var gH="firebase",yH="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(gH,yH,"app");const JS="@firebase/installations",sy="0.5.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=1e4,e1=`w:${sy}`,t1="FIS_v2",vH="https://firebaseinstallations.googleapis.com/v1",_H=60*60*1e3,wH="installations",bH="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},as=new vs(wH,bH,TH);function n1(t){return t instanceof ar&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1({projectId:t}){return`${vH}/projects/${t}/installations`}function i1(t){return{token:t.token,requestStatus:2,expiresIn:SH(t.expiresIn),creationTime:Date.now()}}async function s1(t,e){const r=(await e.json()).error;return as.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function o1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function EH(t,{refreshToken:e}){const n=o1(t);return n.append("Authorization",IH(e)),n}async function a1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SH(t){return Number(t.replace("s","000"))}function IH(t){return`${t1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CH({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=r1(t),i=o1(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:t1,appId:t.appId,sdkVersion:e1},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await a1(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:i1(u.authToken)}}else throw await s1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=/^[cdef][\w-]{21}$/,km="";function RH(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=AH(t);return OH.test(n)?n:km}catch{return km}}function AH(t){return kH(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function c1(t,e){const n=Vf(t);f1(n,e),PH(n,e)}function f1(t,e){const n=u1.get(t);if(!!n)for(const r of n)r(e)}function PH(t,e){const n=DH();n&&n.postMessage({key:t,fid:e}),NH()}let qi=null;function DH(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=t=>{f1(t.data.key,t.data.fid)}),qi}function NH(){u1.size===0&&qi&&(qi.close(),qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH="firebase-installations-database",MH=1,ls="firebase-installations-store";let ud=null;function oy(){return ud||(ud=zS(xH,MH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ls)}}})),ud}async function Kc(t,e){const n=Vf(t),i=(await oy()).transaction(ls,"readwrite"),s=i.objectStore(ls),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&c1(t,e.fid),e}async function h1(t){const e=Vf(t),r=(await oy()).transaction(ls,"readwrite");await r.objectStore(ls).delete(e),await r.done}async function jf(t,e){const n=Vf(t),i=(await oy()).transaction(ls,"readwrite"),s=i.objectStore(ls),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&c1(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(t){let e;const n=await jf(t.appConfig,r=>{const i=$H(r),s=LH(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===km?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $H(t){const e=t||{fid:RH(),registrationStatus:0};return d1(e)}function LH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(as.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=UH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FH(t)}:{installationEntry:e}}async function UH(t,e){try{const n=await CH(t,e);return Kc(t.appConfig,n)}catch(n){throw n1(n)&&n.customData.serverCode===409?await h1(t.appConfig):await Kc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FH(t){let e=await Aw(t.appConfig);for(;e.registrationStatus===1;)await l1(100),e=await Aw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ay(t);return r||n}return e}function Aw(t){return jf(t,e=>{if(!e)throw as.create("installation-not-found");return d1(e)})}function d1(t){return BH(t)?{fid:t.fid,registrationStatus:0}:t}function BH(t){return t.registrationStatus===1&&t.registrationTime+ZS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VH({appConfig:t,heartbeatServiceProvider:e},n){const r=jH(t,n),i=EH(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:e1,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await a1(()=>fetch(r,a));if(l.ok){const u=await l.json();return i1(u)}else throw await s1("Generate Auth Token",l)}function jH(t,{fid:e}){return`${r1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(t,e=!1){let n;const r=await jf(t.appConfig,s=>{if(!p1(s))throw as.create("not-registered");const o=s.authToken;if(!e&&qH(o))return s;if(o.requestStatus===1)return n=HH(t,e),s;{if(!navigator.onLine)throw as.create("app-offline");const a=YH(s);return n=WH(t,a),a}});return n?await n:r.authToken}async function HH(t,e){let n=await Pw(t.appConfig);for(;n.authToken.requestStatus===1;)await l1(100),n=await Pw(t.appConfig);const r=n.authToken;return r.requestStatus===0?ly(t,e):r}function Pw(t){return jf(t,e=>{if(!p1(e))throw as.create("not-registered");const n=e.authToken;return zH(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WH(t,e){try{const n=await VH(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Kc(t.appConfig,r),n}catch(n){if(n1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await h1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kc(t.appConfig,r)}throw n}}function p1(t){return t!==void 0&&t.registrationStatus===2}function qH(t){return t.requestStatus===2&&!KH(t)}function KH(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_H}function YH(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function zH(t){return t.requestStatus===1&&t.requestTime+ZS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(t){const e=t,{installationEntry:n,registrationPromise:r}=await ay(e);return r?r.catch(console.error):ly(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QH(t,e=!1){const n=t;return await XH(n),(await ly(n,e)).token}async function XH(t){const{registrationPromise:e}=await ay(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){if(!t||!t.options)throw cd("App Configuration");if(!t.name)throw cd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw cd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function cd(t){return as.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="installations",ZH="installations-internal",e3=t=>{const e=t.getProvider("app").getImmediate(),n=JH(e),r=_s(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},t3=t=>{const e=t.getProvider("app").getImmediate(),n=_s(e,m1).getImmediate();return{getId:()=>GH(n),getToken:i=>QH(n,i)}};function n3(){or(new Qn(m1,e3,"PUBLIC")),or(new Qn(ZH,t3,"PRIVATE"))}n3();Rn(JS,sy);Rn(JS,sy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="analytics",r3="firebase_id",i3="origin",s3=60*1e3,o3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",g1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Xa("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function a3(t,e){const n=document.createElement("script");n.src=`${g1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function l3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function u3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await y1(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Mn.error(a)}t("config",i,s)}async function c3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await y1(n);for(const l of o){const u=a.find(c=>c.measurementId===l),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Mn.error(s)}}function f3(t,e,n,r){async function i(s,o,a){try{s==="event"?await c3(t,e,n,o,a):s==="config"?await u3(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){Mn.error(l)}}return i}function h3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=f3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function d3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(g1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},zn=new vs("analytics","Analytics",p3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=30,g3=1e3;class y3{constructor(e={},n=g3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const v1=new y3;function v3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:v3(r)},s=o3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function w3(t,e=v1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw zn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw zn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new E3;return setTimeout(async()=>{a.abort()},n!==void 0?n:s3),_1({appId:r,apiKey:i,measurementId:s},o,a,e)}async function _1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=v1){var s,o;const{appId:a,measurementId:l}=t;try{await b3(r,e)}catch(u){if(l)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${(s=u)===null||s===void 0?void 0:s.message}]`),{appId:a,measurementId:l};throw u}try{const u=await _3(t);return i.deleteThrottleMetadata(a),u}catch(u){const f=u;if(!T3(f)){if(i.deleteThrottleMetadata(a),l)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:a,measurementId:l};throw u}const c=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?Tw(n,i.intervalMillis,m3):Tw(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,h),Mn.debug(`Calling attemptFetch again in ${c} millis`),_1(t,h,r,i)}}function b3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function T3(t){if(!(t instanceof ar)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class E3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(){var t;if(VS())try{await jS()}catch(e){return Mn.warn(zn.create("indexeddb-unavailable",{errorInfo:(t=e)===null||t===void 0?void 0:t.toString()}).message),!1}else return Mn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function C3(t,e,n,r,i,s,o){var a;const l=w3(t);l.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Mn.error(d)),e.push(l);const u=I3().then(d=>{if(d)return r.getId()}),[f,c]=await Promise.all([l,u]);d3(s)||a3(s,f.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[i3]="firebase",h.update=!0,c!=null&&(h[r3]=c),i("config",f.measurementId,h),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.app=e}_delete(){return delete ua[this.app.options.appId],Promise.resolve()}}let ua={},Dw=[];const Nw={};let fd="dataLayer",O3="gtag",xw,w1,Mw=!1;function R3(){const t=[];if(US()&&t.push("This is a browser extension environment."),HV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});Mn.warn(n.message)}}function A3(t,e,n){R3();const r=t.options.appId;if(!r)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(ua[r]!=null)throw zn.create("already-exists",{id:r});if(!Mw){l3(fd);const{wrappedGtag:s,gtagCore:o}=h3(ua,Dw,Nw,fd,O3);w1=s,xw=o,Mw=!0}return ua[r]=C3(t,Dw,Nw,e,xw,fd,n),new k3(t)}function F5(t=iy()){t=An(t);const e=_s(t,Yc);return e.isInitialized()?e.getImmediate():P3(t)}function P3(t,e={}){const n=_s(t,Yc);if(n.isInitialized()){const i=n.getImmediate();if(ka(e,n.getOptions()))return i;throw zn.create("already-initialized")}return n.initialize({options:e})}function D3(t,e,n,r){t=An(t),S3(w1,ua[t.app.options.appId],e,n,r).catch(i=>Mn.error(i))}const $w="@firebase/analytics",Lw="0.8.4";function N3(){or(new Qn(Yc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return A3(r,i,n)},"PUBLIC")),or(new Qn("analytics-internal",t,"PRIVATE")),Rn($w,Lw),Rn($w,Lw,"esm2017");function t(e){try{const n=e.getProvider(Yc).getImmediate();return{logEvent:(r,i,s)=>D3(n,r,i,s)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}N3();const Ml=void 0;function uy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function b1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x3=b1,T1=new vs("auth","Firebase",b1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Xa("@firebase/auth");function Vu(t,...e){Uw.logLevel<=Ze.ERROR&&Uw.error(`Auth (${So}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw cy(t,...e)}function vr(t,...e){return cy(t,...e)}function E1(t,e,n){const r=Object.assign(Object.assign({},x3()),{[e]:n});return new vs("auth","Firebase",r).create(e,{appName:t.name})}function M3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(t,"argument-error"),E1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return T1.create(t,...e)}function $e(t,e,...n){if(!t)throw cy(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function Hr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function Mr(t){Hr(t instanceof Function,"Expected a class definition");let e=Fw.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fw.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){const n=_s(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ka(s,e!=null?e:{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}function L3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U3(){return Bw()==="http:"||Bw()==="https:"}function Bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U3()||US()||"connection"in navigator)?navigator.onLine:!0}function B3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=ey()||FS()}get(){return F3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Ja(3e4,6e4);function H3(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hf(t,e,n,r,i={}){return I1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Eo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),S1.fetch()(C1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function I1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V3),e);try{const i=new q3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $l(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $l(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $l(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $l(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw E1(t,f,u);Er(t,f)}}catch(i){if(i instanceof ar)throw i;Er(t,"network-request-failed")}}async function W3(t,e,n,r,i={}){const s=await Hf(t,e,n,r,i);return"mfaPendingCredential"in s&&Er(t,"multi-factor-auth-required",{_serverResponse:s}),s}function C1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fy(t.config,i):`${t.config.apiScheme}://${i}`}class q3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),j3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e){return Hf(t,"POST","/v1/accounts:delete",e)}async function Y3(t,e){return Hf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z3(t,e=!1){const n=An(t),r=await n.getIdToken(e),i=hy(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ca(hd(i.auth_time)),issuedAtTime:ca(hd(i.iat)),expirationTime:ca(hd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hd(t){return Number(t)*1e3}function hy(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Hc(r);return s?JSON.parse(s):(Vu("Failed to decode base64 JWT payload"),null)}catch(s){return Vu("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function G3(t){const e=hy(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ar&&Q3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ca(this.lastLoginAt),this.creationTime=ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ra(t,Y3(n,{idToken:r}));$e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eW(s.providerUserInfo):[],a=Z3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new k1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,c)}async function J3(t){const e=An(t);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eW(t){return t.map(e=>{var{providerId:n}=e,r=uy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(t,e){const n=await I1(t,{},async()=>{const r=Eo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=C1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return $e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Aa;return r&&($e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new k1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ra(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z3(this,e)}reload(){return J3(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ra(this,K3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,O=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:R,isAnonymous:x,providerData:v,stsTokenManager:k}=n;$e(w&&k,e,"internal-error");const C=Aa.fromJSON(this.name,k);$e(typeof w=="string",e,"internal-error"),ri(c,e.name),ri(h,e.name),$e(typeof R=="boolean",e,"internal-error"),$e(typeof x=="boolean",e,"internal-error"),ri(d,e.name),ri(p,e.name),ri(T,e.name),ri(O,e.name),ri(_,e.name),ri(m,e.name);const F=new ts({uid:w,auth:e,email:h,emailVerified:R,displayName:c,isAnonymous:x,photoURL:p,phoneNumber:d,tenantId:T,stsTokenManager:C,createdAt:_,lastLoginAt:m});return v&&Array.isArray(v)&&(F.providerData=v.map(H=>Object.assign({},H))),O&&(F._redirectEventId=O),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new Aa;i.updateFromServerResponse(n);const s=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O1.type="NONE";const Vw=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){return`firebase:${t}:${e}:${n}`}class Ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ju(this.userKey,i.apiKey,s),this.fullPersistenceKey=ju("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ws(Mr(Vw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Mr(Vw);const o=ju(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const c=ts._fromJSON(e,f);u!==s&&(a=c),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ws(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ws(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N1(e))return"Blackberry";if(x1(e))return"Webos";if(dy(e))return"Safari";if((e.includes("chrome/")||A1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R1(t=pn()){return/firefox\//i.test(t)}function dy(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A1(t=pn()){return/crios\//i.test(t)}function P1(t=pn()){return/iemobile/i.test(t)}function D1(t=pn()){return/android/i.test(t)}function N1(t=pn()){return/blackberry/i.test(t)}function x1(t=pn()){return/webos/i.test(t)}function Wf(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nW(t=pn()){var e;return Wf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rW(){return jV()&&document.documentMode===10}function M1(t=pn()){return Wf(t)||D1(t)||x1(t)||N1(t)||/windows phone/i.test(t)||P1(t)}function iW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e=[]){let n;switch(t){case"Browser":n=jw(pn());break;case"Worker":n=`${jw(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new sW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await zc(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?An(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $e(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function qf(t){return An(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=rj(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function aW(t,e,n){const r=qf(t);$e(r._canInitEmulator,r,"emulator-config-failed"),$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=L1(e),{host:o,port:a}=lW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uW()}function L1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lW(t){const e=L1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ww(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ww(o)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return W3(t,"POST","/v1/accounts:signInWithIdp",H3(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW="http://localhost";class us extends U1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new us(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:cW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Za{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return us._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Za{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Za{constructor(){super("twitter.com")}static credential(e,n){return us._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ts._fromIdTokenResponse(e,r,i),o=qw(r);return new ao({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qw(r);return new ao({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends ar{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gc(e,n,r,i)}}function F1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(t,s,e,r):s})}async function fW(t,e,n=!1){const r=await Ra(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ao._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Ra(t,F1(i,s,e,t),n);$e(o.idToken,i,"internal-error");const a=hy(o.idToken);$e(a,i,"internal-error");const{sub:l}=a;return $e(t.uid===l,i,"user-mismatch"),ao._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Er(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e,n=!1){const r="signIn",i=await F1(t,r,e),s=await ao._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function pW(t,e,n,r){return An(t).onIdTokenChanged(e,n,r)}function mW(t,e,n){return An(t).beforeAuthStateChanged(e,n)}function gW(t){return An(t).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(){const t=pn();return dy(t)||Wf(t)}const vW=1e3,_W=10;class V1 extends B1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yW()&&iW(),this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_W):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V1.type="LOCAL";const wW=V1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends B1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j1.type="SESSION";const H1=j1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await bW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=my("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(c){const h=c;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function EW(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function SW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CW(){return W1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebaseLocalStorageDb",kW=1,Xc="firebaseLocalStorage",K1="fbase_key";class el{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yf(t,e){return t.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function OW(){const t=indexedDB.deleteDatabase(q1);return new el(t).toPromise()}function Rm(){const t=indexedDB.open(q1,kW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xc,{keyPath:K1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xc)?e(r):(r.close(),await OW(),e(await Rm()))})})}async function Kw(t,e,n){const r=Yf(t,!0).put({[K1]:e,value:n});return new el(r).toPromise()}async function RW(t,e){const n=Yf(t,!1).get(e),r=await new el(n).toPromise();return r===void 0?null:r.value}function Yw(t,e){const n=Yf(t,!0).delete(e);return new el(n).toPromise()}const AW=800,PW=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(CW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SW(),!this.activeServiceWorker)return;this.sender=new TW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Kw(e,Qc,"1"),await Yw(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yf(i,!1).getAll();return new el(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const DW=Y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xW(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",NW().appendChild(r)})}function MW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e){return e?Mr(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends U1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $W(t){return dW(t.auth,new gy(t),t.bypassAuthState)}function LW(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),hW(n,new gy(t),t.bypassAuthState)}async function UW(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),fW(n,new gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $W;case"linkViaPopup":case"linkViaRedirect":return UW;case"reauthViaPopup":case"reauthViaRedirect":return LW;default:Er(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=new Ja(2e3,1e4);async function BW(t,e,n){const r=qf(t);M3(t,e,py);const i=z1(r,n);return new Ki(r,"signInViaPopup",e,i).executeNotNull()}class Ki extends G1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,FW.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="pendingRedirect",Hu=new Map;class jW extends G1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await HW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HW(t,e){const n=KW(e),r=qW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function WW(t,e){Hu.set(t._key(),e)}function qW(t){return Mr(t._redirectPersistence)}function KW(t){return ju(VW,t.config.apiKey,t.name)}async function YW(t,e,n=!1){const r=qf(t),i=z1(r,e),o=await new jW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=10*60*1e3;class GW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Q1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zW&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Q1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(t,e={}){return Hf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZW=/^https?/;async function eq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XW(t);for(const n of e)try{if(tq(n))return}catch{}Er(t,"unauthorized-domain")}function tq(t){const e=Om(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZW.test(n))return!1;if(JW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=new Ja(3e4,6e4);function Gw(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rq(t){return new Promise((e,n)=>{var r,i,s;function o(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),n(vr(t,"network-request-failed"))},timeout:nq.get()})}if(!((i=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_r().gapi)===null||s===void 0)&&s.load)o();else{const a=MW("iframefcb");return _r()[a]=()=>{gapi.load?o():n(vr(t,"network-request-failed"))},xW(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wu=null,e})}let Wu=null;function iq(t){return Wu=Wu||rq(t),Wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=new Ja(5e3,15e3),oq="__/auth/iframe",aq="emulator/auth/iframe",lq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cq(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,aq):`https://${t.config.authDomain}/${oq}`,r={apiKey:e.apiKey,appName:t.name,v:So},i=uq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Eo(r).slice(1)}`}async function fq(t){const e=await iq(t),n=_r().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:cq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lq,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vr(t,"network-request-failed"),a=_r().setTimeout(()=>{s(o)},sq.get());function l(){_r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dq=500,pq=600,mq="_blank",gq="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yq(t,e,n,r=dq,i=pq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hq),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pn().toLowerCase();n&&(a=A1(u)?mq:n),R1(u)&&(e=e||gq,l.scrollbars="yes");const f=Object.entries(l).reduce((h,[d,p])=>`${h}${d}=${p},`,"");if(nW(u)&&a!=="_self")return vq(e||"",a),new Qw(null);const c=window.open(e||"",a,f);$e(c,t,"popup-blocked");try{c.focus()}catch{}return new Qw(c)}function vq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="__/auth/handler",wq="emulator/auth/handler";function Xw(t,e,n,r,i,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:So,eventId:i};if(e instanceof py){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Za){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${bq(t)}?${Eo(a).slice(1)}`}function bq({config:t}){return t.emulator?fy(t,wq):`https://${t.authDomain}/${_q}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class Tq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H1,this._completeRedirectFn=YW,this._overrideRedirectResult=WW}async _openPopup(e,n,r,i){var s;Hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Xw(e,n,r,Om(),i);return yq(e,o,my())}async _openRedirect(e,n,r,i){return await this._originValidation(e),EW(Xw(e,n,r,Om(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fq(e),r=new GW(e);return n.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dd,{type:dd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dd];o!==void 0&&n(!!o),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||dy()||Wf()}}const Eq=Tq;var Jw="@firebase/auth",Zw="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Cq(t){or(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{$e(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),$e(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(t)},f=new oW(a,l,u);return L3(f,n),f})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),or(new Qn("auth-internal",e=>{const n=qf(e.getProvider("auth").getImmediate());return(r=>new Sq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(Jw,Zw,Iq(t)),Rn(Jw,Zw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=5*60,Oq=WS("authIdTokenMaxAge")||kq;let eb=null;const Rq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Oq)return;const i=n==null?void 0:n.token;eb!==i&&(eb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zf(t=iy()){const e=_s(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$3(t,{popupRedirectResolver:Eq,persistence:[DW,wW,H1]}),r=WS("authTokenSyncURL");if(r){const s=Rq(r);mW(n,s,()=>s(n.currentUser)),pW(n,o=>s(o))}const i=HS("auth");return i&&aW(n,`http://${i}`),n}Cq("Browser");var Aq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye,yy=yy||{},Ue=Aq||self;function Jc(){}function Gf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function tl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Pq(t){return Object.prototype.hasOwnProperty.call(t,pd)&&t[pd]||(t[pd]=++Dq)}var pd="closure_uid_"+(1e9*Math.random()>>>0),Dq=0;function Nq(t,e,n){return t.call.apply(t.bind,arguments)}function xq(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function hn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?hn=Nq:hn=xq,hn.apply(null,arguments)}function Ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Pi(){this.s=this.s,this.o=this.o}var Mq=0;Pi.prototype.s=!1;Pi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Mq!=0)&&Pq(this)};Pi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const X1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function vy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var $q=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ue.addEventListener("test",Jc,e),Ue.removeEventListener("test",Jc,e)}catch{}return t}();function Zc(t){return/^[\s\xa0]*$/.test(t)}var nb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function md(t,e){return t<e?-1:t>e?1:0}function Qf(){var t=Ue.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return Qf().indexOf(t)!=-1}function _y(t){return _y[" "](t),t}_y[" "]=Jc;function Lq(t){var e=Bq;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Uq=dr("Opera"),lo=dr("Trident")||dr("MSIE"),J1=dr("Edge"),Am=J1||lo,Z1=dr("Gecko")&&!(Qf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),Fq=Qf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function eI(){var t=Ue.document;return t?t.documentMode:void 0}var ef;e:{var gd="",yd=function(){var t=Qf();if(Z1)return/rv:([^\);]+)(\)|;)/.exec(t);if(J1)return/Edge\/([\d\.]+)/.exec(t);if(lo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Fq)return/WebKit\/(\S+)/.exec(t);if(Uq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yd&&(gd=yd?yd[1]:""),lo){var vd=eI();if(vd!=null&&vd>parseFloat(gd)){ef=String(vd);break e}}ef=gd}var Bq={};function Vq(){return Lq(function(){let t=0;const e=nb(String(ef)).split("."),n=nb("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=md(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||md(i[2].length==0,s[2].length==0)||md(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Pm;if(Ue.document&&lo){var rb=eI();Pm=rb||parseInt(ef,10)||void 0}else Pm=void 0;var jq=Pm;function Pa(t,e){if(dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Z1){e:{try{_y(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Hq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pa.X.h.call(this)}}nn(Pa,dn);var Hq={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),Wq=0;function qq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Wq,this.ba=this.ea=!1}function Xf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function wy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tI(t){const e={};for(const n in t)e[n]=t[n];return e}const ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ib.length;s++)n=ib[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jf(t){this.src=t,this.g={},this.h=0}Jf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Nm(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new qq(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Dm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=X1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Nm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var by="closure_lm_"+(1e6*Math.random()|0),_d={};function rI(t,e,n,r,i){if(r&&r.once)return sI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rI(t,e[s],n,r,i);return null}return n=Sy(n),t&&t[nl]?t.N(e,n,tl(r)?!!r.capture:!!r,i):iI(t,e,n,!1,r,i)}function iI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tl(i)?!!i.capture:!!i,a=Ey(t);if(a||(t[by]=a=new Jf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Kq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$q||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(aI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Kq(){function t(n){return e.call(t.src,t.listener,n)}const e=Yq;return t}function sI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sI(t,e[s],n,r,i);return null}return n=Sy(n),t&&t[nl]?t.O(e,n,tl(r)?!!r.capture:!!r,i):iI(t,e,n,!0,r,i)}function oI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)oI(t,e[s],n,r,i);else r=tl(r)?!!r.capture:!!r,n=Sy(n),t&&t[nl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Nm(s,n,r,i),-1<n&&(Xf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ey(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Nm(e,n,r,i)),(n=-1<t?e[t]:null)&&Ty(n))}function Ty(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[nl])Dm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ey(e))?(Dm(n,t),n.h==0&&(n.src=null,e[by]=null)):Xf(t)}}}function aI(t){return t in _d?_d[t]:_d[t]="on"+t}function Yq(t,e){if(t.ba)t=!0;else{e=new Pa(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Ty(t),t=n.call(r,e)}return t}function Ey(t){return t=t[by],t instanceof Jf?t:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sy(t){return typeof t=="function"?t:(t[wd]||(t[wd]=function(e){return t.handleEvent(e)}),t[wd])}function Ht(){Pi.call(this),this.i=new Jf(this),this.P=this,this.I=null}nn(Ht,Pi);Ht.prototype[nl]=!0;Ht.prototype.removeEventListener=function(t,e,n,r){oI(this,t,e,n,r)};function Zt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new dn(e,t);else if(e instanceof dn)e.target=e.target||t;else{var i=e;e=new dn(r,t),nI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ul(o,r,!0,e)&&i}if(o=e.g=t,i=Ul(o,r,!0,e)&&i,i=Ul(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ul(o,r,!1,e)&&i}Ht.prototype.M=function(){if(Ht.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xf(n[r]);delete t.g[e],t.h--}}this.I=null};Ht.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ul(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Dm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Iy=Ue.JSON.stringify;function zq(){var t=cI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Gq{constructor(){this.h=this.g=null}add(e,n){const r=lI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var lI=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Qq,t=>t.reset());class Qq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Xq(t){Ue.setTimeout(()=>{throw t},0)}function uI(t,e){xm||Jq(),Mm||(xm(),Mm=!0),cI.add(t,e)}var xm;function Jq(){var t=Ue.Promise.resolve(void 0);xm=function(){t.then(Zq)}}var Mm=!1,cI=new Gq;function Zq(){for(var t;t=zq();){try{t.h.call(t.g)}catch(n){Xq(n)}var e=lI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mm=!1}function Zf(t,e){Ht.call(this),this.h=t||1,this.g=e||Ue,this.j=hn(this.lb,this),this.l=Date.now()}nn(Zf,Ht);ye=Zf.prototype;ye.ca=!1;ye.R=null;ye.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zt(this,"tick"),this.ca&&(Cy(this),this.start()))}};ye.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Cy(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ye.M=function(){Zf.X.M.call(this),Cy(this),delete this.g};function ky(t,e,n){if(typeof t=="function")n&&(t=hn(t,n));else if(t&&typeof t.handleEvent=="function")t=hn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ue.setTimeout(t,e||0)}function fI(t){t.g=ky(()=>{t.g=null,t.i&&(t.i=!1,fI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class eK extends Pi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fI(this)}M(){super.M(),this.g&&(Ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(t){Pi.call(this),this.h=t,this.g={}}nn(Da,Pi);var sb=[];function hI(t,e,n,r){Array.isArray(n)||(n&&(sb[0]=n.toString()),n=sb);for(var i=0;i<n.length;i++){var s=rI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dI(t){wy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ty(e)},t),t.g={}}Da.prototype.M=function(){Da.X.M.call(this),dI(this)};Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function eh(){this.g=!0}eh.prototype.Aa=function(){this.g=!1};function tK(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var f=u[0];u=u[1];var c=f.split("_");o=2<=c.length&&c[1]=="type"?o+(f+"="+u+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function nK(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+iK(t,n)+(r?" "+r:"")})}function rK(t,e){t.info(function(){return"TIMEOUT: "+e})}eh.prototype.info=function(){};function iK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Iy(n)}catch{return e}}var ws={},ob=null;function th(){return ob=ob||new Ht}ws.Pa="serverreachability";function pI(t){dn.call(this,ws.Pa,t)}nn(pI,dn);function Na(t){const e=th();Zt(e,new pI(e))}ws.STAT_EVENT="statevent";function mI(t,e){dn.call(this,ws.STAT_EVENT,t),this.stat=e}nn(mI,dn);function bn(t){const e=th();Zt(e,new mI(e,t))}ws.Qa="timingevent";function gI(t,e){dn.call(this,ws.Qa,t),this.size=e}nn(gI,dn);function rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ue.setTimeout(function(){t()},e)}var nh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Oy(){}Oy.prototype.h=null;function ab(t){return t.h||(t.h=t.i())}function vI(){}var il={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ry(){dn.call(this,"d")}nn(Ry,dn);function Ay(){dn.call(this,"c")}nn(Ay,dn);var $m;function rh(){}nn(rh,Oy);rh.prototype.g=function(){return new XMLHttpRequest};rh.prototype.i=function(){return{}};$m=new rh;function sl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Da(this),this.O=sK,t=Am?125:void 0,this.T=new Zf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _I}function _I(){this.i=null,this.g="",this.h=!1}var sK=45e3,Lm={},tf={};ye=sl.prototype;ye.setTimeout=function(t){this.O=t};function Um(t,e,n){t.K=1,t.v=sh(Wr(e)),t.s=n,t.P=!0,wI(t,null)}function wI(t,e){t.F=Date.now(),ol(t),t.A=Wr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),OI(n.i,"t",r),t.C=0,n=t.l.H,t.h=new _I,t.g=GI(t.l,n?e:null,!t.s),0<t.N&&(t.L=new eK(hn(t.La,t,t.g),t.N)),hI(t.S,t.g,"readystatechange",t.ib),e=t.H?tI(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Na(),tK(t.j,t.u,t.A,t.m,t.U,t.s)}ye.ib=function(t){t=t.target;const e=this.L;e&&$r(t)==3?e.l():this.La(t)};ye.La=function(t){try{if(t==this.g)e:{const f=$r(this.g);var e=this.g.Ea();const c=this.g.aa();if(!(3>f)&&(f!=3||Am||this.g&&(this.h.h||this.g.fa()||fb(this.g)))){this.I||f!=4||e==7||(e==8||0>=c?Na(3):Na(2)),ih(this);var n=this.g.aa();this.Y=n;t:if(bI(this)){var r=fb(this.g);t="";var i=r.length,s=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),fa(this);var o="";break t}this.h.i=new Ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,nK(this.j,this.u,this.A,this.m,this.U,f,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zc(a)){var u=a;break t}}u=null}if(n=u)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fm(this,n);else{this.i=!1,this.o=3,bn(12),Yi(this),fa(this);break e}}this.P?(TI(this,f,o),Am&&this.i&&f==3&&(hI(this.S,this.T,"tick",this.hb),this.T.start())):(Ns(this.j,this.m,o,null),Fm(this,o)),f==4&&Yi(this),this.i&&!this.I&&(f==4?qI(this.l,this):(this.i=!1,ol(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),Yi(this),fa(this)}}}catch{}finally{}};function bI(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function TI(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=oK(t,n),i==tf){e==4&&(t.o=4,bn(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Lm){t.o=4,bn(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),Fm(t,i);bI(t)&&i!=tf&&i!=Lm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ly(e),e.K=!0,bn(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),Yi(t),fa(t))}ye.hb=function(){if(this.g){var t=$r(this.g),e=this.g.fa();this.C<e.length&&(ih(this),TI(this,t,e),this.i&&t!=4&&ol(this))}};function oK(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?tf:(n=Number(e.substring(n,r)),isNaN(n)?Lm:(r+=1,r+n>e.length?tf:(e=e.substr(r,n),t.C=r+n,e)))}ye.cancel=function(){this.I=!0,Yi(this)};function ol(t){t.V=Date.now()+t.O,EI(t,t.O)}function EI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=rl(hn(t.gb,t),e)}function ih(t){t.B&&(Ue.clearTimeout(t.B),t.B=null)}ye.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(rK(this.j,this.A),this.K!=2&&(Na(),bn(17)),Yi(this),this.o=2,fa(this)):EI(this,this.V-t)};function fa(t){t.l.G==0||t.I||qI(t.l,t)}function Yi(t){ih(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Cy(t.T),dI(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Fm(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Bm(n.h,t))){if(!t.J&&Bm(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)sf(n),lh(n);else break e;$y(n),bn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=rl(hn(n.cb,n),6e3));if(1>=PI(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else zi(n,11)}else if((t.J||n.g==t)&&sf(n),!Zc(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const f=u[3];f!=null&&(n.ma=f,n.j.info("VER="+n.ma));const c=u[4];c!=null&&(n.Ca=c,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Py(s,s.h),s.h=null))}if(r.D){const T=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.za=T,bt(r.F,r.D,T))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=zI(r,r.H?r.ka:null,r.V),o.J){DI(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(ih(a),ol(a)),r.g=o}else HI(r);0<n.i.length&&uh(n)}else u[0]!="stop"&&u[0]!="close"||zi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?zi(n,7):My(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Na(4)}catch{}}function aK(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function lK(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function SI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=lK(t),r=aK(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var II=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ns(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ns){this.h=e!==void 0?e:t.h,nf(this,t.j),this.s=t.s,this.g=t.g,rf(this,t.m),this.l=t.l,e=t.i;var n=new xa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),lb(this,n),this.o=t.o}else t&&(n=String(t).match(II))?(this.h=!!e,nf(this,n[1]||"",!0),this.s=Go(n[2]||""),this.g=Go(n[3]||"",!0),rf(this,n[4]),this.l=Go(n[5]||"",!0),lb(this,n[6]||"",!0),this.o=Go(n[7]||"")):(this.h=!!e,this.i=new xa(null,this.h))}ns.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qo(e,ub,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Qo(e,ub,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Qo(n,n.charAt(0)=="/"?hK:fK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qo(n,pK)),t.join("")};function Wr(t){return new ns(t)}function nf(t,e,n){t.j=n?Go(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function lb(t,e,n){e instanceof xa?(t.i=e,mK(t.i,t.h)):(n||(e=Qo(e,dK)),t.i=new xa(e,t.h))}function bt(t,e,n){t.i.set(e,n)}function sh(t){return bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Go(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,cK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ub=/[#\/\?@]/g,fK=/[#\?:]/g,hK=/[#\?]/g,dK=/[#\?@]/g,pK=/#/g;function xa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Di(t){t.g||(t.g=new Map,t.h=0,t.i&&uK(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ye=xa.prototype;ye.add=function(t,e){Di(this),this.i=null,t=Io(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function CI(t,e){Di(t),e=Io(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kI(t,e){return Di(t),e=Io(t,e),t.g.has(e)}ye.forEach=function(t,e){Di(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ye.oa=function(){Di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ye.W=function(t){Di(this);let e=[];if(typeof t=="string")kI(this,t)&&(e=e.concat(this.g.get(Io(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ye.set=function(t,e){return Di(this),this.i=null,t=Io(this,t),kI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ye.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function OI(t,e,n){CI(t,e),0<n.length&&(t.i=null,t.g.set(Io(t,e),vy(n)),t.h+=n.length)}ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Io(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mK(t,e){e&&!t.j&&(Di(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(CI(this,r),OI(this,i,n))},t)),t.j=e}var gK=class{constructor(t,e){this.h=t,this.g=e}};function RI(t){this.l=t||yK,Ue.PerformanceNavigationTiming?(t=Ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ue.g&&Ue.g.Ga&&Ue.g.Ga()&&Ue.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yK=10;function AI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function PI(t){return t.h?1:t.g?t.g.size:0}function Bm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Py(t,e){t.g?t.g.add(e):t.h=e}function DI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}RI.prototype.cancel=function(){if(this.i=NI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function NI(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return vy(t.i)}function Dy(){}Dy.prototype.stringify=function(t){return Ue.JSON.stringify(t,void 0)};Dy.prototype.parse=function(t){return Ue.JSON.parse(t,void 0)};function vK(){this.g=new Dy}function _K(t,e,n){const r=n||"";try{SI(t,function(i,s){let o=i;tl(i)&&(o=Iy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wK(t,e){const n=new eh;if(Ue.Image){const r=new Image;r.onload=Ll(Fl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ll(Fl,n,r,"TestLoadImage: error",!1,e),r.onabort=Ll(Fl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ll(Fl,n,r,"TestLoadImage: timeout",!1,e),Ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function al(t){this.l=t.ac||null,this.j=t.jb||!1}nn(al,Oy);al.prototype.g=function(){return new oh(this.l,this.j)};al.prototype.i=function(t){return function(){return t}}({});function oh(t,e){Ht.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ny,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn(oh,Ht);var Ny=0;ye=oh.prototype;ye.open=function(t,e){if(this.readyState!=Ny)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ma(this)};ye.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ue).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ll(this)),this.readyState=Ny};ye.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xI(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function xI(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ye.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ll(this):Ma(this),this.readyState==3&&xI(this)}};ye.Va=function(t){this.g&&(this.response=this.responseText=t,ll(this))};ye.Ua=function(t){this.g&&(this.response=t,ll(this))};ye.ga=function(){this.g&&ll(this)};function ll(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ma(t)}ye.setRequestHeader=function(t,e){this.v.append(t,e)};ye.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ye.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var bK=Ue.JSON.parse;function Ot(t){Ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=MI,this.K=this.L=!1}nn(Ot,Ht);var MI="",TK=/^https?$/i,EK=["POST","PUT"];ye=Ot.prototype;ye.Ka=function(t){this.L=t};ye.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$m.g(),this.C=this.u?ab(this.u):ab($m),this.g.onreadystatechange=hn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){cb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ue.FormData&&t instanceof Ue.FormData,!(0<=X1(EK,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{UI(this),0<this.B&&((this.K=SK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.qa,this)):this.A=ky(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cb(this,s)}};function SK(t){return lo&&Vq()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ye.qa=function(){typeof yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))};function cb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$I(t),ah(t)}function $I(t){t.D||(t.D=!0,Zt(t,"complete"),Zt(t,"error"))}ye.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Zt(this,"complete"),Zt(this,"abort"),ah(this))};ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ah(this,!0)),Ot.X.M.call(this)};ye.Ha=function(){this.s||(this.F||this.v||this.l?LI(this):this.fb())};ye.fb=function(){LI(this)};function LI(t){if(t.h&&typeof yy<"u"&&(!t.C[1]||$r(t)!=4||t.aa()!=2)){if(t.v&&$r(t)==4)ky(t.Ha,0,t);else if(Zt(t,"readystatechange"),$r(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(II)[1]||null;if(!i&&Ue.self&&Ue.self.location){var s=Ue.self.location.protocol;i=s.substr(0,s.length-1)}r=!TK.test(i?i.toLowerCase():"")}n=r}if(n)Zt(t,"complete"),Zt(t,"success");else{t.m=6;try{var o=2<$r(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",$I(t)}}finally{ah(t)}}}}function ah(t,e){if(t.g){UI(t);const n=t.g,r=t.C[0]?Jc:null;t.g=null,t.C=null,e||Zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function UI(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ue.clearTimeout(t.A),t.A=null)}function $r(t){return t.g?t.g.readyState:0}ye.aa=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}};ye.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ye.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),bK(e)}};function fb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case MI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ye.Ea=function(){return this.m};ye.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function FI(t){let e="";return wy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function xy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=FI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):bt(t,e,n))}function Vo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function BI(t){this.Ca=0,this.i=[],this.j=new eh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vo("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vo("baseRetryDelayMs",5e3,t),this.bb=Vo("retryDelaySeedMs",1e4,t),this.$a=Vo("forwardChannelMaxRetries",2,t),this.ta=Vo("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new RI(t&&t.concurrentRequestLimit),this.Fa=new vK,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ye=BI.prototype;ye.ma=8;ye.G=1;function My(t){if(VI(t),t.G==3){var e=t.U++,n=Wr(t.F);bt(n,"SID",t.I),bt(n,"RID",e),bt(n,"TYPE","terminate"),ul(t,n),e=new sl(t,t.j,e,void 0),e.K=2,e.v=sh(Wr(n)),n=!1,Ue.navigator&&Ue.navigator.sendBeacon&&(n=Ue.navigator.sendBeacon(e.v.toString(),"")),!n&&Ue.Image&&(new Image().src=e.v,n=!0),n||(e.g=GI(e.l,null),e.g.da(e.v)),e.F=Date.now(),ol(e)}YI(t)}function lh(t){t.g&&(Ly(t),t.g.cancel(),t.g=null)}function VI(t){lh(t),t.u&&(Ue.clearTimeout(t.u),t.u=null),sf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Ue.clearTimeout(t.m),t.m=null)}function uh(t){AI(t.h)||t.m||(t.m=!0,uI(t.Ja,t),t.C=0)}function IK(t,e){return PI(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=rl(hn(t.Ja,t,e),KI(t,t.C)),t.C++,!0)}ye.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new sl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=tI(s),nI(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jI(this,i,e),n=Wr(this.F),bt(n,"RID",t),bt(n,"CVER",22),this.D&&bt(n,"X-HTTP-Session-Id",this.D),ul(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(FI(s)))+"&"+e:this.o&&xy(n,this.o,s)),Py(this.h,i),this.Ya&&bt(n,"TYPE","init"),this.O?(bt(n,"$req",e),bt(n,"SID","null"),i.Z=!0,Um(i,n,null)):Um(i,n,e),this.G=2}}else this.G==3&&(t?hb(this,t):this.i.length==0||AI(this.h)||hb(this))};function hb(t,e){var n;e?n=e.m:n=t.U++;const r=Wr(t.F);bt(r,"SID",t.I),bt(r,"RID",n),bt(r,"AID",t.T),ul(t,r),t.o&&t.s&&xy(r,t.o,t.s),n=new sl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=jI(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Py(t.h,n),Um(n,r,e)}function ul(t,e){t.ia&&wy(t.ia,function(n,r){bt(e,r,n)}),t.l&&SI({},function(n,r){bt(e,r,n)})}function jI(t,e,n){n=Math.min(t.i.length,n);var r=t.l?hn(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const f=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{_K(f,o,"req"+u+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function HI(t){t.g||t.u||(t.Z=1,uI(t.Ia,t),t.A=0)}function $y(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=rl(hn(t.Ia,t),KI(t,t.A)),t.A++,!0)}ye.Ia=function(){if(this.u=null,WI(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=rl(hn(this.eb,this),t)}};ye.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,bn(10),lh(this),WI(this))};function Ly(t){t.B!=null&&(Ue.clearTimeout(t.B),t.B=null)}function WI(t){t.g=new sl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Wr(t.sa);bt(e,"RID","rpc"),bt(e,"SID",t.I),bt(e,"CI",t.L?"0":"1"),bt(e,"AID",t.T),bt(e,"TYPE","xmlhttp"),ul(t,e),t.o&&t.s&&xy(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=sh(Wr(e)),n.s=null,n.P=!0,wI(n,t)}ye.cb=function(){this.v!=null&&(this.v=null,lh(this),$y(this),bn(19))};function sf(t){t.v!=null&&(Ue.clearTimeout(t.v),t.v=null)}function qI(t,e){var n=null;if(t.g==e){sf(t),Ly(t),t.g=null;var r=2}else if(Bm(t.h,e))n=e.D,DI(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=th(),Zt(r,new gI(r,n)),uh(t)}else HI(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&IK(t,e)||r==2&&$y(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:zi(t,5);break;case 4:zi(t,10);break;case 3:zi(t,6);break;default:zi(t,2)}}}function KI(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function zi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=hn(t.kb,t);n||(n=new ns("//www.google.com/images/cleardot.gif"),Ue.location&&Ue.location.protocol=="http"||nf(n,"https"),sh(n)),wK(n.toString(),r)}else bn(2);t.G=0,t.l&&t.l.va(e),YI(t),VI(t)}ye.kb=function(t){t?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function YI(t){if(t.G=0,t.la=[],t.l){const e=NI(t.h);(e.length!=0||t.i.length!=0)&&(tb(t.la,e),tb(t.la,t.i),t.h.i.length=0,vy(t.i),t.i.length=0),t.l.ua()}}function zI(t,e,n){var r=n instanceof ns?Wr(n):new ns(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),rf(r,r.m);else{var i=Ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ns(null,void 0);r&&nf(s,r),e&&(s.g=e),i&&rf(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&bt(r,n,e),bt(r,"VER",t.ma),ul(t,r),r}function GI(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ot(new al({jb:!0})):new Ot(t.ra),e.Ka(t.H),e}function QI(){}ye=QI.prototype;ye.xa=function(){};ye.wa=function(){};ye.va=function(){};ye.ua=function(){};ye.Ra=function(){};function of(){if(lo&&!(10<=Number(jq)))throw Error("Environmental error: no available transport.")}of.prototype.g=function(t,e){return new Un(t,e)};function Un(t,e){Ht.call(this),this.g=new BI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Zc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Co(this)}nn(Un,Ht);Un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=zI(t,null,t.V),uh(t)};Un.prototype.close=function(){My(this.g)};Un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Iy(t),t=n);e.i.push(new gK(e.ab++,t)),e.G==3&&uh(e)};Un.prototype.M=function(){this.g.l=null,delete this.j,My(this.g),delete this.g,Un.X.M.call(this)};function XI(t){Ry.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nn(XI,Ry);function JI(){Ay.call(this),this.status=1}nn(JI,Ay);function Co(t){this.g=t}nn(Co,QI);Co.prototype.xa=function(){Zt(this.g,"a")};Co.prototype.wa=function(t){Zt(this.g,new XI(t))};Co.prototype.va=function(t){Zt(this.g,new JI)};Co.prototype.ua=function(){Zt(this.g,"b")};of.prototype.createWebChannel=of.prototype.g;Un.prototype.send=Un.prototype.u;Un.prototype.open=Un.prototype.m;Un.prototype.close=Un.prototype.close;nh.NO_ERROR=0;nh.TIMEOUT=8;nh.HTTP_ERROR=6;yI.COMPLETE="complete";vI.EventType=il;il.OPEN="a";il.CLOSE="b";il.ERROR="c";il.MESSAGE="d";Ht.prototype.listen=Ht.prototype.N;Ot.prototype.listenOnce=Ot.prototype.O;Ot.prototype.getLastError=Ot.prototype.Oa;Ot.prototype.getLastErrorCode=Ot.prototype.Ea;Ot.prototype.getStatus=Ot.prototype.aa;Ot.prototype.getResponseJson=Ot.prototype.Sa;Ot.prototype.getResponseText=Ot.prototype.fa;Ot.prototype.send=Ot.prototype.da;Ot.prototype.setWithCredentials=Ot.prototype.Ka;var CK=function(){return new of},kK=function(){return th()},bd=nh,OK=yI,RK=ws,db={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},AK=al,Bl=vI,PK=Ot;const pb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="9.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Xa("@firebase/firestore");function mb(){return cs.logLevel}function be(t,...e){if(cs.logLevel<=Ze.DEBUG){const n=e.map(Uy);cs.debug(`Firestore (${ko}): ${t}`,...n)}}function qr(t,...e){if(cs.logLevel<=Ze.ERROR){const n=e.map(Uy);cs.error(`Firestore (${ko}): ${t}`,...n)}}function Vm(t,...e){if(cs.logLevel<=Ze.WARN){const n=e.map(Uy);cs.warn(`Firestore (${ko}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function dt(t,e){t||Fe()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class NK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xK{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new ZI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new sn(e)}}class MK{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(dt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $K{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new MK(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UK{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.A=n.token,new LK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new je(e)}static min(){return new je(new Mt(0,0))}static max(){return new je(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ct extends $a{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const BK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends $a{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return BK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ct.fromString(e))}static fromName(e){return new Ie(Ct.fromString(e).popFirst(5))}static empty(){return new Ie(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ct(e.slice()))}}function VK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new bi(i,Ie.empty(),e)}function jK(t){return new bi(t.readTime,t.key,-1)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(je.min(),Ie.empty(),-1)}static max(){return new bi(je.max(),Ie.empty(),-1)}}function HK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==WK)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fy.at=-1;class Lt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vl(this.root,e,this.comparator,!0)}}class Vl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Yt.RED,this.left=i!=null?i:Yt.EMPTY,this.right=s!=null?s:Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yb(this.data.getIterator())}getIteratorFrom(e){return new yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new wr([])}unionWith(e){let n=new $t(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new mn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const KK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(dt(!!t),typeof t=="string"){let e=0;const n=KK.exec(t);if(dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rC(t){const e=t.mapValue.fields.__previous_value__;return nC(e)?rC(e):e}function La(t){const e=Ti(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}function ch(t){return t==null}function af(t){return t===0&&1/t==-1/0}function zK(t){return typeof t=="number"&&Number.isInteger(t)&&!af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nC(t)?4:GK(t)?9007199254740991:10:Fe()}function Sr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return La(t).isEqual(La(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ti(r.timestampValue),o=Ti(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return co(r.bytesValue).isEqual(co(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Dt(r.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(r.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Dt(r.integerValue)===Dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Dt(r.doubleValue),o=Dt(i.doubleValue);return s===o?af(s)===af(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gb(s)!==gb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Sr(s[a],o[a])))return!1;return!0}(t,e);default:return Fe()}}function Fa(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Dt(i.integerValue||i.doubleValue),a=Dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return vb(t.timestampValue,e.timestampValue);case 4:return vb(La(t),La(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=co(i),a=co(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=nt(o[l],a[l]);if(u!==0)return u}return nt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=nt(Dt(i.latitude),Dt(s.latitude));return o!==0?o:nt(Dt(i.longitude),Dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=fo(o[l],a[l]);if(u)return u}return nt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===jl.mapValue&&s===jl.mapValue)return 0;if(i===jl.mapValue)return 1;if(s===jl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let f=0;f<a.length&&f<u.length;++f){const c=nt(a[f],u[f]);if(c!==0)return c;const h=fo(o[a[f]],l[u[f]]);if(h!==0)return h}return nt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function vb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Ti(t),r=Ti(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function Ks(t){return jm(t)}function jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ti(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?co(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ie.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jm(r.fields[a])}`;return s+"}"}(t.mapValue):Fe();var e,n}function Hm(t){return!!t&&"integerValue"in t}function By(t){return!!t&&"arrayValue"in t}function _b(t){return!!t&&"nullValue"in t}function wb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qu(t){return!!t&&"mapValue"in t}function ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ha(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hn(ha(this.value))}}function iC(t){const e=[];return Oo(t.fields,(n,r)=>{const i=new cn([n]);if(qu(r)){const s=iC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new zt(e,0,je.min(),je.min(),Hn.empty(),0)}static newFoundDocument(e,n,r){return new zt(e,1,n,je.min(),r,0)}static newNoDocument(e,n){return new zt(e,2,n,je.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,je.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function bb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QK(t,e,n,r,i,s,o)}function Vy(t){const e=Be(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ks(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ks(r)).join(",")),e.ht=n}return e.ht}function XK(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ks(r.value)}`;var r}).join(", ")}]`),ch(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ks(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ks(n)).join(",")),`Target(${e})`}function jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!sY(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Sr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eb(t.startAt,e.startAt)&&Eb(t.endAt,e.endAt)}function Wm(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class kn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new JK(e,n,r):n==="array-contains"?new tY(e,r):n==="in"?new nY(e,r):n==="not-in"?new rY(e,r):n==="array-contains-any"?new iY(e,r):new kn(e,n,r)}static lt(e,n,r){return n==="in"?new ZK(e,r):new eY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(fo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.ft(fo(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JK extends kn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.ft(n)}}class ZK extends kn{constructor(e,n){super(e,"in",n),this.keys=sC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eY extends kn{constructor(e,n){super(e,"not-in",n),this.keys=sC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class tY extends kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return By(n)&&Fa(n.arrayValue,this.value)}}class nY extends kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fa(this.value.arrayValue,n)}}class rY extends kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fa(this.value.arrayValue,n)}}class iY extends kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!By(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fa(this.value.arrayValue,r))}}class lf{constructor(e,n){this.position=e,this.inclusive=n}}class da{constructor(e,n="asc"){this.field=e,this.dir=n}}function sY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Tb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Eb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function oY(t,e,n,r,i,s,o,a){return new fh(t,e,n,r,i,s,o,a)}function Hy(t){return new fh(t)}function Sb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aY(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lY(t){for(const e of t.filters)if(e.dt())return e.field;return null}function uY(t){return t.collectionGroup!==null}function Ba(t){const e=Be(t);if(e._t===null){e._t=[];const n=lY(e),r=aY(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new da(n)),e._t.push(new da(cn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new da(cn.keyField(),s))}}}return e._t}function Kr(t){const e=Be(t);if(!e.wt)if(e.limitType==="F")e.wt=bb(e.path,e.collectionGroup,Ba(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ba(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new da(s.field,o))}const r=e.endAt?new lf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new lf(e.startAt.position,e.startAt.inclusive):null;e.wt=bb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function qm(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return jy(Kr(t),Kr(e))&&t.limitType===e.limitType}function oC(t){return`${Vy(Kr(t))}|lt:${t.limitType}`}function Km(t){return`Query(target=${XK(Kr(t))}; limitType=${t.limitType})`}function Wy(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ie.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Tb(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ba(n),r)||n.endAt&&!function(i,s,o){const a=Tb(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ba(n),r))}(t,e)}function cY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aC(t){return(e,n)=>{let r=!1;for(const i of Ba(t)){const s=fY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fY(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?fo(a,l):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function uC(t){return{integerValue:""+t}}function hY(t,e){return zK(e)?uC(e):lC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function dY(t,e,n){return t instanceof uf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Va?fC(t,e):t instanceof ja?hC(t,e):function(r,i){const s=cC(r,i),o=Ib(s)+Ib(r.yt);return Hm(s)&&Hm(r.yt)?uC(o):lC(r.It,o)}(t,e)}function pY(t,e,n){return t instanceof Va?fC(t,e):t instanceof ja?hC(t,e):n}function cC(t,e){return t instanceof cf?Hm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class uf extends dh{}class Va extends dh{constructor(e){super(),this.elements=e}}function fC(t,e){const n=dC(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ja extends dh{constructor(e){super(),this.elements=e}}function hC(t,e){let n=dC(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class cf extends dh{constructor(e,n){super(),this.It=e,this.yt=n}}function Ib(t){return Dt(t.integerValue||t.doubleValue)}function dC(t){return By(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mY(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Va&&r instanceof Va||n instanceof ja&&r instanceof ja?uo(n.elements,r.elements,Sr):n instanceof cf&&r instanceof cf?Sr(n.yt,r.yt):n instanceof uf&&r instanceof uf}(t.transform,e.transform)}class gY{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ph{}function pC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gC(t.key,Ur.none()):new hl(t.key,t.data,Ur.none());{const n=t.data,r=Hn.empty();let i=new $t(cn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new bs(t.key,r,new wr(i.toArray()),Ur.none())}}function yY(t,e,n){t instanceof hl?function(r,i,s){const o=r.value.clone(),a=kb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(r,i,s){if(!Ku(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=kb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(mC(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function pa(t,e,n,r){return t instanceof hl?function(i,s,o,a){if(!Ku(i.precondition,s))return o;const l=i.value.clone(),u=Ob(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(i,s,o,a){if(!Ku(i.precondition,s))return o;const l=Ob(i.fieldTransforms,a,s),u=s.data;return u.setAll(mC(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,o){return Ku(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function vY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=cC(r.transform,i||null);s!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,s))}return n||null}function Cb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&uo(n,r,(i,s)=>mY(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hl extends ph{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends ph{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kb(t,e,n){const r=new Map;dt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pY(o,a,n[i]))}return r}function Ob(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dY(s,o,e))}return r}class gC extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _Y extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ye;function bY(t){switch(t){default:return Fe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function yC(t){if(t===void 0)return qr("GRPC error has no .code"),se.UNKNOWN;switch(t){case Pt.OK:return se.OK;case Pt.CANCELLED:return se.CANCELLED;case Pt.UNKNOWN:return se.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return se.INTERNAL;case Pt.UNAVAILABLE:return se.UNAVAILABLE;case Pt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Pt.NOT_FOUND:return se.NOT_FOUND;case Pt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Pt.ABORTED:return se.ABORTED;case Pt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Pt.DATA_LOSS:return se.DATA_LOSS;default:return Fe()}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=new Lt(Ie.comparator);function Yr(){return TY}const vC=new Lt(Ie.comparator);function Xo(...t){let e=vC;for(const n of t)e=e.insert(n.key,n);return e}function _C(t){let e=vC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return ma()}function wC(){return ma()}function ma(){return new Ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const EY=new Lt(Ie.comparator),SY=new $t(Ie.comparator);function qe(...t){let e=SY;for(const n of t)e=e.add(n);return e}const IY=new $t(nt);function bC(){return IY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mh(je.min(),i,bC(),Yr(),qe())}}class dl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dl(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class TC{constructor(e,n){this.targetId=e,this.At=n}}class EC{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Rb{constructor(){this.Rt=0,this.bt=Pb(),this.Pt=mn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=qe(),n=qe(),r=qe();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe()}}),new dl(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=Pb()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class CY{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Yr(),this.qt=Ab(),this.Kt=new $t(nt)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(Wm(s))if(r===0){const o=new Ie(s.path);this.jt(n,o,zt.newNoDocument(o,je.min()))}else dt(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Wm(a.target)){const l=new Ie(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,zt.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=qe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new mh(e,n,this.Kt,this.Ut,r);return this.Ut=Yr(),this.qt=Ab(),this.Kt=new $t(nt),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new Rb,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new $t(nt),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Rb),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function Ab(){return new Lt(Ie.comparator)}function Pb(){return new Lt(Ie.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),OY=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class RY{constructor(e,n){this.databaseId=e,this.gt=n}}function ff(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SC(t,e){return t.gt?e.toBase64():e.toUint8Array()}function AY(t,e){return ff(t,e.toTimestamp())}function Fr(t){return dt(!!t),je.fromTimestamp(function(e){const n=Ti(e);return new Mt(n.seconds,n.nanos)}(t))}function qy(t,e){return function(n){return new Ct(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function IC(t){const e=Ct.fromString(t);return dt(OC(e)),e}function Ym(t,e){return qy(t.databaseId,e.path)}function Td(t,e){const n=IC(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(CC(n))}function zm(t,e){return qy(t.databaseId,e)}function PY(t){const e=IC(t);return e.length===4?Ct.emptyPath():CC(e)}function Gm(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CC(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Db(t,e,n){return{name:Ym(t,e),fields:n.value.mapValue.fields}}function DY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(dt(u===void 0||typeof u=="string"),mn.fromBase64String(u||"")):(dt(u===void 0||u instanceof Uint8Array),mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?se.UNKNOWN:yC(l.code);return new Pe(u,l.message||"")}(o);n=new EC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Td(t,r.document.name),s=Fr(r.document.updateTime),o=new Hn({mapValue:{fields:r.document.fields}}),a=zt.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Yu(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Td(t,r.document),s=r.readTime?Fr(r.readTime):je.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Td(t,r.document),s=r.removedTargetIds||[];n=new Yu([],s,i,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new wY(i),o=r.targetId;n=new TC(o,s)}}return n}function NY(t,e){let n;if(e instanceof hl)n={update:Db(t,e.key,e.value)};else if(e instanceof gC)n={delete:Ym(t,e.key)};else if(e instanceof bs)n={update:Db(t,e.key,e.data),updateMask:HY(e.fieldMask)};else{if(!(e instanceof _Y))return Fe();n={verify:Ym(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof uf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Va)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ja)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof cf)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:AY(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Fe()}(t,e.precondition)),n}function xY(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Fr(r.updateTime):Fr(i);return s.isEqual(je.min())&&(s=Fr(i)),new gY(s,r.transformResults||[])}(n,e))):[]}function MY(t,e){return{documents:[zm(t,e.path)]}}function $Y(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=zm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(f=>function(c){if(c.op==="=="){if(wb(c.value))return{unaryFilter:{field:Rs(c.field),op:"IS_NAN"}};if(_b(c.value))return{unaryFilter:{field:Rs(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(wb(c.value))return{unaryFilter:{field:Rs(c.field),op:"IS_NOT_NAN"}};if(_b(c.value))return{unaryFilter:{field:Rs(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(c.field),op:BY(c.op),value:c.value}}}(f));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Rs(f.field),direction:FY(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||ch(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function LY(t){let e=PY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=kC(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>function(c){return new da(xs(c.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(c.direction))}(f)));let a=null;n.limit&&(a=function(f){let c;return c=typeof f=="object"?f.value:f,ch(c)?null:c}(n.limit));let l=null;n.startAt&&(l=function(f){const c=!!f.before,h=f.values||[];return new lf(h,c)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const c=!f.before,h=f.values||[];return new lf(h,c)}(n.endAt)),oY(e,i,o,s,a,"F",l,u)}function UY(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function kC(t){return t?t.unaryFilter!==void 0?[jY(t)]:t.fieldFilter!==void 0?[VY(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>kC(e)).reduce((e,n)=>e.concat(n)):Fe():[]}function FY(t){return kY[t]}function BY(t){return OY[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function xs(t){return cn.fromServerFormat(t.fieldPath)}function VY(t){return kn.create(xs(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function jY(t){switch(t.unaryFilter.op){case"IS_NAN":const e=xs(t.unaryFilter.field);return kn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=xs(t.unaryFilter.field);return kn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xs(t.unaryFilter.field);return kn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xs(t.unaryFilter.field);return kn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}function HY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=pC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,r)=>Cb(n,r))&&uo(this.baseMutations,e.baseMutations,(n,r)=>Cb(n,r))}}class Ky{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length);let i=EY;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ky(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,s=je.min(),o=je.min(),a=mn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e){this.re=e}}function YY(t){const e=LY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(){this.Ye=new GY}addToCollectionParentIndex(e,n){return this.Ye.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(bi.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class GY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(Ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ho(0)}static vn(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&pa(r.mutation,i,wr.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yr();const o=ma(),a=ma();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof bs)?s=s.insert(u.key,u):f!==void 0&&(o.set(u.key,f.mutation.getFieldMask()),pa(f.mutation,u,f.mutation.getFieldMask(),Mt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var c;return a.set(u,new XY(f,(c=o.get(u))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ma();let i=new Lt((o,a)=>o-a),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||wr.empty();f=a.applyToLocalView(u,f),r.set(l,f);const c=(i.get(a.batchId)||qe()).add(l);i=i.insert(a.batchId,c)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,c=wC();f.forEach(h=>{if(!s.has(h)){const d=pC(n.get(h),r.get(h));d!==null&&c.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,c))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uY(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(Gi());let a=-1,l=s;return o.next(u=>ee.forEach(u,(f,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),s.get(f)?ee.resolve():this.getBaseDocument(e,f,c).next(h=>{l=l.insert(f,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,qe())).next(f=>({batchId:a,changes:_C(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=Xo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Xo();return this.indexManager.getCollectionParents(e,i).next(o=>ee.forEach(o,a=>{const l=function(u,f){return new fh(f,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((f,c)=>{s=s.insert(f,c)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,zt.newInvalidDocument(u)))});let o=Xo();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&pa(u.mutation,l,wr.empty(),Mt.now()),Wy(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):ee.resolve(zt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return ee.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Fr(r.createTime)}),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:YY(r.bundledQuery),readTime:Fr(r.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.overlays=new Lt(Ie.comparator),this.es=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Lt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Gi(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=Gi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return ee.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qY(n,r));let s=this.es.get(n);s===void 0&&(s=qe(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.ns=new $t(Ft.ss),this.rs=new $t(Ft.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ft(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new Ie(new Ct([])),r=new Ft(n,e),i=new Ft(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Ie(new Ct([])),r=new Ft(n,e),i=new Ft(n,e+1);let s=qe();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ft(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Ie.comparator(e.key,n.key)||nt(e._s,n._s)}static os(e,n){return nt(e._s,n._s)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new $t(Ft.ss)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WY(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(nt);return n.forEach(i=>{const s=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),ee.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const o=new Ft(new Ie(s),0);let a=new $t(nt);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),ee.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return ee.forEach(n.mutations,i=>{const s=new Ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ft(n,0),i=this.gs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.Es=e,this.docs=new Lt(Ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),ee.resolve(r)}getAllFromCollection(e,n,r){let i=Yr();const s=new Ie(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||HK(jK(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return ee.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Fe()}As(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rz(this)}getSize(e){return ee.resolve(this.size)}}class rz extends QY{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.persistence=e,this.Rs=new Ro(n=>Vy(n),jy),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Yy,this.targetCount=0,this.vs=ho.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),ee.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Dn(n),ee.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Fy(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new iz(this),this.indexManager=new zY,this.remoteDocumentCache=function(r){return new nz(r)}(r=>this.referenceDelegate.xs(r)),this.It=new KY(n),this.Ns=new ZY(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ez,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new tz(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new oz(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return ee.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class oz extends qK{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Fs=new Yy,this.$s=null}static Bs(e){return new zy(e)}get Ls(){if(this.$s)return this.$s;throw Fe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ls,r=>{const i=Ie.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,je.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return ee.or([()=>ee.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=qe(),i=qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(Sb(n))return ee.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qm(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=qe(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,qm(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return Sb(n)||i.isEqual(je.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(mb()<=Ze.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Km(n)),this.Bi(e,o,n,VK(i,-1)))})}Fi(e,n){let r=new $t(aC(e));return n.forEach((i,s)=>{Wy(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return mb()<=Ze.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Km(n)),this.Ni.getDocumentsMatchingQuery(e,n,bi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Lt(nt),this.qi=new Ro(s=>Vy(s),jy),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JY(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function uz(t,e,n,r){return new lz(t,e,n,r)}async function RC(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=qe();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function cz(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const f=l.batch,c=f.keys();let h=ee.resolve();return c.forEach(d=>{h=h.next(()=>u.getEntry(a,d)).next(p=>{const T=l.docVersions.get(d);dt(T!==null),p.version.compareTo(T)<0&&(f.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=qe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AC(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function fz(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((f,c)=>{const h=i.get(c);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,f.removedDocuments,c).next(()=>n.Cs.addMatchingKeys(s,f.addedDocuments,c)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(c)?d=d.withResumeToken(mn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):f.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(f.resumeToken,r)),i=i.insert(c,d),function(p,T,O){return p.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(h,d,f)&&a.push(n.Cs.updateTargetData(s,d))});let l=Yr(),u=qe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(hz(s,o,e.documentUpdates).next(f=>{l=f.Wi,u=f.zi})),!r.isEqual(je.min())){const f=n.Cs.getLastRemoteSnapshotVersion(s).next(c=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return ee.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function hz(t,e,n){let r=qe(),i=qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(je.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function dz(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pz(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new rs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Qm(t,e,n){const r=Be(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fl(o))throw o;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function Nb(t,e,n){const r=Be(t);let i=je.min(),s=qe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const f=Be(a),c=f.qi.get(u);return c!==void 0?ee.resolve(f.Ui.get(c)):f.Cs.getTargetData(l,u)}(r,o,Kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:je.min(),n?s:qe())).next(a=>(mz(r,cY(e),a),{documents:a,Hi:s})))}function mz(t,e,n){let r=t.Ki.get(e)||je.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class xb{constructor(){this.activeTargetIds=bC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gz{constructor(){this.Lr=new xb,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new xb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);be("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(be("RestConnection","Received: ",l),l),l=>{throw Vm("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ko,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=vz[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new PK;a.setWithCredentials(!0),a.listenOnce(OK.COMPLETE,()=>{var u;try{switch(a.getLastErrorCode()){case bd.NO_ERROR:const f=a.getResponseJson();be("Connection","XHR received:",JSON.stringify(f)),s(f);break;case bd.TIMEOUT:be("Connection",'RPC "'+e+'" timed out'),o(new Pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const c=a.getStatus();if(be("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=(u=h)===null||u===void 0?void 0:u.error;if(d&&d.status&&d.message){const p=function(T){const O=T.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(O)>=0?O:se.UNKNOWN}(d.status);o(new Pe(p,d.message))}else o(new Pe(se.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Pe(se.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{be("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CK(),o=kK(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new AK({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");be("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let f=!1,c=!1;const h=new _z({Hr:p=>{c?be("Connection","Not sending because WebChannel is closed:",p):(f||(be("Connection","Opening WebChannel transport."),u.open(),f=!0),be("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),d=(p,T,O)=>{p.listen(T,_=>{try{O(_)}catch(m){setTimeout(()=>{throw m},0)}})};return d(u,Bl.EventType.OPEN,()=>{c||be("Connection","WebChannel transport opened.")}),d(u,Bl.EventType.CLOSE,()=>{c||(c=!0,be("Connection","WebChannel transport closed"),h.io())}),d(u,Bl.EventType.ERROR,p=>{c||(c=!0,Vm("Connection","WebChannel transport errored:",p),h.io(new Pe(se.UNAVAILABLE,"The operation could not be completed")))}),d(u,Bl.EventType.MESSAGE,p=>{var T;if(!c){const O=p.data[0];dt(!!O);const _=O,m=_.error||((T=_[0])===null||T===void 0?void 0:T.error);if(m){be("Connection","WebChannel received error:",m);const w=m.status;let R=function(v){const k=Pt[v];if(k!==void 0)return yC(k)}(w),x=m.message;R===void 0&&(R=se.INTERNAL,x="Unknown error status: "+w+" with message "+m.message),c=!0,h.io(new Pe(R,x)),u.close()}else be("Connection","WebChannel received:",O),h.ro(O)}}),d(o,RK.STAT_EVENT,p=>{p.stat===db.PROXY?be("Connection","Detected buffering proxy"):p.stat===db.NOPROXY&&be("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return new RY(t,!0)}class PC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new PC(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new Pe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bz extends DC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=DY(this.It,e),r=function(i){if(!("targetChange"in i))return je.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?je.min():s.readTime?Fr(s.readTime):je.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Gm(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=Wm(a)?{documents:MY(i,a)}:{query:$Y(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=SC(i,s.resumeToken):s.snapshotVersion.compareTo(je.min())>0&&(o.readTime=ff(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=UY(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Gm(this.It),n.removeTarget=e,this.Bo(n)}}class Tz extends DC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=xY(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.Zo(r,n)}return dt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Gm(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>NY(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(se.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(se.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Sz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(qr(n),this.ou=!1):be("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Be(a);l._u.add(4),await pl(l),l.gu.set("Unknown"),l._u.delete(4),await yh(l)}(this))})}),this.gu=new Sz(r,i)}}async function yh(t){if(Ts(t))for(const e of t.wu)await e(!0)}async function pl(t){for(const e of t.wu)await e(!1)}function NC(t,e){const n=Be(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Jy(n)?Xy(n):Ao(n).ko()&&Qy(n,e))}function xC(t,e){const n=Be(t),r=Ao(n);n.du.delete(e),r.ko()&&MC(n,e),n.du.size===0&&(r.ko()?r.Fo():Ts(n)&&n.gu.set("Unknown"))}function Qy(t,e){t.yu.Mt(e.targetId),Ao(t).zo(e)}function MC(t,e){t.yu.Mt(e),Ao(t).Ho(e)}function Xy(t){t.yu=new CY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Ao(t).start(),t.gu.uu()}function Jy(t){return Ts(t)&&!Ao(t).No()&&t.du.size>0}function Ts(t){return Be(t)._u.size===0}function $C(t){t.yu=void 0}async function Cz(t){t.du.forEach((e,n)=>{Qy(t,e)})}async function kz(t,e){$C(t),Jy(t)?(t.gu.hu(e),Xy(t)):t.gu.set("Unknown")}async function Oz(t,e,n){if(t.gu.set("Online"),e instanceof EC&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hf(t,r)}else if(e instanceof Yu?t.yu.Gt(e):e instanceof TC?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(je.min()))try{const r=await AC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(mn.EMPTY_BYTE_STRING,l.snapshotVersion)),MC(i,a);const u=new rs(l.target,a,1,l.sequenceNumber);Qy(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){be("RemoteStore","Failed to raise snapshot:",r),await hf(t,r)}}async function hf(t,e,n){if(!fl(e))throw e;t._u.add(1),await pl(t),t.gu.set("Offline"),n||(n=()=>AC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await yh(t)})}function LC(t,e){return e().catch(n=>hf(t,n,e))}async function vh(t){const e=Be(t),n=Ei(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Rz(e);)try{const i=await dz(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,Az(e,i)}catch(i){await hf(e,i)}UC(e)&&FC(e)}function Rz(t){return Ts(t)&&t.fu.length<10}function Az(t,e){t.fu.push(e);const n=Ei(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function UC(t){return Ts(t)&&!Ei(t).No()&&t.fu.length>0}function FC(t){Ei(t).start()}async function Pz(t){Ei(t).eu()}async function Dz(t){const e=Ei(t);for(const n of t.fu)e.Xo(n.mutations)}async function Nz(t,e,n){const r=t.fu.shift(),i=Ky.from(r,e,n);await LC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vh(t)}async function xz(t,e){e&&Ei(t).Yo&&await async function(n,r){if(i=r.code,bY(i)&&i!==se.ABORTED){const s=n.fu.shift();Ei(n).Mo(),await LC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await vh(n)}var i}(t,e),UC(t)&&FC(t)}async function $b(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n._u.add(3),await pl(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await yh(n)}async function Mz(t,e){const n=Be(t);e?(n._u.delete(2),await yh(n)):e||(n._u.add(2),await pl(n),n.gu.set("Unknown"))}function Ao(t){return t.pu||(t.pu=function(e,n,r){const i=Be(e);return i.su(),new bz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:Cz.bind(null,t),Zr:kz.bind(null,t),Wo:Oz.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Jy(t)?Xy(t):t.gu.set("Unknown")):(await t.pu.stop(),$C(t))})),t.pu}function Ei(t){return t.Iu||(t.Iu=function(e,n,r){const i=Be(e);return i.su(),new Tz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:Pz.bind(null,t),Zr:xz.bind(null,t),tu:Dz.bind(null,t),Zo:Nz.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await vh(t)):(await t.Iu.stop(),t.fu.length>0&&(be("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Zy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(t,e){if(qr("AsyncQueue",`${e}: ${t}`),fl(t))return new Pe(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Xo(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new Ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.Tu=new Lt(Ie.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Fe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class po{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new po(e,n,Ys.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(){this.Au=void 0,this.listeners=[]}}class Lz{constructor(){this.queries=new Ro(e=>oC(e),hh),this.onlineState="Unknown",this.Ru=new Set}}async function Uz(t,e){const n=Be(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $z),i)try{s.Au=await n.onListen(r)}catch(o){const a=ev(o,`Initialization of query '${Km(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&tv(n)}async function Fz(t,e){const n=Be(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Bz(t,e){const n=Be(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&tv(n)}function Vz(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function tv(t){t.Ru.forEach(e=>{e.next()})}class jz{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.key=e}}class VC{constructor(e){this.key=e}}class Hz{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=qe(),this.mutatedKeys=qe(),this.Gu=aC(e),this.Qu=new Ys(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new Lb,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const h=i.get(f),d=Wy(this.query,c)?c:null,p=!!h&&this.mutatedKeys.has(h.key),T=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let O=!1;h&&d?h.data.isEqual(d.data)?p!==T&&(r.track({type:3,doc:d}),O=!0):this.Hu(h,d)||(r.track({type:2,doc:d}),O=!0,(l&&this.Gu(d,l)>0||u&&this.Gu(d,u)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),O=!0):h&&!d&&(r.track({type:1,doc:h}),O=!0,(l||u)&&(a=!0)),O&&(d?(o=o.add(d),s=T?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,f)=>function(c,h){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return d(c)-d(h)}(u.type,f.type)||this.Gu(u.doc,f.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new po(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Lb,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=qe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new VC(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new BC(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=qe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return po.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class Wz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qz{constructor(e){this.key=e,this.nc=!1}}class Kz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ro(a=>oC(a),hh),this.rc=new Map,this.oc=new Set,this.uc=new Lt(Ie.comparator),this.cc=new Map,this.ac=new Yy,this.hc={},this.lc=new Map,this.fc=ho.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function Yz(t,e){const n=r4(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await pz(n.localStore,Kr(e));n.isPrimaryClient&&NC(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await zz(n,e,r,a==="current",o.resumeToken)}return i}async function zz(t,e,n,r,i){t._c=(c,h,d)=>async function(p,T,O,_){let m=T.view.Wu(O);m.$i&&(m=await Nb(p.localStore,T.query,!1).then(({documents:x})=>T.view.Wu(x,m)));const w=_&&_.targetChanges.get(T.targetId),R=T.view.applyChanges(m,p.isPrimaryClient,w);return Fb(p,T.targetId,R.Xu),R.snapshot}(t,c,h,d);const s=await Nb(t.localStore,e,!0),o=new Hz(e,s.Hi),a=o.Wu(s.documents),l=dl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Fb(t,n,u.Xu);const f=new Wz(e,n,o);return t.ic.set(e,f),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function Gz(t,e){const n=Be(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!hh(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xC(n.remoteStore,r.targetId),Xm(n,r.targetId)}).catch(cl)):(Xm(n,r.targetId),await Qm(n.localStore,r.targetId,!0))}async function Qz(t,e,n){const r=i4(t);try{const i=await function(s,o){const a=Be(s),l=Mt.now(),u=o.reduce((h,d)=>h.add(d.key),qe());let f,c;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let d=Yr(),p=qe();return a.Gi.getEntries(h,u).next(T=>{d=T,d.forEach((O,_)=>{_.isValidDocument()||(p=p.add(O))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,d)).next(T=>{f=T;const O=[];for(const _ of o){const m=vY(_,f.get(_.key).overlayedDocument);m!=null&&O.push(new bs(_.key,m,iC(m.value.mapValue),Ur.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,O,o)}).next(T=>{c=T;const O=T.applyToLocalDocumentSet(f,p);return a.documentOverlayCache.saveOverlays(h,T.batchId,O)})}).then(()=>({batchId:c.batchId,changes:_C(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Lt(nt)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ml(r,i.changes),await vh(r.remoteStore)}catch(i){const s=ev(i,"Failed to persist write");n.reject(s)}}async function jC(t,e){const n=Be(t);try{const r=await fz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?dt(o.nc):i.removedDocuments.size>0&&(dt(o.nc),o.nc=!1))}),await ml(n,r,e)}catch(r){await cl(r)}}function Ub(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Be(s);a.onlineState=o;let l=!1;a.queries.forEach((u,f)=>{for(const c of f.listeners)c.bu(o)&&(l=!0)}),l&&tv(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xz(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Lt(Ie.comparator);o=o.insert(s,zt.newNoDocument(s,je.min()));const a=qe().add(s),l=new mh(je.min(),new Map,new $t(nt),o,a);await jC(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),nv(r)}else await Qm(r.localStore,e,!1).then(()=>Xm(r,e,n)).catch(cl)}async function Jz(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await cz(n.localStore,e);WC(n,r,null),HC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ml(n,i)}catch(i){await cl(i)}}async function Zz(t,e,n){const r=Be(t);try{const i=await function(s,o){const a=Be(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(f=>(dt(f!==null),u=f.keys(),a.mutationQueue.removeMutationBatch(l,f))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);WC(r,e,n),HC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ml(r,i)}catch(i){await cl(i)}}function HC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function WC(t,e,n){const r=Be(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||qC(t,r)})}function qC(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(xC(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),nv(t))}function Fb(t,e,n){for(const r of n)r instanceof BC?(t.ac.addReference(r.key,e),e4(t,r)):r instanceof VC?(be("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||qC(t,r.key)):Fe()}function e4(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(be("SyncEngine","New document in limbo: "+n),t.oc.add(r),nv(t))}function nv(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new Ie(Ct.fromString(e)),r=t.fc.next();t.cc.set(r,new qz(n)),t.uc=t.uc.insert(n,r),NC(t.remoteStore,new rs(Kr(Hy(n.path)),r,2,Fy.at))}}async function ml(t,e,n){const r=Be(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const f=Gy.Ci(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=Be(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(l,c=>ee.forEach(c.Si,h=>u.persistence.referenceDelegate.addReference(f,c.targetId,h)).next(()=>ee.forEach(c.Di,h=>u.persistence.referenceDelegate.removeReference(f,c.targetId,h)))))}catch(f){if(!fl(f))throw f;be("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const c=f.targetId;if(!f.fromCache){const h=u.Ui.get(c),d=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(d);u.Ui=u.Ui.insert(c,p)}}}(r.localStore,s))}async function t4(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=await RC(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new Pe(se.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ml(n,r.ji)}}function n4(t,e){const n=Be(t),r=n.cc.get(e);if(r&&r.nc)return qe().add(r.key);{let i=qe();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function r4(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xz.bind(null,e),e.sc.Wo=Bz.bind(null,e.eventManager),e.sc.wc=Vz.bind(null,e.eventManager),e}function i4(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zz.bind(null,e),e}class s4{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=gh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return uz(this.persistence,new az,e.initialUser,this.It)}yc(e){return new sz(zy.Bs,this.It)}gc(e){return new gz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class o4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ub(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t4.bind(null,this.syncEngine),await Mz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lz}createDatastore(e){const n=gh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new wz(i));var i;return function(s,o,a,l){return new Ez(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Ub(this.syncEngine,a,0),o=Mb.C()?new Mb:new yz,new Iz(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const f=new Kz(r,i,s,o,a,l);return u&&(f.dc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Be(e);be("RemoteStore","RemoteStore shutting down."),n._u.add(5),await pl(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t,e,n){if(!n)throw new Pe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l4(t,e,n,r){if(e===!0&&r===!0)throw new Pe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bb(t){if(!Ie.isDocumentKey(t))throw new Pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rv(t);throw new Pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;class jb{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,l4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new DK;switch(n.type){case"gapi":const r=n.client;return new $K(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Vb.get(e);n&&(be("ComponentProvider","Removing Datastore"),Vb.delete(e),n.terminate())}(this),Promise.resolve()}}function u4(t,e,n,r={}){var i;const s=(t=Ha(t,iv))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Vm("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=sn.MOCK_USER;else{o=QV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new sn(l)}t._authCredentials=new NK(new ZI(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class sv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sv(this.firestore,e,this._query)}}class Wa extends sv{constructor(e,n,r){super(e,n,Hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Ie(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function ov(t,e,...n){if(t=An(t),arguments.length===1&&(e=eC.R()),a4("doc","path",e),t instanceof iv){const r=Ct.fromString(e,...n);return Bb(r),new Gn(t,null,new Ie(r))}{if(!(t instanceof Gn||t instanceof Wa))throw new Pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return Bb(r),new Gn(t.firestore,t instanceof Wa?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=eC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{be("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(be("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ev(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h4(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function d4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await p4(t);be("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>$b(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$b(e.remoteStore,s)),t.onlineComponents=e}async function p4(t){return t.offlineComponents||(be("FirestoreClient","Using default OfflineComponentProvider"),await h4(t,new s4)),t.offlineComponents}async function KC(t){return t.onlineComponents||(be("FirestoreClient","Using default OnlineComponentProvider"),await d4(t,new o4)),t.onlineComponents}function m4(t){return KC(t).then(e=>e.syncEngine)}async function g4(t){const e=await KC(t),n=e.eventManager;return n.onListen=Yz.bind(null,e.syncEngine),n.onUnlisten=Gz.bind(null,e.syncEngine),n}function y4(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new c4({next:c=>{s.enqueueAndForget(()=>Fz(i,f));const h=c.docs.has(o);!h&&c.fromCache?l.reject(new Pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&c.fromCache&&a&&a.source==="server"?l.reject(new Pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(c)},error:c=>l.reject(c)}),f=new jz(Hy(o.path),u,{includeMetadataChanges:!0,Nu:!0});return Uz(i,f)}(await g4(t),t.asyncQueue,e,n,r)),r.promise}class v4{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new PC(this,"async_queue_retry"),this.Wc=()=>{const n=Ed();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Ed();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=Ed();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new yi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!fl(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Zy.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&Fe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}class av extends iv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new v4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zC(this),this._firestoreClient.terminate()}}function lv(t,e){const n=typeof t=="object"?t:iy(),r=typeof t=="string"?t:e||"(default)",i=_s(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=zV("firestore");s&&u4(i,...s)}return i}function YC(t){return t._firestoreClient||zC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zC(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new YK(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new f4(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(mn.fromBase64String(e))}catch(n){throw new Pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=/^__.*__$/;class w4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new hl(e,this.data,n,this.fieldTransforms)}}function QC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class fv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return df(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(QC(this.sa)&&_4.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class b4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||gh(e)}da(e,n,r,i=!1){return new fv({sa:e,methodName:n,fa:r,path:cn.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function T4(t){const e=t._freezeSettings(),n=gh(t._databaseId);return new b4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E4(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);ek("Data must be an object, but it was:",o,r);const a=JC(r,o);let l,u;if(s.merge)l=new wr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const c of s.mergeFields){const h=S4(e,c,n);if(!o.contains(h))throw new Pe(se.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);C4(f,h)||f.push(h)}l=new wr(f),u=o.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=o.fieldTransforms;return new w4(new Hn(a),l,u)}function XC(t,e){if(ZC(t=An(t)))return ek("Unsupported field value:",e,t),JC(t,e);if(t instanceof GC)return function(n,r){if(!QC(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=XC(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=An(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hY(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:ff(r.It,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ff(r.It,i)}}if(n instanceof cv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mo)return{bytesValue:SC(r.It,n._byteString)};if(n instanceof Gn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${rv(n)}`)}(t,e)}function JC(t,e){const n={};return tC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,(r,i)=>{const s=XC(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof cv||t instanceof mo||t instanceof Gn||t instanceof GC)}function ek(t,e,n){if(!ZC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=rv(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function S4(t,e,n){if((e=An(e))instanceof uv)return e._internalPath;if(typeof e=="string")return tk(t,e);throw df("Field path arguments must be of type string or ",t,!1,void 0,n)}const I4=new RegExp("[~\\*/\\[\\]]");function tk(t,e,n){if(e.search(I4)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uv(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function df(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(se.INVALID_ARGUMENT,a+t+l)}function C4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k4 extends nk{data(){return super.data()}}function rk(t,e){return typeof e=="string"?tk(t,e):e instanceof uv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Fe()}}convertObject(e,n){const r={};return Oo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new cv(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){const n=Ti(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);dt(OC(r));const i=new Ua(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ik extends nk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new P4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class P4 extends ik{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){t=Ha(t,Gn);const e=Ha(t.firestore,av);return y4(YC(e),t._key).then(n=>M4(e,t,n))}class N4 extends O4{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function sk(t,e,n){t=Ha(t,Gn);const r=Ha(t.firestore,av),i=R4(t.converter,e,n);return x4(r,[E4(T4(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ur.none())])}function x4(t,e){return function(n,r){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>Qz(await m4(n),r,i)),i.promise}(YC(t),e)}function M4(t,e,n){const r=n.docs.get(e._key),i=new N4(t);return new ik(t,i,e._key,r,new A4(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ko=n})(So),or(new Qn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new av(new xK(n.getProvider("auth-internal")),new UK(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Rn(pb,"3.7.3",t),Rn(pb,"3.7.3","esm2017")})();const $4=new Dr,B5=async()=>{const t=zf();await gW(t)},V5=()=>{const t=zf();return BW(t,$4).then(()=>t)},L4=async t=>{const e=zf();console.log("Current user is "+e.name),console.log("attempting to hack "+t);const n=lv(),r=ov(n,"users",t);await sk(r,{pwned:"haha noob"})};window.pwn=L4;const j5=async t=>{const e=zf(),n=lv(),r=ov(n,"users",e.currentUser.uid);await sk(r,t)},H5=async t=>{console.log(t);const e=lv();console.log("Getting user data!");const n=ov(e,"users",t.currentUser.uid);console.log("Got user data!");const r=(await D4(n)).data();return console.log("Got the user data for real this time!"),r===void 0?(console.log("Userdata is undefined!"),!1):!0},Hl=void 0,Wl=void 0,Hb="@firebase/database",Wb="0.13.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ok="";function U4(t){ok=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ca(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Qr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new F4(e)}}catch{}return new B4},Qi=ak("localStorage"),Jm=ak("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Xa("@firebase/database"),V4=function(){let t=1;return function(){return t++}}(),lk=function(t){const e=aj(t),n=new nj;n.update(e);const r=n.digest();return Zg.encodeByteArray(r)},gl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=gl.apply(null,r):typeof r=="object"?e+=Qt(r):e+=r,e+=" "}return e};let is=null,qb=!0;const j4=function(t,e){de(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(zs.logLevel=Ze.VERBOSE,is=zs.log.bind(zs),e&&Jm.set("logging_enabled",!0)):typeof t=="function"?is=t:(is=null,Jm.remove("logging_enabled"))},on=function(...t){if(qb===!0&&(qb=!1,is===null&&Jm.get("logging_enabled")===!0&&j4(!0)),is){const e=gl.apply(null,t);is(e)}},yl=function(t){return function(...e){on(t,...e)}},Zm=function(...t){const e="FIREBASE INTERNAL ERROR: "+gl(...t);zs.error(e)},hs=function(...t){const e=`FIREBASE FATAL ERROR: ${gl(...t)}`;throw zs.error(e),new Error(e)},$n=function(...t){const e="FIREBASE WARNING: "+gl(...t);zs.warn(e)},H4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},W4=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},go="[MIN_NAME]",ds="[MAX_NAME]",Po=function(t,e){if(t===e)return 0;if(t===go||e===ds)return-1;if(e===go||t===ds)return 1;{const n=Kb(t),r=Kb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},q4=function(t,e){return t===e?0:t<e?-1:1},jo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qt(e))},hv=function(t){if(typeof t!="object"||t===null)return Qt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qt(e[r]),n+=":",n+=hv(t[e[r]]);return n+="}",n},ck=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Xn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const fk=function(t){de(!uk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(l=0;l<64;l+=8){let h=parseInt(f.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},K4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Y4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},z4=new RegExp("^-?(0*)\\d{1,10}$"),G4=-2147483648,Q4=2147483647,Kb=function(t){if(z4.test(t)){const e=Number(t);if(e>=G4&&e<=Q4)return e}return null},vl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $n("Exception was thrown by user callback.",n),e},Math.floor(0))}},X4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ga=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$n(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$n(e)}}class eg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}eg.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="5",hk="v",dk="s",pk="r",mk="f",gk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yk="ls",vk="p",tg="ac",_k="websocket",wk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function t6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bk(t,e,n){de(typeof e=="string","typeof type must == string"),de(typeof n=="object","typeof params must == object");let r;if(e===_k)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===wk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);t6(t)&&(n.ns=t.namespace);const i=[];return Xn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.counters_={}}incrementCounter(e,n=1){Qr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return BV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd={},Id={};function pv(t){const e=t.toString();return Sd[e]||(Sd[e]=new n6),Sd[e]}function r6(t,e){const n=t.toString();return Id[n]||(Id[n]=e()),Id[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="start",s6="close",o6="pLPCommand",a6="pRTLPCB",Tk="id",Ek="pw",Sk="ser",l6="cb",u6="seg",c6="ts",f6="d",h6="dframe",Ik=1870,Ck=30,d6=Ik-Ck,p6=25e3,m6=3e4;class Ms{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yl(e),this.stats_=pv(n),this.urlFn=l=>(this.appCheckToken&&(l[tg]=this.appCheckToken),bk(n,wk,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new i6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(m6)),W4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mv((...s)=>{const[o,a,l,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Yb)this.id=a,this.password=l;else if(o===s6)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Yb]="t",r[Sk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[l6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[hk]=dv,this.transportSessionId&&(r[dk]=this.transportSessionId),this.lastSessionId&&(r[yk]=this.lastSessionId),this.applicationId&&(r[vk]=this.applicationId),this.appCheckToken&&(r[tg]=this.appCheckToken),typeof location<"u"&&location.hostname&&gk.test(location.hostname)&&(r[pk]=mk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ms.forceAllow_=!0}static forceDisallow(){Ms.forceDisallow_=!0}static isAvailable(){return Ms.forceAllow_?!0:!Ms.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!K4()&&!Y4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$S(n),i=ck(r,d6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[h6]="t",r[Tk]=e,r[Ek]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=V4(),window[o6+this.uniqueCallbackIdentifier]=e,window[a6+this.uniqueCallbackIdentifier]=n,this.myIFrame=mv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){on("frame writing exception"),a.stack&&on(a.stack),on(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||on("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Tk]=this.myID,e[Ek]=this.myPW,e[Sk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ck+r.length<=Ik;){const o=this.pendingSegs.shift();r=r+"&"+u6+i+"="+o.seg+"&"+c6+i+"="+o.ts+"&"+f6+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(p6)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{on("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=16384,y6=45e3;let pf=null;typeof MozWebSocket<"u"?pf=MozWebSocket:typeof WebSocket<"u"&&(pf=WebSocket);class er{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yl(this.connId),this.stats_=pv(n),this.connURL=er.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[hk]=dv,typeof location<"u"&&location.hostname&&gk.test(location.hostname)&&(o[pk]=mk),n&&(o[dk]=n),r&&(o[yk]=r),i&&(o[tg]=i),s&&(o[vk]=s),bk(e,_k,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let r;BS(),this.mySock=new pf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){er.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&pf!==null&&!er.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ca(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(de(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ck(n,g6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(y6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}er.responsesRequiredToBeHealthy=2;er.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ms,er]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=er&&er.isAvailable();let r=n&&!er.previouslyFailed();if(e.webSocketOnly&&(n||$n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[er];else{const i=this.transports_=[];for(const s of qa.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=6e4,_6=5e3,w6=10*1024,b6=100*1024,Cd="t",zb="d",T6="s",Gb="r",E6="e",Qb="o",Xb="a",Jb="n",Zb="p",S6="h";class I6{constructor(e,n,r,i,s,o,a,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yl("c:"+this.id+":"),this.transportManager_=new qa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ga(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>b6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>w6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cd in e){const n=e[Cd];n===Xb?this.upgradeIfSecondaryHealthy_():n===Gb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Qb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=jo("t",e),r=jo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=jo("t",e),r=jo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=jo(Cd,e);if(zb in e){const r=e[zb];if(n===S6)this.onHandshake_(r);else if(n===Jb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===T6?this.onConnectionShutdown_(r):n===Gb?this.onReset_(r):n===E6?Zm("Server Error: "+r):n===Qb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),dv!==r&&$n("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ga(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(v6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ga(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.allowedEvents_=e,this.listeners_={},de(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){de(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Ok{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ey()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mf}getInitialEvent(e){return de(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=32,tT=768;class _t{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ut(){return new _t("")}function Ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Si(t){return t.pieces_.length-t.pieceNum_}function yt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _t(t.pieces_,e)}function Rk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function C6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ak(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Pk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _t(e,0)}function jt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _t)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _t(n,0)}function Ke(t){return t.pieceNum_>=t.pieces_.length}function qn(t,e){const n=Ge(t),r=Ge(e);if(n===null)return e;if(n===r)return qn(yt(t),yt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dk(t,e){if(Si(t)!==Si(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function tr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Si(t)>Si(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class k6{constructor(e,n){this.errorPrefix_=n,this.parts_=Ak(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Bf(this.parts_[r]);Nk(this)}}function O6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Bf(e),Nk(t)}function R6(t){const e=t.parts_.pop();t.byteLength_-=Bf(e),t.parts_.length>0&&(t.byteLength_-=1)}function Nk(t){if(t.byteLength_>tT)throw new Error(t.errorPrefix_+"has a key path longer than "+tT+" bytes ("+t.byteLength_+").");if(t.parts_.length>eT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eT+") or object contains a cycle "+Bi(t))}function Bi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Ok{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new gv}getInitialEvent(e){return de(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=1e3,A6=60*5*1e3,nT=30*1e3,P6=1.3,D6=3e4,N6="server_kill",rT=3;class Br extends kk{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Br.nextPersistentConnectionId_++,this.log_=yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=A6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!BS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Qt(s)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ny,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Br.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Qr(e,"w")){const r=oo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();$n(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||tj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ej(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zm("Unrecognized action received from server: "+Qt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D6&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*P6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Br.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(c){de(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,a=new I6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,d=>{$n(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(N6)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&$n(c),l())}}}interrupt(e){on("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){on("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bm(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>hv(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _t(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){on("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rT&&(this.reconnectDelay_=nT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){on("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ok.replace(/\./g,"-")]=1,ey()?e["framework.cordova"]=1:FS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mf.getInstance().currentlyOnline();return bm(this.interruptReasons_)&&e}}Br.nextPersistentConnectionId_=0;Br.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Qe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Qe(go,e),i=new Qe(go,n);return this.compare(r,i)!==0}minPost(){return Qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;class xk extends _h{static get __EMPTY_NODE(){return ql}static set __EMPTY_NODE(e){ql=e}compare(e,n){return Po(e.name,n.name)}isDefinedOn(e){throw To("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(ds,ql)}makePost(e,n){return de(typeof e=="string","KeyIndex indexValue must always be a string."),new Qe(e,ql)}toString(){return".key"}}const Gs=new xk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Bt.RED,this.left=i!=null?i:On.EMPTY_NODE,this.right=s!=null?s:On.EMPTY_NODE}copy(e,n,r,i,s){return new Bt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return On.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return On.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bt.RED=!0;Bt.BLACK=!1;class x6{copy(e,n,r,i,s){return this}insert(e,n,r){return new Bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class On{constructor(e,n=On.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new On(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bt.BLACK,null,null))}remove(e){return new On(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kl(this.root_,null,this.comparator_,!0,e)}}On.EMPTY_NODE=new x6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t,e){return Po(t.name,e.name)}function yv(t,e){return Po(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng;function $6(t){ng=t}const Mk=function(t){return typeof t=="number"?"number:"+fk(t):"string:"+t},$k=function(t){if(t.isLeafNode()){const e=t.val();de(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qr(e,".sv"),"Priority must be a string or number.")}else de(t===ng||t.isEmpty(),"priority of unexpected type.");de(t===ng||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iT;class Ut{constructor(e,n=Ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,de(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$k(this.priorityNode_)}static set __childrenNodeConstructor(e){iT=e}static get __childrenNodeConstructor(){return iT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ke(e)?this:Ge(e)===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ge(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(de(r!==".priority"||Si(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Mk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=fk(this.value_):e+=this.value_,this.lazyHash_=lk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ut.__childrenNodeConstructor?-1:(de(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ut.VALUE_TYPE_ORDER.indexOf(n),s=Ut.VALUE_TYPE_ORDER.indexOf(r);return de(i>=0,"Unknown leaf type: "+n),de(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lk,Uk;function L6(t){Lk=t}function U6(t){Uk=t}class F6 extends _h{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Po(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(ds,new Ut("[PRIORITY-POST]",Uk))}makePost(e,n){const r=Lk(e);return new Qe(n,new Ut("[PRIORITY-POST]",r))}toString(){return".priority"}}const fn=new F6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=Math.log(2);class V6{constructor(e){const n=s=>parseInt(Math.log(s)/B6,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gf=function(t,e,n,r){t.sort(e);const i=function(l,u){const f=u-l;let c,h;if(f===0)return null;if(f===1)return c=t[l],h=n?n(c):c,new Bt(h,c.node,Bt.BLACK,null,null);{const d=parseInt(f/2,10)+l,p=i(l,d),T=i(d+1,u);return c=t[d],h=n?n(c):c,new Bt(h,c.node,Bt.BLACK,p,T)}},s=function(l){let u=null,f=null,c=t.length;const h=function(p,T){const O=c-p,_=c;c-=p;const m=i(O+1,_),w=t[O],R=n?n(w):w;d(new Bt(R,w.node,T,null,m))},d=function(p){u?(u.left=p,u=p):(f=p,u=p)};for(let p=0;p<l.count;++p){const T=l.nextBitIsOne(),O=Math.pow(2,l.count-(p+1));T?h(O,Bt.BLACK):(h(O,Bt.BLACK),h(O,Bt.RED))}return f},o=new V6(t.length),a=s(o);return new On(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;const As={};class Lr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return de(As&&fn,"ChildrenNode.ts has not been loaded"),kd=kd||new Lr({".priority":As},{".priority":fn}),kd}get(e){const n=oo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof On?n:null}hasIndex(e){return Qr(this.indexSet_,e.toString())}addIndex(e,n){de(e!==Gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Qe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=gf(r,e.getCompare()):a=As;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new Lr(f,u)}addToIndexes(e,n){const r=Wc(this.indexes_,(i,s)=>{const o=oo(this.indexSet_,s);if(de(o,"Missing index implementation for "+s),i===As)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Qe.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),gf(a,o.getCompare())}else return As;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Qe(e.name,a))),l.insert(e,e.node)}});return new Lr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Wc(this.indexes_,i=>{if(i===As)return i;{const s=n.get(e.name);return s?i.remove(new Qe(e.name,s)):i}});return new Lr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class rt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$k(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wo||(Wo=new rt(new On(yv),null,Lr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wo}updatePriority(e){return this.children_.isEmpty()?this:new rt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Wo:n}}getChild(e){const n=Ge(e);return n===null?this:this.getImmediateChild(n).getChild(yt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(de(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Qe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Wo:this.priorityNode_;return new rt(i,o,s)}}updateChild(e,n){const r=Ge(e);if(r===null)return n;{de(Ge(e)!==".priority"||Si(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(yt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(fn,(o,a)=>{n[o]=a.val(e),r++,s&&rt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Mk(this.getPriority().val())+":"),this.forEachChild(fn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":lk(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Qe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Qe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Qe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Qe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Qe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===Gs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new rt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(fn),i=n.getIterator(fn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Gs?null:this.indexMap_.get(e.toString())}}rt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class j6 extends rt{constructor(){super(new On(yv),rt.EMPTY_NODE,Lr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return rt.EMPTY_NODE}isEmpty(){return!1}}const _l=new j6;Object.defineProperties(Qe,{MIN:{value:new Qe(go,rt.EMPTY_NODE)},MAX:{value:new Qe(ds,_l)}});xk.__EMPTY_NODE=rt.EMPTY_NODE;Ut.__childrenNodeConstructor=rt;$6(_l);U6(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=!0;function an(t,e=null){if(t===null)return rt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),de(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ut(n,an(e))}if(!(t instanceof Array)&&H6){const n=[];let r=!1;if(Xn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=an(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Qe(o,l)))}}),n.length===0)return rt.EMPTY_NODE;const s=gf(n,M6,o=>o.name,yv);if(r){const o=gf(n,fn.getCompare());return new rt(s,an(e),new Lr({".priority":o},{".priority":fn}))}else return new rt(s,an(e),Lr.Default)}else{let n=rt.EMPTY_NODE;return Xn(t,(r,i)=>{if(Qr(t,r)&&r.substring(0,1)!=="."){const s=an(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(an(e))}}L6(an);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6 extends _h{constructor(e){super(),this.indexPath_=e,de(!Ke(e)&&Ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Po(e.name,n.name):s}makePost(e,n){const r=an(e),i=rt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qe(n,i)}maxPost(){const e=rt.EMPTY_NODE.updateChild(this.indexPath_,_l);return new Qe(ds,e)}toString(){return Ak(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6 extends _h{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Po(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(e,n){const r=an(e);return new Qe(n,r)}toString(){return".value"}}const K6=new q6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){return{type:"value",snapshotNode:t}}function z6(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function G6(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function sT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Q6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:go}hasEnd(){return this.endSet_}getIndexEndValue(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fn}copy(){const e=new vv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oT(t){const e={};if(t.isDefault())return e;let n;return t.index_===fn?n="$priority":t.index_===K6?n="$value":t.index_===Gs?n="$key":(de(t.index_ instanceof W6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qt(n),t.startSet_&&(e.startAt=Qt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Qt(t.indexStartName_))),t.endSet_&&(e.endAt=Qt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Qt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function aT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==fn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends kk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(de(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=yf.getListenId_(e,r),a={};this.listens_[o]=a;const l=oT(e._queryParams);this.restRequest_(s+".json",l,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),oo(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=yf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=oT(e._queryParams),r=e._path.toString(),i=new ny;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Eo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ca(a.responseText)}catch{$n("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$n("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.rootNode_=rt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(){return{value:null,children:new Map}}function Fk(t,e,n){if(Ke(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ge(e);t.children.has(r)||t.children.set(r,vf());const i=t.children.get(r);e=yt(e),Fk(i,e,n)}}function rg(t,e,n){t.value!==null?n(e,t.value):J6(t,(r,i)=>{const s=new _t(e.toString()+"/"+r);rg(i,s,n)})}function J6(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=10*1e3,eG=30*1e3,tG=5*60*1e3;class nG{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Z6(e);const r=lT+(eG-lT)*Math.random();ga(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xn(e,(i,s)=>{s>0&&Qr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ga(this.reportStats_.bind(this),Math.floor(Math.random()*2*tG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gr||(gr={}));function Bk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gr.ACK_USER_WRITE,this.source=Bk()}operationForChild(e){if(Ke(this.path)){if(this.affectedTree.value!=null)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _t(e));return new _f(ut(),n,this.revert)}}else return de(Ge(this.path)===e,"operationForChild called for unrelated child."),new _f(yt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gr.OVERWRITE}operationForChild(e){return Ke(this.path)?new ps(this.source,ut(),this.snap.getImmediateChild(e)):new ps(this.source,yt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gr.MERGE}operationForChild(e){if(Ke(this.path)){const n=this.children.subtree(new _t(e));return n.isEmpty()?null:n.value?new ps(this.source,ut(),n.value):new Ka(this.source,ut(),n)}else return de(Ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ka(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ke(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function rG(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Q6(o.childName,o.snapshotNode))}),qo(t,i,"child_removed",e,r,n),qo(t,i,"child_added",e,r,n),qo(t,i,"child_moved",s,r,n),qo(t,i,"child_changed",e,r,n),qo(t,i,"value",e,r,n),i}function qo(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>sG(t,a,l)),o.forEach(a=>{const l=iG(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function iG(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function sG(t,e,n){if(e.childName==null||n.childName==null)throw To("Should only compare child_ events.");const r=new Qe(e.childName,e.snapshotNode),i=new Qe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){return{eventCache:t,serverCache:e}}function ya(t,e,n,r){return Hk(new _v(e,n,r),t.serverCache)}function Wk(t,e,n,r){return Hk(t.eventCache,new _v(e,n,r))}function ig(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ms(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;const oG=()=>(Od||(Od=new On(q4)),Od);class mt{constructor(e,n=oG()){this.value=e,this.children=n}static fromObject(e){let n=new mt(null);return Xn(e,(r,i)=>{n=n.set(new _t(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if(Ke(e))return null;{const r=Ge(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(yt(e),n);return s!=null?{path:jt(new _t(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ke(e))return this;{const n=Ge(e),r=this.children.get(n);return r!==null?r.subtree(yt(e)):new mt(null)}}set(e,n){if(Ke(e))return new mt(n,this.children);{const r=Ge(e),s=(this.children.get(r)||new mt(null)).set(yt(e),n),o=this.children.insert(r,s);return new mt(this.value,o)}}remove(e){if(Ke(e))return this.children.isEmpty()?new mt(null):new mt(null,this.children);{const n=Ge(e),r=this.children.get(n);if(r){const i=r.remove(yt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new mt(null):new mt(this.value,s)}else return this}}get(e){if(Ke(e))return this.value;{const n=Ge(e),r=this.children.get(n);return r?r.get(yt(e)):null}}setTree(e,n){if(Ke(e))return n;{const r=Ge(e),s=(this.children.get(r)||new mt(null)).setTree(yt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new mt(this.value,o)}}fold(e){return this.fold_(ut(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(jt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ut(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ke(e))return null;{const s=Ge(e),o=this.children.get(s);return o?o.findOnPath_(yt(e),jt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ut(),n)}foreachOnPath_(e,n,r){if(Ke(e))return this;{this.value&&r(n,this.value);const i=Ge(e),s=this.children.get(i);return s?s.foreachOnPath_(yt(e),jt(n,i),r):new mt(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(jt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.writeTree_=e}static empty(){return new ir(new mt(null))}}function va(t,e,n){if(Ke(e))return new ir(new mt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=qn(i,e);return s=s.updateChild(o,n),new ir(t.writeTree_.set(i,s))}else{const i=new mt(n),s=t.writeTree_.setTree(e,i);return new ir(s)}}}function uT(t,e,n){let r=t;return Xn(n,(i,s)=>{r=va(r,jt(e,i),s)}),r}function cT(t,e){if(Ke(e))return ir.empty();{const n=t.writeTree_.setTree(e,new mt(null));return new ir(n)}}function sg(t,e){return Es(t,e)!=null}function Es(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(qn(n.path,e)):null}function fT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fn,(r,i)=>{e.push(new Qe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Qe(r,i.value))}),e}function vi(t,e){if(Ke(e))return t;{const n=Es(t,e);return n!=null?new ir(new mt(n)):new ir(t.writeTree_.subtree(e))}}function og(t){return t.writeTree_.isEmpty()}function yo(t,e){return qk(ut(),t.writeTree_,e)}function qk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(de(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qk(jt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(jt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e){return Xk(e,t)}function aG(t,e,n,r,i){de(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=va(t.visibleWrites,e,n)),t.lastWriteId=r}function lG(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function uG(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);de(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&cG(a,r.path)?i=!1:tr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return fG(t),!0;if(r.snap)t.visibleWrites=cT(t.visibleWrites,r.path);else{const a=r.children;Xn(a,l=>{t.visibleWrites=cT(t.visibleWrites,jt(r.path,l))})}return!0}else return!1}function cG(t,e){if(t.snap)return tr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&tr(jt(t.path,n),e))return!0;return!1}function fG(t){t.visibleWrites=Yk(t.allWrites,hG,ut()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hG(t){return t.visible}function Yk(t,e,n){let r=ir.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)tr(n,o)?(a=qn(n,o),r=va(r,a,s.snap)):tr(o,n)&&(a=qn(o,n),r=va(r,ut(),s.snap.getChild(a)));else if(s.children){if(tr(n,o))a=qn(n,o),r=uT(r,a,s.children);else if(tr(o,n))if(a=qn(o,n),Ke(a))r=uT(r,ut(),s.children);else{const l=oo(s.children,Ge(a));if(l){const u=l.getChild(yt(a));r=va(r,ut(),u)}}}else throw To("WriteRecord should have .snap or .children")}}return r}function zk(t,e,n,r,i){if(!r&&!i){const s=Es(t.visibleWrites,e);if(s!=null)return s;{const o=vi(t.visibleWrites,e);if(og(o))return n;if(n==null&&!sg(o,ut()))return null;{const a=n||rt.EMPTY_NODE;return yo(o,a)}}}else{const s=vi(t.visibleWrites,e);if(!i&&og(s))return n;if(!i&&n==null&&!sg(s,ut()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(tr(u.path,e)||tr(e,u.path))},a=Yk(t.allWrites,o,e),l=n||rt.EMPTY_NODE;return yo(a,l)}}}function dG(t,e,n){let r=rt.EMPTY_NODE;const i=Es(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=vi(t.visibleWrites,e);return n.forEachChild(fn,(o,a)=>{const l=yo(vi(s,new _t(o)),a);r=r.updateImmediateChild(o,l)}),fT(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=vi(t.visibleWrites,e);return fT(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function pG(t,e,n,r,i){de(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=jt(e,n);if(sg(t.visibleWrites,s))return null;{const o=vi(t.visibleWrites,s);return og(o)?i.getChild(n):yo(o,i.getChild(n))}}function mG(t,e,n,r){const i=jt(e,n),s=Es(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=vi(t.visibleWrites,i);return yo(o,r.getNode().getImmediateChild(n))}else return null}function gG(t,e){return Es(t.visibleWrites,e)}function yG(t,e,n,r,i,s,o){let a;const l=vi(t.visibleWrites,e),u=Es(l,ut());if(u!=null)a=u;else if(n!=null)a=yo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],c=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let d=h.getNext();for(;d&&f.length<i;)c(d,r)!==0&&f.push(d),d=h.getNext();return f}else return[]}function vG(){return{visibleWrites:ir.empty(),allWrites:[],lastWriteId:-1}}function ag(t,e,n,r){return zk(t.writeTree,t.treePath,e,n,r)}function Gk(t,e){return dG(t.writeTree,t.treePath,e)}function hT(t,e,n,r){return pG(t.writeTree,t.treePath,e,n,r)}function wf(t,e){return gG(t.writeTree,jt(t.treePath,e))}function _G(t,e,n,r,i,s){return yG(t.writeTree,t.treePath,e,n,r,i,s)}function wv(t,e,n){return mG(t.writeTree,t.treePath,e,n)}function Qk(t,e){return Xk(jt(t.treePath,e),t.writeTree)}function Xk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;de(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),de(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,sT(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,G6(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,z6(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,sT(r,e.snapshotNode,i.oldSnap));else throw To("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Jk=new bG;class bv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _v(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ms(this.viewCache_),s=_G(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function TG(t,e){de(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),de(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function EG(t,e,n,r,i){const s=new wG;let o,a;if(n.type===gr.OVERWRITE){const u=n;u.source.fromUser?o=lg(t,e,u.path,u.snap,r,i,s):(de(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ke(u.path),o=bf(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===gr.MERGE){const u=n;u.source.fromUser?o=IG(t,e,u.path,u.children,r,i,s):(de(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=ug(t,e,u.path,u.children,r,i,a,s))}else if(n.type===gr.ACK_USER_WRITE){const u=n;u.revert?o=OG(t,e,u.path,r,i,s):o=CG(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===gr.LISTEN_COMPLETE)o=kG(t,e,n.path,r,s);else throw To("Unknown operation type: "+n.type);const l=s.getChanges();return SG(e,o,l),{viewCache:o,changes:l}}function SG(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ig(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Y6(ig(e)))}}function Zk(t,e,n,r,i,s){const o=e.eventCache;if(wf(r,n)!=null)return e;{let a,l;if(Ke(n))if(de(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ms(e),f=u instanceof rt?u:rt.EMPTY_NODE,c=Gk(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=ag(r,ms(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Ge(n);if(u===".priority"){de(Si(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const c=hT(r,n,f,l);c!=null?a=t.filter.updatePriority(f,c):a=o.getNode()}else{const f=yt(n);let c;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=hT(r,n,o.getNode(),l);h!=null?c=o.getNode().getImmediateChild(u).updateChild(f,h):c=o.getNode().getImmediateChild(u)}else c=wv(r,u,e.serverCache);c!=null?a=t.filter.updateChild(o.getNode(),u,c,f,i,s):a=o.getNode()}}return ya(e,a,o.isFullyInitialized()||Ke(n),t.filter.filtersNodes())}}function bf(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(Ke(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),d,null)}else{const d=Ge(n);if(!l.isCompleteForPath(n)&&Si(n)>1)return e;const p=yt(n),O=l.getNode().getImmediateChild(d).updateChild(p,r);d===".priority"?u=f.updatePriority(l.getNode(),O):u=f.updateChild(l.getNode(),d,O,p,Jk,null)}const c=Wk(e,u,l.isFullyInitialized()||Ke(n),f.filtersNodes()),h=new bv(i,c,s);return Zk(t,c,n,i,h,a)}function lg(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const f=new bv(i,e,s);if(Ke(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ya(e,u,!0,t.filter.filtersNodes());else{const c=Ge(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ya(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=yt(n),d=a.getNode().getImmediateChild(c);let p;if(Ke(h))p=r;else{const T=f.getCompleteChild(c);T!=null?Rk(h)===".priority"&&T.getChild(Pk(h)).isEmpty()?p=T:p=T.updateChild(h,r):p=rt.EMPTY_NODE}if(d.equals(p))l=e;else{const T=t.filter.updateChild(a.getNode(),c,p,h,f,o);l=ya(e,T,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function dT(t,e){return t.eventCache.isCompleteForChild(e)}function IG(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const f=jt(n,l);dT(e,Ge(f))&&(a=lg(t,a,f,u,i,s,o))}),r.foreach((l,u)=>{const f=jt(n,l);dT(e,Ge(f))||(a=lg(t,a,f,u,i,s,o))}),a}function pT(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ug(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ke(n)?u=r:u=new mt(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(f.hasChild(c)){const d=e.serverCache.getNode().getImmediateChild(c),p=pT(t,d,h);l=bf(t,l,new _t(c),p,i,s,o,a)}}),u.children.inorderTraversal((c,h)=>{const d=!e.serverCache.isCompleteForChild(c)&&h.value===null;if(!f.hasChild(c)&&!d){const p=e.serverCache.getNode().getImmediateChild(c),T=pT(t,p,h);l=bf(t,l,new _t(c),T,i,s,o,a)}}),l}function CG(t,e,n,r,i,s,o){if(wf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ke(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ke(n)){let u=new mt(null);return l.getNode().forEachChild(Gs,(f,c)=>{u=u.set(new _t(f),c)}),ug(t,e,n,u,i,s,a,o)}else return e}else{let u=new mt(null);return r.foreach((f,c)=>{const h=jt(n,f);l.isCompleteForPath(h)&&(u=u.set(f,l.getNode().getChild(h)))}),ug(t,e,n,u,i,s,a,o)}}function kG(t,e,n,r,i){const s=e.serverCache,o=Wk(e,s.getNode(),s.isFullyInitialized()||Ke(n),s.isFiltered());return Zk(t,o,n,r,Jk,i)}function OG(t,e,n,r,i,s){let o;if(wf(r,n)!=null)return e;{const a=new bv(r,e,i),l=e.eventCache.getNode();let u;if(Ke(n)||Ge(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=ag(r,ms(e));else{const c=e.serverCache.getNode();de(c instanceof rt,"serverChildren would be complete if leaf node"),f=Gk(r,c)}f=f,u=t.filter.updateFullNode(l,f,s)}else{const f=Ge(n);let c=wv(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=l.getImmediateChild(f)),c!=null?u=t.filter.updateChild(l,f,c,yt(n),a,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,rt.EMPTY_NODE,yt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ag(r,ms(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||wf(r,ut())!=null,ya(e,u,o,t.filter.filtersNodes())}}function RG(t,e){const n=ms(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ke(e)&&!n.getImmediateChild(Ge(e)).isEmpty())?n.getChild(e):null}function mT(t,e,n,r){e.type===gr.MERGE&&e.source.queryId!==null&&(de(ms(t.viewCache_),"We should always have a full cache before handling merges"),de(ig(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=EG(t.processor_,i,e,n,r);return TG(t.processor_,s.viewCache),de(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,AG(t,s.changes,s.viewCache.eventCache.getNode(),null)}function AG(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return rG(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT;function PG(t){de(!gT,"__referenceConstructor has already been defined"),gT=t}function Tv(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return de(s!=null,"SyncTree gave us an op for an invalid query."),mT(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(mT(o,e,n,r));return s}}function Ev(t,e){let n=null;for(const r of t.views.values())n=n||RG(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yT;function DG(t){de(!yT,"__referenceConstructor has already been defined"),yT=t}class vT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mt(null),this.pendingWriteTree_=vG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NG(t,e,n,r,i){return aG(t.pendingWriteTree_,e,n,r,i),i?bh(t,new ps(Bk(),e,n)):[]}function $s(t,e,n=!1){const r=lG(t.pendingWriteTree_,e);if(uG(t.pendingWriteTree_,e)){let s=new mt(null);return r.snap!=null?s=s.set(ut(),!0):Xn(r.children,o=>{s=s.set(new _t(o),!0)}),bh(t,new _f(r.path,s,n))}else return[]}function wh(t,e,n){return bh(t,new ps(Vk(),e,n))}function xG(t,e,n){const r=mt.fromObject(n);return bh(t,new Ka(Vk(),e,r))}function MG(t,e,n,r){const i=rO(t,r);if(i!=null){const s=iO(i),o=s.path,a=s.queryId,l=qn(o,e),u=new ps(jk(a),l,n);return sO(t,o,u)}else return[]}function $G(t,e,n,r){const i=rO(t,r);if(i){const s=iO(i),o=s.path,a=s.queryId,l=qn(o,e),u=mt.fromObject(n),f=new Ka(jk(a),l,u);return sO(t,o,f)}else return[]}function eO(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=qn(o,e),u=Ev(a,l);if(u)return u});return zk(i,e,s,n,!0)}function bh(t,e){return tO(e,t.syncPointTree_,null,Kk(t.pendingWriteTree_,ut()))}function tO(t,e,n,r){if(Ke(t.path))return nO(t,e,n,r);{const i=e.get(ut());n==null&&i!=null&&(n=Ev(i,ut()));let s=[];const o=Ge(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,f=Qk(r,o);s=s.concat(tO(a,l,u,f))}return i&&(s=s.concat(Tv(i,t,r,n))),s}}function nO(t,e,n,r){const i=e.get(ut());n==null&&i!=null&&(n=Ev(i,ut()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Qk(r,o),f=t.operationForChild(o);f&&(s=s.concat(nO(f,a,l,u)))}),i&&(s=s.concat(Tv(i,t,r,n))),s}function rO(t,e){return t.tagToQueryMap.get(e)}function iO(t){const e=t.indexOf("$");return de(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _t(t.substr(0,e))}}function sO(t,e,n){const r=t.syncPointTree_.get(e);de(r,"Missing sync point for query tag that we're tracking");const i=Kk(t.pendingWriteTree_,e);return Tv(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Sv(n)}node(){return this.node_}}class Iv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=jt(this.path_,e);return new Iv(this.syncTree_,n)}node(){return eO(this.syncTree_,this.path_)}}const LG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_T=function(t,e,n){if(!t||typeof t!="object")return t;if(de(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return UG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return FG(t[".sv"],e);de(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},UG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:de(!1,"Unexpected server value: "+t)}},FG=function(t,e,n){t.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&de(!1,"Unexpected increment value: "+r);const i=e.node();if(de(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},BG=function(t,e,n,r){return Cv(e,new Iv(n,t),r)},VG=function(t,e,n){return Cv(t,new Sv(e),n)};function Cv(t,e,n){const r=t.getPriority().val(),i=_T(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=_T(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ut(a,an(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ut(i))),o.forEachChild(fn,(a,l)=>{const u=Cv(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ov(t,e){let n=e instanceof _t?e:new _t(e),r=t,i=Ge(n);for(;i!==null;){const s=oo(r.node.children,i)||{children:{},childCount:0};r=new kv(i,r,s),n=yt(n),i=Ge(n)}return r}function Do(t){return t.node.value}function oO(t,e){t.node.value=e,cg(t)}function aO(t){return t.node.childCount>0}function jG(t){return Do(t)===void 0&&!aO(t)}function Th(t,e){Xn(t.node.children,(n,r)=>{e(new kv(n,t,r))})}function lO(t,e,n,r){n&&!r&&e(t),Th(t,i=>{lO(i,e,!0,r)}),n&&r&&e(t)}function HG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function wl(t){return new _t(t.parent===null?t.name:wl(t.parent)+"/"+t.name)}function cg(t){t.parent!==null&&WG(t.parent,t.name,t)}function WG(t,e,n){const r=jG(n),i=Qr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,cg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,cg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=/[\[\].#$\/\u0000-\u001F\u007F]/,KG=/[\[\].#$\u0000-\u001F\u007F]/,Rd=10*1024*1024,uO=function(t){return typeof t=="string"&&t.length!==0&&!qG.test(t)},YG=function(t){return typeof t=="string"&&t.length!==0&&!KG.test(t)},zG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),YG(t)},cO=function(t,e,n){const r=n instanceof _t?new k6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bi(r)+" with contents = "+e.toString());if(uk(e))throw new Error(t+"contains "+e.toString()+" "+Bi(r));if(typeof e=="string"&&e.length>Rd/3&&Bf(e)>Rd)throw new Error(t+"contains a string greater than "+Rd+" utf8 bytes "+Bi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!uO(o)))throw new Error(t+" contains an invalid key ("+o+") "+Bi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);O6(r,o),cO(t,a,r),R6(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bi(r)+" in addition to actual children.")}},GG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!uO(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!zG(n))throw new Error(oj(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function XG(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Dk(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ss(t,e,n){XG(t,n),JG(t,r=>tr(r,e)||tr(e,r))}function JG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(ZG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ZG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();is&&on("event: "+n.toString()),vl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="repo_interrupt",t5=25;class n5{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vf(),this.transactionQueueTree_=new kv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function r5(t,e,n){if(t.stats_=pv(t.repoInfo_),t.forceRestClient_||X4())t.server_=new yf(t.repoInfo_,(r,i,s,o)=>{wT(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>bT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Br(t.repoInfo_,e,(r,i,s,o)=>{wT(t,r,i,s,o)},r=>{bT(t,r)},r=>{s5(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=r6(t.repoInfo_,()=>new nG(t.stats_,t.server_)),t.infoData_=new X6,t.infoSyncTree_=new vT({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=wh(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Rv(t,"connected",!1),t.serverSyncTree_=new vT({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ss(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function i5(t){const n=t.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fO(t){return LG({timestamp:i5(t)})}function wT(t,e,n,r,i){t.dataUpdateCount++;const s=new _t(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Wc(n,u=>an(u));o=$G(t.serverSyncTree_,s,l,i)}else{const l=an(n);o=MG(t.serverSyncTree_,s,l,i)}else if(r){const l=Wc(n,u=>an(u));o=xG(t.serverSyncTree_,s,l)}else{const l=an(n);o=wh(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Pv(t,s)),Ss(t.eventQueue_,a,o)}function bT(t,e){Rv(t,"connected",e),e===!1&&a5(t)}function s5(t,e){Xn(e,(n,r)=>{Rv(t,n,r)})}function Rv(t,e,n){const r=new _t("/.info/"+e),i=an(n);t.infoData_.updateSnapshot(r,i);const s=wh(t.infoSyncTree_,r,i);Ss(t.eventQueue_,r,s)}function o5(t){return t.nextWriteId_++}function a5(t){hO(t,"onDisconnectEvents");const e=fO(t),n=vf();rg(t.onDisconnect_,ut(),(i,s)=>{const o=BG(i,s,t.serverSyncTree_,e);Fk(n,i,o)});let r=[];rg(n,ut(),(i,s)=>{r=r.concat(wh(t.serverSyncTree_,i,s));const o=f5(t,i);Pv(t,o)}),t.onDisconnect_=vf(),Ss(t.eventQueue_,ut(),r)}function l5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(e5)}function hO(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),on(n,...e)}function dO(t,e,n){return eO(t.serverSyncTree_,e,n)||rt.EMPTY_NODE}function Av(t,e=t.transactionQueueTree_){if(e||Eh(t,e),Do(e)){const n=mO(t,e);de(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&u5(t,wl(e),n)}else aO(e)&&Th(e,n=>{Av(t,n)})}function u5(t,e,n){const r=n.map(u=>u.currentWriteId),i=dO(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];de(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=qn(e,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{hO(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat($s(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&c.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Eh(t,Ov(t.transactionQueueTree_,e)),Av(t,t.transactionQueueTree_),Ss(t.eventQueue_,e,f);for(let h=0;h<c.length;h++)vl(c[h])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{$n("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Pv(t,e)}},o)}function Pv(t,e){const n=pO(t,e),r=wl(n),i=mO(t,n);return c5(t,i,r),r}function c5(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=qn(n,l.path);let f=!1,c;if(de(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,c=l.abortReason,i=i.concat($s(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=t5)f=!0,c="maxretry",i=i.concat($s(t.serverSyncTree_,l.currentWriteId,!0));else{const h=dO(t,l.path,o);l.currentInputSnapshot=h;const d=e[a].update(h.val());if(d!==void 0){cO("transaction failed: Data returned ",d,l.path);let p=an(d);typeof d=="object"&&d!=null&&Qr(d,".priority")||(p=p.updatePriority(h.getPriority()));const O=l.currentWriteId,_=fO(t),m=VG(p,h,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=o5(t),o.splice(o.indexOf(O),1),i=i.concat(NG(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat($s(t.serverSyncTree_,O,!0))}else f=!0,c="nodata",i=i.concat($s(t.serverSyncTree_,l.currentWriteId,!0))}Ss(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(c==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(c),!1,null))))}Eh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vl(r[a]);Av(t,t.transactionQueueTree_)}function pO(t,e){let n,r=t.transactionQueueTree_;for(n=Ge(e);n!==null&&Do(r)===void 0;)r=Ov(r,n),e=yt(e),n=Ge(e);return r}function mO(t,e){const n=[];return gO(t,e,n),n.sort((r,i)=>r.order-i.order),n}function gO(t,e,n){const r=Do(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Th(e,i=>{gO(t,i,n)})}function Eh(t,e){const n=Do(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,oO(e,n.length>0?n:void 0)}Th(e,r=>{Eh(t,r)})}function f5(t,e){const n=wl(pO(t,e)),r=Ov(t.transactionQueueTree_,e);return HG(r,i=>{Ad(t,i)}),Ad(t,r),lO(r,i=>{Ad(t,i)}),n}function Ad(t,e){const n=Do(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(de(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(de(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($s(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?oO(e,void 0):n.length=s+1,Ss(t.eventQueue_,wl(e),i);for(let o=0;o<r.length;o++)vl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function d5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$n(`Invalid query segment '${n}' in query '${t}'`)}return e}const TT=function(t,e){const n=p5(t),r=n.namespace;n.domain==="firebase.com"&&hs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||H4();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new e6(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _t(n.pathString)}},p5=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=h5(t.substring(f,c)));const h=d5(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const d=e.slice(0,u);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ke(this._path)?null:Rk(this._path)}get ref(){return new No(this._repo,this._path)}get _queryIdentifier(){const e=aT(this._queryParams),n=hv(e);return n==="{}"?"default":n}get _queryObject(){return aT(this._queryParams)}isEqual(e){if(e=An(e),!(e instanceof Dv))return!1;const n=this._repo===e._repo,r=Dk(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+C6(this._path)}}class No extends Dv{constructor(e,n){super(e,n,new vv,!1)}get parent(){const e=Pk(this._path);return e===null?null:new No(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}PG(No);DG(No);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="FIREBASE_DATABASE_EMULATOR_HOST",fg={};let g5=!1;function y5(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=TT(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[m5]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=TT(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new eg(eg.OWNER):new Z4(t.name,t.options,e);GG("Invalid Firebase Database URL",o),Ke(o.path)||hs("Database URL must point to the root of a Firebase Database (not including a child path).");const c=_5(a,t,f,new J4(t.name,n));return new w5(c,t)}function v5(t,e){const n=fg[e];(!n||n[t.key]!==t)&&hs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),l5(t),delete n[t.key]}function _5(t,e,n,r){let i=fg[e.name];i||(i={},fg[e.name]=i);let s=i[t.toURLString()];return s&&hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new n5(t,g5,n,r),i[t.toURLString()]=s,s}class w5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(r5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new No(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hs("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){U4(So),or(new Qn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return y5(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Rn(Hb,Wb,t),Rn(Hb,Wb,"esm2017")}Br.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Br.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};b5();const Yl=void 0;const zl=void 0,ET=[{name:"404",path:"/:catchAll(.*)*",file:"C:/Users/david/Documents/Programming/tuskytimev2/pages/404.vue",children:[],meta:Dl,alias:(Dl==null?void 0:Dl.alias)||[],component:()=>Rr(()=>import("./404.f683750f.js"),["404.f683750f.js","404.4f71df2d.css"],import.meta.url).then(t=>t.default||t)},{name:"index",path:"/",file:"C:/Users/david/Documents/Programming/tuskytimev2/pages/index.vue",children:[],meta:Ml,alias:(Ml==null?void 0:Ml.alias)||[],component:()=>Rr(()=>import("./index.f4c1b2bc.js"),["index.f4c1b2bc.js","index.62a1692d.css"],import.meta.url).then(t=>t.default||t)},{name:"study-about",path:"/study/about",file:"C:/Users/david/Documents/Programming/tuskytimev2/pages/study/about/index.vue",children:[],meta:Hl,alias:(Hl==null?void 0:Hl.alias)||[],component:()=>Rr(()=>import("./index.b7c4a1d6.js"),["index.b7c4a1d6.js","index.79591ac8.css"],import.meta.url).then(t=>t.default||t)},{name:"study-home",path:"/study/home",file:"C:/Users/david/Documents/Programming/tuskytimev2/pages/study/home/index.vue",children:[],meta:Wl,alias:(Wl==null?void 0:Wl.alias)||[],component:()=>Rr(()=>import("./index.c82d6f4d.js"),["index.c82d6f4d.js","index.a53f7c20.css"],import.meta.url).then(t=>t.default||t)},{name:"study",path:"/study",file:"C:/Users/david/Documents/Programming/tuskytimev2/pages/study/index.vue",children:[],meta:Yl,alias:(Yl==null?void 0:Yl.alias)||[],component:()=>Rr(()=>import("./index.1ad37ed0.js"),["index.1ad37ed0.js","index.64a855cf.css"],import.meta.url).then(t=>t.default||t)},{name:"study-join",path:"/study/join",file:"C:/Users/david/Documents/Programming/tuskytimev2/pages/study/join/index.vue",children:[],meta:zl,alias:(zl==null?void 0:zl.alias)||[],component:()=>Rr(()=>import("./index.2fef803d.js"),["index.2fef803d.js","index.3265405d.css"],import.meta.url).then(t=>t.default||t)}],T5={},kr={...T5},E5=[],Pd={};function S5(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){const a=i.includes(t.slice(s))?t.slice(s).length:1;let l=i.slice(a);return l[0]!=="/"&&(l="/"+l),g_(l,"")}return g_(n,t)+r+i}const I5=bo(async t=>{var p,T,O,_;let e,n;t.vueApp.component("NuxtPage",Hh),t.vueApp.component("NuxtNestedPage",Hh),t.vueApp.component("NuxtChild",Hh);let r=JP().app.baseURL;kr.hashMode&&!r.includes("#")&&(r+="#");const i=(T=(p=kr.history)==null?void 0:p.call(kr,r))!=null?T:kr.hashMode?gD(r):HE(r),s=(_=(O=kr.routes)==null?void 0:O.call(kr,ET))!=null?_:ET,o=S5(r,window.location),a=ZD({...kr,history:i,routes:s});t.vueApp.use(a);const l=Qu(a.currentRoute.value);a.afterEach((m,w)=>{l.value=w}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const u=Qu(a.resolve(o)),f=()=>{u.value=a.currentRoute.value};t.hook("page:finish",f),a.afterEach((m,w)=>{var R,x,v,k;((x=(R=m.matched[0])==null?void 0:R.components)==null?void 0:x.default)===((k=(v=w.matched[0])==null?void 0:v.components)==null?void 0:k.default)&&f()});const c={};for(const m in u.value)c[m]=ue(()=>u.value[m]);t._route=En(c),t._middleware=t._middleware||{global:[],named:{}};const h=$f();try{[e,n]=KP(()=>a.isReady()),await e,n()}catch(m){si(t,zo,[m])}const d=tN("_layout");return a.beforeEach(async(m,w)=>{var x,v;m.meta=En(m.meta),t.isHydrating&&(m.meta.layout=(x=d.value)!=null?x:m.meta.layout),t._processingMiddleware=!0;const R=new Set([...E5,...t._middleware.global]);for(const k of m.matched){const C=k.meta.middleware;if(!!C)if(Array.isArray(C))for(const F of C)R.add(F);else R.add(C)}for(const k of R){const C=typeof k=="string"?t._middleware.named[k]||await((v=Pd[k])==null?void 0:v.call(Pd).then(H=>H.default||H)):k;if(!C)throw new Error(`Unknown route middleware: '${k}'.`);const F=await si(t,C,[m,w]);if(!t.payload.serverRendered&&t.isHydrating&&(F===!1||F instanceof Error)){const H=F||ep({statusMessage:`Route navigation aborted: ${o}`});return si(t,zo,[H])}if(F||F===!1)return F}}),a.afterEach(async m=>{delete t._processingMiddleware,!t.isHydrating&&h.value&&await si(t,rN),m.matched.length===0&&si(t,zo,[ep({statusCode:404,fatal:!1,statusMessage:`Page not found: ${m.fullPath}`})])}),t.hooks.hookOnce("app:created",async()=>{try{await a.replace({...a.resolve(o),name:void 0,force:!0})}catch(m){si(t,zo,[m])}}),{provide:{router:a}}}),C5=bo(t=>{!hN()||(t.hooks.hook("link:prefetch",e=>U_(e)),Lf().beforeResolve(async(e,n)=>{if(e.path===n.path)return;const r=await U_(e.path);!r||Object.assign(t.payload.data,r.data)}))}),k5=bo(t=>{GS({apiKey:"AIzaSyA62gZmAbAqVdl7ySW9tZlKvIDUBi71ydQ",authDomain:"tuskytime.firebaseapp.com",databaseURL:"https://tuskytime-default-rtdb.firebaseio.com",projectId:"tuskytime",storageBucket:"tuskytime.appspot.com",messagingSenderId:"462748644600",appId:"1:462748644600:web:77801fadbdfac90f37f70d",measurementId:"G-RHMV5QC0XJ"}),console.log("Loaded Firebase Plugin!")}),O5=[SN,xN,XN,I5,C5,k5],ST={__name:"nuxt-root",setup(t){const e=aE(()=>Rr(()=>import("./error-component.ef6270dc.js"),[],import.meta.url).then(s=>s.default||s)),n=tn(),r=()=>n.callHook("app:suspense:resolve");Ji("_route",eS()),n.hooks.callHookWith(s=>s.map(o=>o()),"vue:setup");const i=$f();return fE((s,o,a)=>{n.hooks.callHook("vue:error",s,o,a).catch(l=>console.error("[nuxt] Error in `vue:error` hook",l)),iN(s)&&(s.fatal||s.unhandled)&&si(n,zo,[s])}),(s,o)=>{const a=Pg("App");return W(),He(tE,{onResolve:r},{default:ze(()=>[A(i)?(W(),He(A(e),{key:0,error:A(i)},null,8,["error"])):(W(),He(a,{key:1}))]),_:1})}}},IT={default:aE(()=>Rr(()=>import("./default.408c1ca3.js"),["default.408c1ca3.js","default.e3673aa8.css"],import.meta.url).then(t=>t.default||t))},R5=at({props:{name:{type:[String,Boolean,Object],default:null}},setup(t,e){const n=eS();return()=>{var o,a,l;const r=(a=(o=ht(t.name)?t.name.value:t.name)!=null?o:n.meta.layout)!=null?a:"default",i=r&&r in IT,s=(l=n.meta.layoutTransition)!=null?l:YN;return np(Ir,i&&s,{default:()=>np(IT[r],i,e.slots).default()}).default()}}}),A5={};function P5(t,e){const n=Pg("NuxtPage"),r=R5;return W(),He(r,null,{default:ze(()=>[it(n)]),_:1})}const D5=nx(A5,[["render",P5]]);globalThis.$fetch||(globalThis.$fetch=NP.create({baseURL:MP()}));let CT;const N5=XP(O5);CT=async function(){var i;const n=Boolean((i=window.__NUXT__)==null?void 0:i.serverRendered)?qA(ST):WA(ST);n.component("App",D5);const r=zP({vueApp:n});r.hooks.hookOnce("app:suspense:resolve",()=>{r.isHydrating=!1});try{await QP(r,N5)}catch(s){await r.callHook("app:error",s),r.payload.error=r.payload.error||s}try{await r.hooks.callHook("app:created",n),await r.hooks.callHook("app:beforeMount",n),n.mount("#__nuxt"),await r.hooks.callHook("app:mounted",n),await Ii()}catch(s){await r.callHook("app:error",s),r.payload.error=r.payload.error||s}},CT().catch(t=>{console.error("Error while mounting app:",t)});export{B5 as A,zf as B,Nt as C,Gl as D,L5 as E,Me as F,j5 as G,ze as H,pr as I,Te as J,U5 as K,Yn as L,Fg as M,Rr as _,nx as a,ae as b,He as c,aE as d,M5 as e,Ne as f,ci as g,at as h,tN as i,ue as j,it as k,ht as l,Z as m,Jn as n,W as o,x5 as p,iy as q,me as r,F5 as s,Gt as t,A as u,aN as v,$5 as w,NS as x,V5 as y,H5 as z};
